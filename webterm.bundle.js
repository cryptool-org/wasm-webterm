/*! For license information please see webterm.bundle.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.WasmWebTerm=e():t.WasmWebTerm=e()}(self,(()=>(()=>{var t={788:(t,e,r)=>{"use strict";const n=r(983),i=r(32),o=r(975),s=r(621),a={hrtime:r(918).default(i.default),exit:t=>{throw new s.WASIExitError(t)},kill:t=>{throw new s.WASIKillError(t)},randomFillSync:n.randomFillSync,isTTY:()=>!0,path:o,fs:null};e.A=a},524:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(395);e.WASI_ESUCCESS=0,e.WASI_E2BIG=1,e.WASI_EACCES=2,e.WASI_EADDRINUSE=3,e.WASI_EADDRNOTAVAIL=4,e.WASI_EAFNOSUPPORT=5,e.WASI_EAGAIN=6,e.WASI_EALREADY=7,e.WASI_EBADF=8,e.WASI_EBADMSG=9,e.WASI_EBUSY=10,e.WASI_ECANCELED=11,e.WASI_ECHILD=12,e.WASI_ECONNABORTED=13,e.WASI_ECONNREFUSED=14,e.WASI_ECONNRESET=15,e.WASI_EDEADLK=16,e.WASI_EDESTADDRREQ=17,e.WASI_EDOM=18,e.WASI_EDQUOT=19,e.WASI_EEXIST=20,e.WASI_EFAULT=21,e.WASI_EFBIG=22,e.WASI_EHOSTUNREACH=23,e.WASI_EIDRM=24,e.WASI_EILSEQ=25,e.WASI_EINPROGRESS=26,e.WASI_EINTR=27,e.WASI_EINVAL=28,e.WASI_EIO=29,e.WASI_EISCONN=30,e.WASI_EISDIR=31,e.WASI_ELOOP=32,e.WASI_EMFILE=33,e.WASI_EMLINK=34,e.WASI_EMSGSIZE=35,e.WASI_EMULTIHOP=36,e.WASI_ENAMETOOLONG=37,e.WASI_ENETDOWN=38,e.WASI_ENETRESET=39,e.WASI_ENETUNREACH=40,e.WASI_ENFILE=41,e.WASI_ENOBUFS=42,e.WASI_ENODEV=43,e.WASI_ENOENT=44,e.WASI_ENOEXEC=45,e.WASI_ENOLCK=46,e.WASI_ENOLINK=47,e.WASI_ENOMEM=48,e.WASI_ENOMSG=49,e.WASI_ENOPROTOOPT=50,e.WASI_ENOSPC=51,e.WASI_ENOSYS=52,e.WASI_ENOTCONN=53,e.WASI_ENOTDIR=54,e.WASI_ENOTEMPTY=55,e.WASI_ENOTRECOVERABLE=56,e.WASI_ENOTSOCK=57,e.WASI_ENOTSUP=58,e.WASI_ENOTTY=59,e.WASI_ENXIO=60,e.WASI_EOVERFLOW=61,e.WASI_EOWNERDEAD=62,e.WASI_EPERM=63,e.WASI_EPIPE=64,e.WASI_EPROTO=65,e.WASI_EPROTONOSUPPORT=66,e.WASI_EPROTOTYPE=67,e.WASI_ERANGE=68,e.WASI_EROFS=69,e.WASI_ESPIPE=70,e.WASI_ESRCH=71,e.WASI_ESTALE=72,e.WASI_ETIMEDOUT=73,e.WASI_ETXTBSY=74,e.WASI_EXDEV=75,e.WASI_ENOTCAPABLE=76,e.WASI_SIGABRT=0,e.WASI_SIGALRM=1,e.WASI_SIGBUS=2,e.WASI_SIGCHLD=3,e.WASI_SIGCONT=4,e.WASI_SIGFPE=5,e.WASI_SIGHUP=6,e.WASI_SIGILL=7,e.WASI_SIGINT=8,e.WASI_SIGKILL=9,e.WASI_SIGPIPE=10,e.WASI_SIGQUIT=11,e.WASI_SIGSEGV=12,e.WASI_SIGSTOP=13,e.WASI_SIGTERM=14,e.WASI_SIGTRAP=15,e.WASI_SIGTSTP=16,e.WASI_SIGTTIN=17,e.WASI_SIGTTOU=18,e.WASI_SIGURG=19,e.WASI_SIGUSR1=20,e.WASI_SIGUSR2=21,e.WASI_SIGVTALRM=22,e.WASI_SIGXCPU=23,e.WASI_SIGXFSZ=24,e.WASI_FILETYPE_UNKNOWN=0,e.WASI_FILETYPE_BLOCK_DEVICE=1,e.WASI_FILETYPE_CHARACTER_DEVICE=2,e.WASI_FILETYPE_DIRECTORY=3,e.WASI_FILETYPE_REGULAR_FILE=4,e.WASI_FILETYPE_SOCKET_DGRAM=5,e.WASI_FILETYPE_SOCKET_STREAM=6,e.WASI_FILETYPE_SYMBOLIC_LINK=7,e.WASI_FDFLAG_APPEND=1,e.WASI_FDFLAG_DSYNC=2,e.WASI_FDFLAG_NONBLOCK=4,e.WASI_FDFLAG_RSYNC=8,e.WASI_FDFLAG_SYNC=16,e.WASI_RIGHT_FD_DATASYNC=n.BigIntPolyfill(1),e.WASI_RIGHT_FD_READ=n.BigIntPolyfill(2),e.WASI_RIGHT_FD_SEEK=n.BigIntPolyfill(4),e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS=n.BigIntPolyfill(8),e.WASI_RIGHT_FD_SYNC=n.BigIntPolyfill(16),e.WASI_RIGHT_FD_TELL=n.BigIntPolyfill(32),e.WASI_RIGHT_FD_WRITE=n.BigIntPolyfill(64),e.WASI_RIGHT_FD_ADVISE=n.BigIntPolyfill(128),e.WASI_RIGHT_FD_ALLOCATE=n.BigIntPolyfill(256),e.WASI_RIGHT_PATH_CREATE_DIRECTORY=n.BigIntPolyfill(512),e.WASI_RIGHT_PATH_CREATE_FILE=n.BigIntPolyfill(1024),e.WASI_RIGHT_PATH_LINK_SOURCE=n.BigIntPolyfill(2048),e.WASI_RIGHT_PATH_LINK_TARGET=n.BigIntPolyfill(4096),e.WASI_RIGHT_PATH_OPEN=n.BigIntPolyfill(8192),e.WASI_RIGHT_FD_READDIR=n.BigIntPolyfill(16384),e.WASI_RIGHT_PATH_READLINK=n.BigIntPolyfill(32768),e.WASI_RIGHT_PATH_RENAME_SOURCE=n.BigIntPolyfill(65536),e.WASI_RIGHT_PATH_RENAME_TARGET=n.BigIntPolyfill(131072),e.WASI_RIGHT_PATH_FILESTAT_GET=n.BigIntPolyfill(262144),e.WASI_RIGHT_PATH_FILESTAT_SET_SIZE=n.BigIntPolyfill(524288),e.WASI_RIGHT_PATH_FILESTAT_SET_TIMES=n.BigIntPolyfill(1048576),e.WASI_RIGHT_FD_FILESTAT_GET=n.BigIntPolyfill(2097152),e.WASI_RIGHT_FD_FILESTAT_SET_SIZE=n.BigIntPolyfill(4194304),e.WASI_RIGHT_FD_FILESTAT_SET_TIMES=n.BigIntPolyfill(8388608),e.WASI_RIGHT_PATH_SYMLINK=n.BigIntPolyfill(16777216),e.WASI_RIGHT_PATH_REMOVE_DIRECTORY=n.BigIntPolyfill(33554432),e.WASI_RIGHT_PATH_UNLINK_FILE=n.BigIntPolyfill(67108864),e.WASI_RIGHT_POLL_FD_READWRITE=n.BigIntPolyfill(134217728),e.WASI_RIGHT_SOCK_SHUTDOWN=n.BigIntPolyfill(268435456),e.RIGHTS_ALL=e.WASI_RIGHT_FD_DATASYNC|e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_SEEK|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_SYNC|e.WASI_RIGHT_FD_TELL|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_ADVISE|e.WASI_RIGHT_FD_ALLOCATE|e.WASI_RIGHT_PATH_CREATE_DIRECTORY|e.WASI_RIGHT_PATH_CREATE_FILE|e.WASI_RIGHT_PATH_LINK_SOURCE|e.WASI_RIGHT_PATH_LINK_TARGET|e.WASI_RIGHT_PATH_OPEN|e.WASI_RIGHT_FD_READDIR|e.WASI_RIGHT_PATH_READLINK|e.WASI_RIGHT_PATH_RENAME_SOURCE|e.WASI_RIGHT_PATH_RENAME_TARGET|e.WASI_RIGHT_PATH_FILESTAT_GET|e.WASI_RIGHT_PATH_FILESTAT_SET_SIZE|e.WASI_RIGHT_PATH_FILESTAT_SET_TIMES|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_FD_FILESTAT_SET_TIMES|e.WASI_RIGHT_FD_FILESTAT_SET_SIZE|e.WASI_RIGHT_PATH_SYMLINK|e.WASI_RIGHT_PATH_UNLINK_FILE|e.WASI_RIGHT_PATH_REMOVE_DIRECTORY|e.WASI_RIGHT_POLL_FD_READWRITE|e.WASI_RIGHT_SOCK_SHUTDOWN,e.RIGHTS_BLOCK_DEVICE_BASE=e.RIGHTS_ALL,e.RIGHTS_BLOCK_DEVICE_INHERITING=e.RIGHTS_ALL,e.RIGHTS_CHARACTER_DEVICE_BASE=e.RIGHTS_ALL,e.RIGHTS_CHARACTER_DEVICE_INHERITING=e.RIGHTS_ALL,e.RIGHTS_REGULAR_FILE_BASE=e.WASI_RIGHT_FD_DATASYNC|e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_SEEK|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_SYNC|e.WASI_RIGHT_FD_TELL|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_ADVISE|e.WASI_RIGHT_FD_ALLOCATE|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_FD_FILESTAT_SET_SIZE|e.WASI_RIGHT_FD_FILESTAT_SET_TIMES|e.WASI_RIGHT_POLL_FD_READWRITE,e.RIGHTS_REGULAR_FILE_INHERITING=n.BigIntPolyfill(0),e.RIGHTS_DIRECTORY_BASE=e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_SYNC|e.WASI_RIGHT_FD_ADVISE|e.WASI_RIGHT_PATH_CREATE_DIRECTORY|e.WASI_RIGHT_PATH_CREATE_FILE|e.WASI_RIGHT_PATH_LINK_SOURCE|e.WASI_RIGHT_PATH_LINK_TARGET|e.WASI_RIGHT_PATH_OPEN|e.WASI_RIGHT_FD_READDIR|e.WASI_RIGHT_PATH_READLINK|e.WASI_RIGHT_PATH_RENAME_SOURCE|e.WASI_RIGHT_PATH_RENAME_TARGET|e.WASI_RIGHT_PATH_FILESTAT_GET|e.WASI_RIGHT_PATH_FILESTAT_SET_SIZE|e.WASI_RIGHT_PATH_FILESTAT_SET_TIMES|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_FD_FILESTAT_SET_TIMES|e.WASI_RIGHT_PATH_SYMLINK|e.WASI_RIGHT_PATH_UNLINK_FILE|e.WASI_RIGHT_PATH_REMOVE_DIRECTORY|e.WASI_RIGHT_POLL_FD_READWRITE,e.RIGHTS_DIRECTORY_INHERITING=e.RIGHTS_DIRECTORY_BASE|e.RIGHTS_REGULAR_FILE_BASE,e.RIGHTS_SOCKET_BASE=e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_POLL_FD_READWRITE|e.WASI_RIGHT_SOCK_SHUTDOWN,e.RIGHTS_SOCKET_INHERITING=e.RIGHTS_ALL,e.RIGHTS_TTY_BASE=e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_POLL_FD_READWRITE,e.RIGHTS_TTY_INHERITING=n.BigIntPolyfill(0),e.WASI_CLOCK_REALTIME=0,e.WASI_CLOCK_MONOTONIC=1,e.WASI_CLOCK_PROCESS_CPUTIME_ID=2,e.WASI_CLOCK_THREAD_CPUTIME_ID=3,e.WASI_EVENTTYPE_CLOCK=0,e.WASI_EVENTTYPE_FD_READ=1,e.WASI_EVENTTYPE_FD_WRITE=2,e.WASI_FILESTAT_SET_ATIM=1,e.WASI_FILESTAT_SET_ATIM_NOW=2,e.WASI_FILESTAT_SET_MTIM=4,e.WASI_FILESTAT_SET_MTIM_NOW=8,e.WASI_O_CREAT=1,e.WASI_O_DIRECTORY=2,e.WASI_O_EXCL=4,e.WASI_O_TRUNC=8,e.WASI_PREOPENTYPE_DIR=0,e.WASI_DIRCOOKIE_START=0,e.WASI_STDIN_FILENO=0,e.WASI_STDOUT_FILENO=1,e.WASI_STDERR_FILENO=2,e.WASI_WHENCE_SET=0,e.WASI_WHENCE_CUR=1,e.WASI_WHENCE_END=2,e.ERROR_MAP={E2BIG:e.WASI_E2BIG,EACCES:e.WASI_EACCES,EADDRINUSE:e.WASI_EADDRINUSE,EADDRNOTAVAIL:e.WASI_EADDRNOTAVAIL,EAFNOSUPPORT:e.WASI_EAFNOSUPPORT,EALREADY:e.WASI_EALREADY,EAGAIN:e.WASI_EAGAIN,EBADF:e.WASI_EBADF,EBADMSG:e.WASI_EBADMSG,EBUSY:e.WASI_EBUSY,ECANCELED:e.WASI_ECANCELED,ECHILD:e.WASI_ECHILD,ECONNABORTED:e.WASI_ECONNABORTED,ECONNREFUSED:e.WASI_ECONNREFUSED,ECONNRESET:e.WASI_ECONNRESET,EDEADLOCK:e.WASI_EDEADLK,EDESTADDRREQ:e.WASI_EDESTADDRREQ,EDOM:e.WASI_EDOM,EDQUOT:e.WASI_EDQUOT,EEXIST:e.WASI_EEXIST,EFAULT:e.WASI_EFAULT,EFBIG:e.WASI_EFBIG,EHOSTDOWN:e.WASI_EHOSTUNREACH,EHOSTUNREACH:e.WASI_EHOSTUNREACH,EIDRM:e.WASI_EIDRM,EILSEQ:e.WASI_EILSEQ,EINPROGRESS:e.WASI_EINPROGRESS,EINTR:e.WASI_EINTR,EINVAL:e.WASI_EINVAL,EIO:e.WASI_EIO,EISCONN:e.WASI_EISCONN,EISDIR:e.WASI_EISDIR,ELOOP:e.WASI_ELOOP,EMFILE:e.WASI_EMFILE,EMLINK:e.WASI_EMLINK,EMSGSIZE:e.WASI_EMSGSIZE,EMULTIHOP:e.WASI_EMULTIHOP,ENAMETOOLONG:e.WASI_ENAMETOOLONG,ENETDOWN:e.WASI_ENETDOWN,ENETRESET:e.WASI_ENETRESET,ENETUNREACH:e.WASI_ENETUNREACH,ENFILE:e.WASI_ENFILE,ENOBUFS:e.WASI_ENOBUFS,ENODEV:e.WASI_ENODEV,ENOENT:e.WASI_ENOENT,ENOEXEC:e.WASI_ENOEXEC,ENOLCK:e.WASI_ENOLCK,ENOLINK:e.WASI_ENOLINK,ENOMEM:e.WASI_ENOMEM,ENOMSG:e.WASI_ENOMSG,ENOPROTOOPT:e.WASI_ENOPROTOOPT,ENOSPC:e.WASI_ENOSPC,ENOSYS:e.WASI_ENOSYS,ENOTCONN:e.WASI_ENOTCONN,ENOTDIR:e.WASI_ENOTDIR,ENOTEMPTY:e.WASI_ENOTEMPTY,ENOTRECOVERABLE:e.WASI_ENOTRECOVERABLE,ENOTSOCK:e.WASI_ENOTSOCK,ENOTTY:e.WASI_ENOTTY,ENXIO:e.WASI_ENXIO,EOVERFLOW:e.WASI_EOVERFLOW,EOWNERDEAD:e.WASI_EOWNERDEAD,EPERM:e.WASI_EPERM,EPIPE:e.WASI_EPIPE,EPROTO:e.WASI_EPROTO,EPROTONOSUPPORT:e.WASI_EPROTONOSUPPORT,EPROTOTYPE:e.WASI_EPROTOTYPE,ERANGE:e.WASI_ERANGE,EROFS:e.WASI_EROFS,ESPIPE:e.WASI_ESPIPE,ESRCH:e.WASI_ESRCH,ESTALE:e.WASI_ESTALE,ETIMEDOUT:e.WASI_ETIMEDOUT,ETXTBSY:e.WASI_ETXTBSY,EXDEV:e.WASI_EXDEV},e.SIGNAL_MAP={[e.WASI_SIGHUP]:"SIGHUP",[e.WASI_SIGINT]:"SIGINT",[e.WASI_SIGQUIT]:"SIGQUIT",[e.WASI_SIGILL]:"SIGILL",[e.WASI_SIGTRAP]:"SIGTRAP",[e.WASI_SIGABRT]:"SIGABRT",[e.WASI_SIGBUS]:"SIGBUS",[e.WASI_SIGFPE]:"SIGFPE",[e.WASI_SIGKILL]:"SIGKILL",[e.WASI_SIGUSR1]:"SIGUSR1",[e.WASI_SIGSEGV]:"SIGSEGV",[e.WASI_SIGUSR2]:"SIGUSR2",[e.WASI_SIGPIPE]:"SIGPIPE",[e.WASI_SIGALRM]:"SIGALRM",[e.WASI_SIGTERM]:"SIGTERM",[e.WASI_SIGCHLD]:"SIGCHLD",[e.WASI_SIGCONT]:"SIGCONT",[e.WASI_SIGSTOP]:"SIGSTOP",[e.WASI_SIGTSTP]:"SIGTSTP",[e.WASI_SIGTTIN]:"SIGTTIN",[e.WASI_SIGTTOU]:"SIGTTOU",[e.WASI_SIGURG]:"SIGURG",[e.WASI_SIGXCPU]:"SIGXCPU",[e.WASI_SIGXFSZ]:"SIGXFSZ",[e.WASI_SIGVTALRM]:"SIGVTALRM"}},621:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(395),i=r(137),o=r(10);let s;const a=r(524),f=a.WASI_RIGHT_FD_DATASYNC|a.WASI_RIGHT_FD_READ|a.WASI_RIGHT_FD_SYNC|a.WASI_RIGHT_FD_ADVISE|a.WASI_RIGHT_FD_FILESTAT_GET|a.WASI_RIGHT_POLL_FD_READWRITE,u=a.WASI_RIGHT_FD_DATASYNC|a.WASI_RIGHT_FD_WRITE|a.WASI_RIGHT_FD_SYNC|a.WASI_RIGHT_FD_ADVISE|a.WASI_RIGHT_FD_FILESTAT_GET|a.WASI_RIGHT_POLL_FD_READWRITE,h=u,l=t=>{const e=Math.trunc(t),r=n.BigIntPolyfill(Math.round(1e6*(t-e)));return n.BigIntPolyfill(e)*n.BigIntPolyfill(1e6)+r},c=t=>{"number"==typeof t&&(t=Math.trunc(t));const e=n.BigIntPolyfill(t);return Number(e/n.BigIntPolyfill(1e6))},p=t=>(...e)=>{try{return t(...e)}catch(t){if(t&&t.code&&"string"==typeof t.code)return a.ERROR_MAP[t.code]||a.WASI_EINVAL;if(t instanceof g)return t.errno;throw t}},d=(t,e)=>{const r=t.FD_MAP.get(e);if(!r)throw new g(a.WASI_EBADF);if(void 0===r.filetype){const n=t.bindings.fs.fstatSync(r.real),{filetype:i,rightsBase:o,rightsInheriting:s}=_(t,e,n);r.filetype=i,r.rights||(r.rights={base:o,inheriting:s})}return r},_=(t,e,r)=>{switch(!0){case r.isBlockDevice():return{filetype:a.WASI_FILETYPE_BLOCK_DEVICE,rightsBase:a.RIGHTS_BLOCK_DEVICE_BASE,rightsInheriting:a.RIGHTS_BLOCK_DEVICE_INHERITING};case r.isCharacterDevice():{const r=a.WASI_FILETYPE_CHARACTER_DEVICE;return void 0!==e&&t.bindings.isTTY(e)?{filetype:r,rightsBase:a.RIGHTS_TTY_BASE,rightsInheriting:a.RIGHTS_TTY_INHERITING}:{filetype:r,rightsBase:a.RIGHTS_CHARACTER_DEVICE_BASE,rightsInheriting:a.RIGHTS_CHARACTER_DEVICE_INHERITING}}case r.isDirectory():return{filetype:a.WASI_FILETYPE_DIRECTORY,rightsBase:a.RIGHTS_DIRECTORY_BASE,rightsInheriting:a.RIGHTS_DIRECTORY_INHERITING};case r.isFIFO():return{filetype:a.WASI_FILETYPE_SOCKET_STREAM,rightsBase:a.RIGHTS_SOCKET_BASE,rightsInheriting:a.RIGHTS_SOCKET_INHERITING};case r.isFile():return{filetype:a.WASI_FILETYPE_REGULAR_FILE,rightsBase:a.RIGHTS_REGULAR_FILE_BASE,rightsInheriting:a.RIGHTS_REGULAR_FILE_INHERITING};case r.isSocket():return{filetype:a.WASI_FILETYPE_SOCKET_STREAM,rightsBase:a.RIGHTS_SOCKET_BASE,rightsInheriting:a.RIGHTS_SOCKET_INHERITING};case r.isSymbolicLink():return{filetype:a.WASI_FILETYPE_SYMBOLIC_LINK,rightsBase:n.BigIntPolyfill(0),rightsInheriting:n.BigIntPolyfill(0)};default:return{filetype:a.WASI_FILETYPE_UNKNOWN,rightsBase:n.BigIntPolyfill(0),rightsInheriting:n.BigIntPolyfill(0)}}};class g extends Error{constructor(t){super(),this.errno=t,Object.setPrototypeOf(this,g.prototype)}}e.WASIError=g;class y extends Error{constructor(t){super(`WASI Exit error: ${t}`),this.code=t,Object.setPrototypeOf(this,y.prototype)}}e.WASIExitError=y;class m extends Error{constructor(t){super(`WASI Kill signal: ${t}`),this.signal=t,Object.setPrototypeOf(this,m.prototype)}}e.WASIKillError=m;class E{constructor(t){let e={};t&&t.preopens?e=t.preopens:t&&t.preopenDirectories&&(e=t.preopenDirectories);let r={};t&&t.env&&(r=t.env);let i=[];t&&t.args&&(i=t.args);let y=s;t&&t.bindings&&(y=t.bindings),this.memory=void 0,this.view=void 0,this.bindings=y,this.FD_MAP=new Map([[a.WASI_STDIN_FILENO,{real:0,filetype:a.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:f,inheriting:n.BigIntPolyfill(0)},path:void 0}],[a.WASI_STDOUT_FILENO,{real:1,filetype:a.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:u,inheriting:n.BigIntPolyfill(0)},path:void 0}],[a.WASI_STDERR_FILENO,{real:2,filetype:a.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:h,inheriting:n.BigIntPolyfill(0)},path:void 0}]]);let m=this.bindings.fs,E=this.bindings.path;for(const[t,r]of Object.entries(e)){const e=m.openSync(r,m.constants.O_RDONLY),n=[...this.FD_MAP.keys()].reverse()[0]+1;this.FD_MAP.set(n,{real:e,filetype:a.WASI_FILETYPE_DIRECTORY,rights:{base:a.RIGHTS_DIRECTORY_BASE,inheriting:a.RIGHTS_DIRECTORY_INHERITING},fakePath:t,path:r})}const S=(t,e)=>(this.refreshMemory(),Array.from({length:e},((e,r)=>{const n=t+8*r,i=this.view.getUint32(n,!0),o=this.view.getUint32(n+4,!0);return new Uint8Array(this.memory.buffer,i,o)}))),I=(t,e)=>{const r=d(this,t);if(e!==n.BigIntPolyfill(0)&&(r.rights.base&e)===n.BigIntPolyfill(0))throw new g(a.WASI_EPERM);return r},w=y.hrtime(),A=t=>{switch(t){case a.WASI_CLOCK_MONOTONIC:return y.hrtime();case a.WASI_CLOCK_REALTIME:return l(Date.now());case a.WASI_CLOCK_PROCESS_CPUTIME_ID:case a.WASI_CLOCK_THREAD_CPUTIME_ID:return y.hrtime()-w;default:return null}};this.wasiImport={args_get:(t,e)=>{this.refreshMemory();let r=t,n=e;return i.forEach((t=>{this.view.setUint32(r,n,!0),r+=4,n+=o.default.from(this.memory.buffer).write(`${t}\0`,n)})),a.WASI_ESUCCESS},args_sizes_get:(t,e)=>{this.refreshMemory(),this.view.setUint32(t,i.length,!0);const r=i.reduce(((t,e)=>t+o.default.byteLength(e)+1),0);return this.view.setUint32(e,r,!0),a.WASI_ESUCCESS},environ_get:(t,e)=>{this.refreshMemory();let n=t,i=e;return Object.entries(r).forEach((([t,e])=>{this.view.setUint32(n,i,!0),n+=4,i+=o.default.from(this.memory.buffer).write(`${t}=${e}\0`,i)})),a.WASI_ESUCCESS},environ_sizes_get:(t,e)=>{this.refreshMemory();const n=Object.entries(r).map((([t,e])=>`${t}=${e}\0`)),i=n.reduce(((t,e)=>t+o.default.byteLength(e)),0);return this.view.setUint32(t,n.length,!0),this.view.setUint32(e,i,!0),a.WASI_ESUCCESS},clock_res_get:(t,e)=>{let r;switch(t){case a.WASI_CLOCK_MONOTONIC:case a.WASI_CLOCK_PROCESS_CPUTIME_ID:case a.WASI_CLOCK_THREAD_CPUTIME_ID:r=n.BigIntPolyfill(1);break;case a.WASI_CLOCK_REALTIME:r=n.BigIntPolyfill(1e3)}return this.view.setBigUint64(e,r),a.WASI_ESUCCESS},clock_time_get:(t,e,r)=>{this.refreshMemory();const i=A(t);return null===i?a.WASI_EINVAL:(this.view.setBigUint64(r,n.BigIntPolyfill(i),!0),a.WASI_ESUCCESS)},fd_advise:p(((t,e,r,n)=>(I(t,a.WASI_RIGHT_FD_ADVISE),a.WASI_ENOSYS))),fd_allocate:p(((t,e,r)=>(I(t,a.WASI_RIGHT_FD_ALLOCATE),a.WASI_ENOSYS))),fd_close:p((t=>{const e=I(t,n.BigIntPolyfill(0));return m.closeSync(e.real),this.FD_MAP.delete(t),a.WASI_ESUCCESS})),fd_datasync:p((t=>{const e=I(t,a.WASI_RIGHT_FD_DATASYNC);return m.fdatasyncSync(e.real),a.WASI_ESUCCESS})),fd_fdstat_get:p(((t,e)=>{const r=I(t,n.BigIntPolyfill(0));return this.refreshMemory(),this.view.setUint8(e,r.filetype),this.view.setUint16(e+2,0,!0),this.view.setUint16(e+4,0,!0),this.view.setBigUint64(e+8,n.BigIntPolyfill(r.rights.base),!0),this.view.setBigUint64(e+8+8,n.BigIntPolyfill(r.rights.inheriting),!0),a.WASI_ESUCCESS})),fd_fdstat_set_flags:p(((t,e)=>(I(t,a.WASI_RIGHT_FD_FDSTAT_SET_FLAGS),a.WASI_ENOSYS))),fd_fdstat_set_rights:p(((t,e,r)=>{const i=I(t,n.BigIntPolyfill(0));return(i.rights.base|e)>i.rights.base||(i.rights.inheriting|r)>i.rights.inheriting?a.WASI_EPERM:(i.rights.base=e,i.rights.inheriting=r,a.WASI_ESUCCESS)})),fd_filestat_get:p(((t,e)=>{const r=I(t,a.WASI_RIGHT_FD_FILESTAT_GET),i=m.fstatSync(r.real);return this.refreshMemory(),this.view.setBigUint64(e,n.BigIntPolyfill(i.dev),!0),e+=8,this.view.setBigUint64(e,n.BigIntPolyfill(i.ino),!0),e+=8,this.view.setUint8(e,r.filetype),e+=8,this.view.setBigUint64(e,n.BigIntPolyfill(i.nlink),!0),e+=8,this.view.setBigUint64(e,n.BigIntPolyfill(i.size),!0),e+=8,this.view.setBigUint64(e,l(i.atimeMs),!0),e+=8,this.view.setBigUint64(e,l(i.mtimeMs),!0),e+=8,this.view.setBigUint64(e,l(i.ctimeMs),!0),a.WASI_ESUCCESS})),fd_filestat_set_size:p(((t,e)=>{const r=I(t,a.WASI_RIGHT_FD_FILESTAT_SET_SIZE);return m.ftruncateSync(r.real,Number(e)),a.WASI_ESUCCESS})),fd_filestat_set_times:p(((t,e,r,n)=>{const i=I(t,a.WASI_RIGHT_FD_FILESTAT_SET_TIMES),o=m.fstatSync(i.real);let s=o.atime,f=o.mtime;const u=c(A(a.WASI_CLOCK_REALTIME)),h=a.WASI_FILESTAT_SET_ATIM|a.WASI_FILESTAT_SET_ATIM_NOW;if((n&h)===h)return a.WASI_EINVAL;const l=a.WASI_FILESTAT_SET_MTIM|a.WASI_FILESTAT_SET_MTIM_NOW;return(n&l)===l?a.WASI_EINVAL:((n&a.WASI_FILESTAT_SET_ATIM)===a.WASI_FILESTAT_SET_ATIM?s=c(e):(n&a.WASI_FILESTAT_SET_ATIM_NOW)===a.WASI_FILESTAT_SET_ATIM_NOW&&(s=u),(n&a.WASI_FILESTAT_SET_MTIM)===a.WASI_FILESTAT_SET_MTIM?f=c(r):(n&a.WASI_FILESTAT_SET_MTIM_NOW)===a.WASI_FILESTAT_SET_MTIM_NOW&&(f=u),m.futimesSync(i.real,new Date(s),new Date(f)),a.WASI_ESUCCESS)})),fd_prestat_get:p(((t,e)=>{const r=I(t,n.BigIntPolyfill(0));return r.path?(this.refreshMemory(),this.view.setUint8(e,a.WASI_PREOPENTYPE_DIR),this.view.setUint32(e+4,o.default.byteLength(r.fakePath),!0),a.WASI_ESUCCESS):a.WASI_EINVAL})),fd_prestat_dir_name:p(((t,e,r)=>{const i=I(t,n.BigIntPolyfill(0));return i.path?(this.refreshMemory(),o.default.from(this.memory.buffer).write(i.fakePath,e,r,"utf8"),a.WASI_ESUCCESS):a.WASI_EINVAL})),fd_pwrite:p(((t,e,r,n,i)=>{const o=I(t,a.WASI_RIGHT_FD_WRITE|a.WASI_RIGHT_FD_SEEK);let s=0;return S(e,r).forEach((t=>{let e=0;for(;e<t.byteLength;)e+=m.writeSync(o.real,t,e,t.byteLength-e,Number(n)+s+e);s+=e})),this.view.setUint32(i,s,!0),a.WASI_ESUCCESS})),fd_write:p(((t,e,r,i)=>{const o=I(t,a.WASI_RIGHT_FD_WRITE);let s=0;return S(e,r).forEach((t=>{let e=0;for(;e<t.byteLength;){const r=m.writeSync(o.real,t,e,t.byteLength-e,o.offset?Number(o.offset):null);o.offset&&(o.offset+=n.BigIntPolyfill(r)),e+=r}s+=e})),this.view.setUint32(i,s,!0),a.WASI_ESUCCESS})),fd_pread:p(((t,e,r,n,i)=>{const o=I(t,a.WASI_RIGHT_FD_READ|a.WASI_RIGHT_FD_SEEK);let s=0;t:for(const t of S(e,r)){let e=0;for(;e<t.byteLength;){const r=t.byteLength-e,i=m.readSync(o.real,t,e,t.byteLength-e,Number(n)+s+e);if(e+=i,s+=i,0===i||i<r)break t}s+=e}return this.view.setUint32(i,s,!0),a.WASI_ESUCCESS})),fd_read:p(((t,e,r,i)=>{const o=I(t,a.WASI_RIGHT_FD_READ),s=0===o.real;let f=0;t:for(const t of S(e,r)){let e=0;for(;e<t.byteLength;){let r=t.byteLength-e,i=s||void 0===o.offset?null:Number(o.offset),a=m.readSync(o.real,t,e,r,i);if(s||(o.offset=(o.offset?o.offset:n.BigIntPolyfill(0))+n.BigIntPolyfill(a)),e+=a,f+=a,0===a||a<r)break t}}return this.view.setUint32(i,f,!0),a.WASI_ESUCCESS})),fd_readdir:p(((t,e,r,i,s)=>{const f=I(t,a.WASI_RIGHT_FD_READDIR);this.refreshMemory();const u=m.readdirSync(f.path,{withFileTypes:!0}),h=e;for(let t=Number(i);t<u.length;t+=1){const i=u[t];let s=o.default.byteLength(i.name);if(e-h>r)break;if(this.view.setBigUint64(e,n.BigIntPolyfill(t+1),!0),(e+=8)-h>r)break;const l=m.statSync(E.resolve(f.path,i.name));if(this.view.setBigUint64(e,n.BigIntPolyfill(l.ino),!0),(e+=8)-h>r)break;if(this.view.setUint32(e,s,!0),(e+=4)-h>r)break;let c;switch(!0){case l.isBlockDevice():c=a.WASI_FILETYPE_BLOCK_DEVICE;break;case l.isCharacterDevice():c=a.WASI_FILETYPE_CHARACTER_DEVICE;break;case l.isDirectory():c=a.WASI_FILETYPE_DIRECTORY;break;case l.isFIFO():c=a.WASI_FILETYPE_SOCKET_STREAM;break;case l.isFile():c=a.WASI_FILETYPE_REGULAR_FILE;break;case l.isSocket():c=a.WASI_FILETYPE_SOCKET_STREAM;break;case l.isSymbolicLink():c=a.WASI_FILETYPE_SYMBOLIC_LINK;break;default:c=a.WASI_FILETYPE_UNKNOWN}if(this.view.setUint8(e,c),e+=1,(e+=3)+s>=h+r)break;o.default.from(this.memory.buffer).write(i.name,e),e+=s}const l=e-h;return this.view.setUint32(s,Math.min(l,r),!0),a.WASI_ESUCCESS})),fd_renumber:p(((t,e)=>(I(t,n.BigIntPolyfill(0)),I(e,n.BigIntPolyfill(0)),m.closeSync(this.FD_MAP.get(t).real),this.FD_MAP.set(t,this.FD_MAP.get(e)),this.FD_MAP.delete(e),a.WASI_ESUCCESS))),fd_seek:p(((t,e,r,i)=>{const o=I(t,a.WASI_RIGHT_FD_SEEK);switch(this.refreshMemory(),r){case a.WASI_WHENCE_CUR:o.offset=(o.offset?o.offset:n.BigIntPolyfill(0))+n.BigIntPolyfill(e);break;case a.WASI_WHENCE_END:const{size:t}=m.fstatSync(o.real);o.offset=n.BigIntPolyfill(t)+n.BigIntPolyfill(e);break;case a.WASI_WHENCE_SET:o.offset=n.BigIntPolyfill(e)}return this.view.setBigUint64(i,o.offset,!0),a.WASI_ESUCCESS})),fd_tell:p(((t,e)=>{const r=I(t,a.WASI_RIGHT_FD_TELL);return this.refreshMemory(),r.offset||(r.offset=n.BigIntPolyfill(0)),this.view.setBigUint64(e,r.offset,!0),a.WASI_ESUCCESS})),fd_sync:p((t=>{const e=I(t,a.WASI_RIGHT_FD_SYNC);return m.fsyncSync(e.real),a.WASI_ESUCCESS})),path_create_directory:p(((t,e,r)=>{const n=I(t,a.WASI_RIGHT_PATH_CREATE_DIRECTORY);if(!n.path)return a.WASI_EINVAL;this.refreshMemory();const i=o.default.from(this.memory.buffer,e,r).toString();return m.mkdirSync(E.resolve(n.path,i)),a.WASI_ESUCCESS})),path_filestat_get:p(((t,e,r,i,s)=>{const f=I(t,a.WASI_RIGHT_PATH_FILESTAT_GET);if(!f.path)return a.WASI_EINVAL;this.refreshMemory();const u=o.default.from(this.memory.buffer,r,i).toString(),h=m.statSync(E.resolve(f.path,u));return this.view.setBigUint64(s,n.BigIntPolyfill(h.dev),!0),s+=8,this.view.setBigUint64(s,n.BigIntPolyfill(h.ino),!0),s+=8,this.view.setUint8(s,_(this,void 0,h).filetype),s+=8,this.view.setBigUint64(s,n.BigIntPolyfill(h.nlink),!0),s+=8,this.view.setBigUint64(s,n.BigIntPolyfill(h.size),!0),s+=8,this.view.setBigUint64(s,l(h.atimeMs),!0),s+=8,this.view.setBigUint64(s,l(h.mtimeMs),!0),s+=8,this.view.setBigUint64(s,l(h.ctimeMs),!0),a.WASI_ESUCCESS})),path_filestat_set_times:p(((t,e,r,n,i,s,f)=>{const u=I(t,a.WASI_RIGHT_PATH_FILESTAT_SET_TIMES);if(!u.path)return a.WASI_EINVAL;this.refreshMemory();const h=m.fstatSync(u.real);let l=h.atime,p=h.mtime;const d=c(A(a.WASI_CLOCK_REALTIME)),_=a.WASI_FILESTAT_SET_ATIM|a.WASI_FILESTAT_SET_ATIM_NOW;if((f&_)===_)return a.WASI_EINVAL;const g=a.WASI_FILESTAT_SET_MTIM|a.WASI_FILESTAT_SET_MTIM_NOW;if((f&g)===g)return a.WASI_EINVAL;(f&a.WASI_FILESTAT_SET_ATIM)===a.WASI_FILESTAT_SET_ATIM?l=c(i):(f&a.WASI_FILESTAT_SET_ATIM_NOW)===a.WASI_FILESTAT_SET_ATIM_NOW&&(l=d),(f&a.WASI_FILESTAT_SET_MTIM)===a.WASI_FILESTAT_SET_MTIM?p=c(s):(f&a.WASI_FILESTAT_SET_MTIM_NOW)===a.WASI_FILESTAT_SET_MTIM_NOW&&(p=d);const y=o.default.from(this.memory.buffer,r,n).toString();return m.utimesSync(E.resolve(u.path,y),new Date(l),new Date(p)),a.WASI_ESUCCESS})),path_link:p(((t,e,r,n,i,s,f)=>{const u=I(t,a.WASI_RIGHT_PATH_LINK_SOURCE),h=I(i,a.WASI_RIGHT_PATH_LINK_TARGET);if(!u.path||!h.path)return a.WASI_EINVAL;this.refreshMemory();const l=o.default.from(this.memory.buffer,r,n).toString(),c=o.default.from(this.memory.buffer,s,f).toString();return m.linkSync(E.resolve(u.path,l),E.resolve(h.path,c)),a.WASI_ESUCCESS})),path_open:p(((t,e,r,i,s,f,u,h,l)=>{const c=I(t,a.WASI_RIGHT_PATH_OPEN);f=n.BigIntPolyfill(f),u=n.BigIntPolyfill(u);const p=(f&(a.WASI_RIGHT_FD_READ|a.WASI_RIGHT_FD_READDIR))!==n.BigIntPolyfill(0),_=(f&(a.WASI_RIGHT_FD_DATASYNC|a.WASI_RIGHT_FD_WRITE|a.WASI_RIGHT_FD_ALLOCATE|a.WASI_RIGHT_FD_FILESTAT_SET_SIZE))!==n.BigIntPolyfill(0);let g;_&&p?g=m.constants.O_RDWR:p?g=m.constants.O_RDONLY:_&&(g=m.constants.O_WRONLY);let y=f|a.WASI_RIGHT_PATH_OPEN,S=f|u;s&a.WASI_O_CREAT&&(g|=m.constants.O_CREAT,y|=a.WASI_RIGHT_PATH_CREATE_FILE),s&a.WASI_O_DIRECTORY&&(g|=m.constants.O_DIRECTORY),s&a.WASI_O_EXCL&&(g|=m.constants.O_EXCL),s&a.WASI_O_TRUNC&&(g|=m.constants.O_TRUNC,y|=a.WASI_RIGHT_PATH_FILESTAT_SET_SIZE),h&a.WASI_FDFLAG_APPEND&&(g|=m.constants.O_APPEND),h&a.WASI_FDFLAG_DSYNC&&(m.constants.O_DSYNC?g|=m.constants.O_DSYNC:g|=m.constants.O_SYNC,S|=a.WASI_RIGHT_FD_DATASYNC),h&a.WASI_FDFLAG_NONBLOCK&&(g|=m.constants.O_NONBLOCK),h&a.WASI_FDFLAG_RSYNC&&(m.constants.O_RSYNC?g|=m.constants.O_RSYNC:g|=m.constants.O_SYNC,S|=a.WASI_RIGHT_FD_SYNC),h&a.WASI_FDFLAG_SYNC&&(g|=m.constants.O_SYNC,S|=a.WASI_RIGHT_FD_SYNC),!_||g&(m.constants.O_APPEND|m.constants.O_TRUNC)||(S|=a.WASI_RIGHT_FD_SEEK),this.refreshMemory();const w=o.default.from(this.memory.buffer,r,i).toString(),A=E.resolve(c.path,w);if(E.relative(c.path,A).startsWith(".."))return a.WASI_ENOTCAPABLE;let v,T,b;try{if(v=m.realpathSync(A),E.relative(c.path,v).startsWith(".."))return a.WASI_ENOTCAPABLE}catch(t){if("ENOENT"!==t.code)throw t;v=A}try{T=m.statSync(v).isDirectory()}catch(t){}b=!_&&T?m.openSync(v,m.constants.O_RDONLY):m.openSync(v,g);const R=[...this.FD_MAP.keys()].reverse()[0]+1;return this.FD_MAP.set(R,{real:b,filetype:void 0,rights:{base:y,inheriting:S},path:v}),d(this,R),this.view.setUint32(l,R,!0),a.WASI_ESUCCESS})),path_readlink:p(((t,e,r,n,i,s)=>{const f=I(t,a.WASI_RIGHT_PATH_READLINK);if(!f.path)return a.WASI_EINVAL;this.refreshMemory();const u=o.default.from(this.memory.buffer,e,r).toString(),h=E.resolve(f.path,u),l=m.readlinkSync(h),c=o.default.from(this.memory.buffer).write(l,n,i);return this.view.setUint32(s,c,!0),a.WASI_ESUCCESS})),path_remove_directory:p(((t,e,r)=>{const n=I(t,a.WASI_RIGHT_PATH_REMOVE_DIRECTORY);if(!n.path)return a.WASI_EINVAL;this.refreshMemory();const i=o.default.from(this.memory.buffer,e,r).toString();return m.rmdirSync(E.resolve(n.path,i)),a.WASI_ESUCCESS})),path_rename:p(((t,e,r,n,i,s)=>{const f=I(t,a.WASI_RIGHT_PATH_RENAME_SOURCE),u=I(n,a.WASI_RIGHT_PATH_RENAME_TARGET);if(!f.path||!u.path)return a.WASI_EINVAL;this.refreshMemory();const h=o.default.from(this.memory.buffer,e,r).toString(),l=o.default.from(this.memory.buffer,i,s).toString();return m.renameSync(E.resolve(f.path,h),E.resolve(u.path,l)),a.WASI_ESUCCESS})),path_symlink:p(((t,e,r,n,i)=>{const s=I(r,a.WASI_RIGHT_PATH_SYMLINK);if(!s.path)return a.WASI_EINVAL;this.refreshMemory();const f=o.default.from(this.memory.buffer,t,e).toString(),u=o.default.from(this.memory.buffer,n,i).toString();return m.symlinkSync(f,E.resolve(s.path,u)),a.WASI_ESUCCESS})),path_unlink_file:p(((t,e,r)=>{const n=I(t,a.WASI_RIGHT_PATH_UNLINK_FILE);if(!n.path)return a.WASI_EINVAL;this.refreshMemory();const i=o.default.from(this.memory.buffer,e,r).toString();return m.unlinkSync(E.resolve(n.path,i)),a.WASI_ESUCCESS})),poll_oneoff:(t,e,r,i)=>{let o=0,s=0;this.refreshMemory();for(let i=0;i<r;i+=1){const r=this.view.getBigUint64(t,!0);t+=8;const i=this.view.getUint8(t);switch(t+=1,i){case a.WASI_EVENTTYPE_CLOCK:{t+=7,this.view.getBigUint64(t,!0),t+=8;const i=this.view.getUint32(t,!0);t+=4,t+=4;const f=this.view.getBigUint64(t,!0);t+=8,this.view.getBigUint64(t,!0),t+=8;const u=this.view.getUint16(t,!0);t+=2,t+=6;const h=1===u;let l=a.WASI_ESUCCESS;const c=n.BigIntPolyfill(A(i));if(null===c)l=a.WASI_EINVAL;else{const t=h?f:c+f;s=t>s?t:s}this.view.setBigUint64(e,r,!0),e+=8,this.view.setUint16(e,l,!0),e+=2,this.view.setUint8(e,a.WASI_EVENTTYPE_CLOCK),e+=1,e+=5,o+=1;break}case a.WASI_EVENTTYPE_FD_READ:case a.WASI_EVENTTYPE_FD_WRITE:t+=3,this.view.getUint32(t,!0),t+=4,this.view.setBigUint64(e,r,!0),e+=8,this.view.setUint16(e,a.WASI_ENOSYS,!0),e+=2,this.view.setUint8(e,i),e+=1,e+=5,o+=1;break;default:return a.WASI_EINVAL}}for(this.view.setUint32(i,o,!0);y.hrtime()<s;);return a.WASI_ESUCCESS},proc_exit:t=>(y.exit(t),a.WASI_ESUCCESS),proc_raise:t=>t in a.SIGNAL_MAP?(y.kill(a.SIGNAL_MAP[t]),a.WASI_ESUCCESS):a.WASI_EINVAL,random_get:(t,e)=>(this.refreshMemory(),y.randomFillSync(new Uint8Array(this.memory.buffer),t,e),a.WASI_ESUCCESS),sched_yield:()=>a.WASI_ESUCCESS,sock_recv:()=>a.WASI_ENOSYS,sock_send:()=>a.WASI_ENOSYS,sock_shutdown:()=>a.WASI_ENOSYS},t.traceSyscalls&&Object.keys(this.wasiImport).forEach((t=>{const e=this.wasiImport[t];this.wasiImport[t]=function(...r){console.log(`WASI: wasiImport called: ${t} (${r})`);try{let t=e(...r);return console.log(`WASI:  => ${t}`),t}catch(t){throw console.log(`Catched error: ${t}`),t}}}))}refreshMemory(){this.view&&0!==this.view.buffer.byteLength||(this.view=new i.DataViewPolyfill(this.memory.buffer))}setMemory(t){this.memory=t}start(t){const e=t.exports;if(null===e||"object"!=typeof e)throw new Error(`instance.exports must be an Object. Received ${e}.`);const{memory:r}=e;if(!(r instanceof WebAssembly.Memory))throw new Error(`instance.exports.memory must be a WebAssembly.Memory. Recceived ${r}.`);this.setMemory(r),e._start&&e._start()}getImportNamespace(t){let e=null;for(let r of WebAssembly.Module.imports(t))if("function"===r.kind&&r.module.startsWith("wasi_"))if(e){if(e!==r.module)throw new Error("Multiple namespaces detected.")}else e=r.module;return e}getImports(t){switch(this.getImportNamespace(t)){case"wasi_unstable":return{wasi_unstable:this.wasiImport};case"wasi_snapshot_preview1":return{wasi_snapshot_preview1:this.wasiImport};default:throw new Error("Can't detect a WASI namespace for the WebAssembly Module")}}}e.default=E,E.defaultBindings=s,e.WASI=E},395:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n="undefined"!=typeof globalThis?globalThis:void 0!==r.g?r.g:{};e.BigIntPolyfill="undefined"!=typeof BigInt?BigInt:n.BigInt||Number},32:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=Math.floor(.001*(Date.now()-performance.now()));e.default=function(t){let e=.001*performance.now(),n=Math.floor(e)+r,i=Math.floor(e%1*1e9);return t&&(n-=t[0],i-=t[1],i<0&&(n--,i+=1e9)),[n,i]}},10:(t,e,r)=>{"use strict";var n=r(287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=n;e.default=i},137:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(395);let i=DataView;i.prototype.setBigUint64||(i.prototype.setBigUint64=function(t,e,r){let n,i;if(e<2**32)n=Number(e),i=0;else{for(var o=e.toString(2),s="",a=0;a<64-o.length;a++)s+="0";s+=o,i=parseInt(s.substring(0,32),2),n=parseInt(s.substring(32),2)}this.setUint32(t+(r?0:4),n,r),this.setUint32(t+(r?4:0),i,r)},i.prototype.getBigUint64=function(t,e){let r=this.getUint32(t+(e?0:4),e),i=this.getUint32(t+(e?4:0),e);for(var o=r.toString(2),s=i.toString(2),a="",f=0;f<32-o.length;f++)a+="0";return a+=o,n.BigIntPolyfill("0b"+s+a)}),e.DataViewPolyfill=i},918:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=t=>e=>{const r=t(e);return 1e9*r[0]+r[1]}},526:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,o=a(t),s=o[0],f=o[1],u=new i(function(t,e,r){return 3*(e+r)/4-r}(0,s,f)),h=0,l=f>0?s-4:s;for(r=0;r<l;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],u[h++]=e>>16&255,u[h++]=e>>8&255,u[h++]=255&e;return 2===f&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,u[h++]=255&e),1===f&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,u[h++]=e>>8&255,u[h++]=255&e),u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(f(t,a,a+s>u?u:a+s));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},287:(t,e,r)=>{"use strict";var n=r(526),i=r(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=f,e.SlowBuffer=function(t){return+t!=t&&(t=0),f.alloc(+t)},e.INSPECT_MAX_BYTES=50;var s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,f.prototype),e}function f(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|_(t,e),n=a(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(G(t,Uint8Array)){var e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return c(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(G(t,ArrayBuffer)||t&&G(t.buffer,ArrayBuffer))return p(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(G(t,SharedArrayBuffer)||t&&G(t.buffer,SharedArrayBuffer)))return p(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return f.from(n,e,r);var i=function(t){if(f.isBuffer(t)){var e=0|d(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||H(t.length)?a(0):c(t):"Buffer"===t.type&&Array.isArray(t.data)?c(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return f.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return h(t),a(t<0?0:0|d(t))}function c(t){for(var e=t.length<0?0:0|d(t.length),r=a(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function p(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,f.prototype),n}function d(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function _(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||G(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return M(t).length;default:if(i)return n?-1:U(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return N(this,e,r);case"utf8":case"utf-8":return b(this,e,r);case"ascii":return O(this,e,r);case"latin1":case"binary":return C(this,e,r);case"base64":return T(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function m(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),H(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=f.from(e,n)),f.isBuffer(e))return 0===e.length?-1:E(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):E(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function E(t,e,r,n,i){var o,s=1,a=t.length,f=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,f/=2,r/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var h=-1;for(o=r;o<a;o++)if(u(t,o)===u(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===f)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(r+f>a&&(r=a-f),o=r;o>=0;o--){for(var l=!0,c=0;c<f;c++)if(u(t,o+c)!==u(e,c)){l=!1;break}if(l)return o}return-1}function S(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(H(a))return s;t[r+s]=a}return s}function I(t,e,r,n){return x(U(e,t.length-r),t,r,n)}function w(t,e,r,n){return x(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function A(t,e,r,n){return x(M(e),t,r,n)}function v(t,e,r,n){return x(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function T(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function b(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,f,u=t[i],h=null,l=u>239?4:u>223?3:u>191?2:1;if(i+l<=r)switch(l){case 1:u<128&&(h=u);break;case 2:128==(192&(o=t[i+1]))&&(f=(31&u)<<6|63&o)>127&&(h=f);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(f=(15&u)<<12|(63&o)<<6|63&s)>2047&&(f<55296||f>57343)&&(h=f);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(f=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&f<1114112&&(h=f)}null===h?(h=65533,l=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=l}return function(t){var e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=R));return r}(n)}e.kMaxLength=s,f.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),f.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(t,e,r){return function(t,e,r){return h(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},f.allocUnsafe=function(t){return l(t)},f.allocUnsafeSlow=function(t){return l(t)},f.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==f.prototype},f.compare=function(t,e){if(G(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),G(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=f.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(G(o,Uint8Array))i+o.length>n.length?f.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!f.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i)}i+=o.length}return n},f.byteLength=_,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},f.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?b(this,0,t):g.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(f.prototype[o]=f.prototype.inspect),f.prototype.compare=function(t,e,r,n,i){if(G(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),u=this.slice(n,i),h=t.slice(e,r),l=0;l<a;++l)if(u[l]!==h[l]){o=u[l],s=h[l];break}return o<s?-1:s<o?1:0},f.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},f.prototype.indexOf=function(t,e,r){return m(this,t,e,r,!0)},f.prototype.lastIndexOf=function(t,e,r){return m(this,t,e,r,!1)},f.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return S(this,t,e,r);case"utf8":case"utf-8":return I(this,t,e,r);case"ascii":case"latin1":case"binary":return w(this,t,e,r);case"base64":return A(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function O(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function C(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function N(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=j[t[o]];return i}function L(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function P(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function W(t,e,r,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function B(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(t,e,r,n,o){return e=+e,r>>>=0,o||B(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function D(t,e,r,n,o){return e=+e,r>>>=0,o||B(t,0,r,8),i.write(t,e,r,n,52,8),r+8}f.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,f.prototype),n},f.prototype.readUintLE=f.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUintBE=f.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},f.prototype.readUint8=f.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},f.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},f.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),i.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),i.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),i.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),i.read(this,t,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||W(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||W(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},f.prototype.writeUint8=f.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,1,255,0),this[e]=255&t,e+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);W(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s|0)-a&255;return e+r},f.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);W(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s|0)-a&255;return e+r},f.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},f.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeFloatLE=function(t,e,r){return F(this,t,e,!0,r)},f.prototype.writeFloatBE=function(t,e,r){return F(this,t,e,!1,r)},f.prototype.writeDoubleLE=function(t,e,r){return D(this,t,e,!0,r)},f.prototype.writeDoubleBE=function(t,e,r){return D(this,t,e,!1,r)},f.prototype.copy=function(t,e,r,n){if(!f.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},f.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=f.isBuffer(t)?t:f.from(t,n),a=s.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var k=/[^+/0-9A-Za-z-_]/g;function U(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function M(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(k,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function x(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function G(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function H(t){return t!=t}var j=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()},251:(t,e)=>{e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,f=(1<<a)-1,u=f>>1,h=-7,l=r?i-1:0,c=r?-1:1,p=t[e+l];for(l+=c,o=p&(1<<-h)-1,p>>=-h,h+=a;h>0;o=256*o+t[e+l],l+=c,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=256*s+t[e+l],l+=c,h-=8);if(0===o)o=1-u;else{if(o===f)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=u}return(p?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,f,u=8*o-i-1,h=(1<<u)-1,l=h>>1,c=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),(e+=s+l>=1?c/f:c*Math.pow(2,1-l))*f>=2&&(s++,f/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(e*f-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[r+p]=255&s,p+=d,s/=256,u-=8);t[r+p-d]|=128*_}},13:function(t,e){var r,n;void 0===(n="function"==typeof(r=function(){"use strict";function t(t){function e(t){for(var e=0,i=r.length;e<i;++e)r[e](t);n.push(t)}if("function"!=typeof Promise)throw new Error("Promise implementation not available in this environment.");var r=[],n=[],i=new Promise((function(r,n){t(r,n,e)}));i.progress=function(t){if("function"!=typeof t)throw new Error("cb is not a function.");for(var e=0,o=n.length;e<o;++e)t(n[e]);return r.push(t),i};var o=i.then;return i.then=function(t,e,r){return o.call(i,t,e),void 0!==r&&i.progress(r),i},i}function e(t){return Object.defineProperties(t,o),t}var r,n=window||this,i=n.URL||n.webkitURL,o={blob:{get:function(){return this._blob||(this._blob=new Blob([this.buffer]))}},getBlobUrl:{value:function(){return this._blobUrl||(this._blobUrl=i.createObjectURL(this.blob))}},readAsString:{value:function(){for(var t=this.buffer,e=t.byteLength,r=new DataView(t),n=[],i=0;i<e;++i){var o=r.getUint8(1*i,!0);n.push(o)}return this._string=String.fromCharCode.apply(null,n)}},readAsJSON:{value:function(){return JSON.parse(this.readAsString())}}};return r=(window||this).URL.createObjectURL(new Blob(['"use strict";function UntarWorker(){}function decodeUTF8(e){for(var r="",t=0;t<e.length;){var a=e[t++];if(a>127){if(a>191&&a<224){if(t>=e.length)throw"UTF-8 decode: incomplete 2-byte sequence";a=(31&a)<<6|63&e[t]}else if(a>223&&a<240){if(t+1>=e.length)throw"UTF-8 decode: incomplete 3-byte sequence";a=(15&a)<<12|(63&e[t])<<6|63&e[++t]}else{if(!(a>239&&a<248))throw"UTF-8 decode: unknown multibyte start 0x"+a.toString(16)+" at index "+(t-1);if(t+2>=e.length)throw"UTF-8 decode: incomplete 4-byte sequence";a=(7&a)<<18|(63&e[t])<<12|(63&e[++t])<<6|63&e[++t]}++t}if(a<=65535)r+=String.fromCharCode(a);else{if(!(a<=1114111))throw"UTF-8 decode: code point 0x"+a.toString(16)+" exceeds UTF-16 reach";a-=65536,r+=String.fromCharCode(a>>10|55296),r+=String.fromCharCode(1023&a|56320)}}return r}function PaxHeader(e){this._fields=e}function TarFile(){}function UntarStream(e){this._bufferView=new DataView(e),this._position=0}function UntarFileStream(e){this._stream=new UntarStream(e),this._globalPaxHeader=null}if(UntarWorker.prototype={onmessage:function(e){try{if("extract"!==e.data.type)throw new Error("Unknown message type: "+e.data.type);this.untarBuffer(e.data.buffer)}catch(r){this.postError(r)}},postError:function(e){this.postMessage({type:"error",data:{message:e.message}})},postLog:function(e,r){this.postMessage({type:"log",data:{level:e,msg:r}})},untarBuffer:function(e){try{for(var r=new UntarFileStream(e);r.hasNext();){var t=r.next();this.postMessage({type:"extract",data:t},[t.buffer])}this.postMessage({type:"complete"})}catch(a){this.postError(a)}},postMessage:function(e,r){self.postMessage(e,r)}},"undefined"!=typeof self){var worker=new UntarWorker;self.onmessage=function(e){worker.onmessage(e)}}PaxHeader.parse=function(e){for(var r=new Uint8Array(e),t=[];r.length>0;){var a=parseInt(decodeUTF8(r.subarray(0,r.indexOf(32)))),n=decodeUTF8(r.subarray(0,a)),i=n.match(/^\\d+ ([^=]+)=(.*)\\n$/);if(null===i)throw new Error("Invalid PAX header data format.");var s=i[1],o=i[2];0===o.length?o=null:null!==o.match(/^\\d+$/)&&(o=parseInt(o));var f={name:s,value:o};t.push(f),r=r.subarray(a)}return new PaxHeader(t)},PaxHeader.prototype={applyHeader:function(e){this._fields.forEach(function(r){var t=r.name,a=r.value;"path"===t?(t="name",void 0!==e.prefix&&delete e.prefix):"linkpath"===t&&(t="linkname"),null===a?delete e[t]:e[t]=a})}},UntarStream.prototype={readString:function(e){for(var r=1,t=e*r,a=[],n=0;n<e;++n){var i=this._bufferView.getUint8(this.position()+n*r,!0);if(0===i)break;a.push(i)}return this.seek(t),String.fromCharCode.apply(null,a)},readBuffer:function(e){var r;if("function"==typeof ArrayBuffer.prototype.slice)r=this._bufferView.buffer.slice(this.position(),this.position()+e);else{r=new ArrayBuffer(e);var t=new Uint8Array(r),a=new Uint8Array(this._bufferView.buffer,this.position(),e);t.set(a)}return this.seek(e),r},seek:function(e){this._position+=e},peekUint32:function(){return this._bufferView.getUint32(this.position(),!0)},position:function(e){return void 0===e?this._position:void(this._position=e)},size:function(){return this._bufferView.byteLength}},UntarFileStream.prototype={hasNext:function(){return this._stream.position()+4<this._stream.size()&&0!==this._stream.peekUint32()},next:function(){return this._readNextFile()},_readNextFile:function(){var e=this._stream,r=new TarFile,t=!1,a=null,n=e.position(),i=n+512;switch(r.name=e.readString(100),r.mode=e.readString(8),r.uid=parseInt(e.readString(8)),r.gid=parseInt(e.readString(8)),r.size=parseInt(e.readString(12),8),r.mtime=parseInt(e.readString(12),8),r.checksum=parseInt(e.readString(8)),r.type=e.readString(1),r.linkname=e.readString(100),r.ustarFormat=e.readString(6),r.ustarFormat.indexOf("ustar")>-1&&(r.version=e.readString(2),r.uname=e.readString(32),r.gname=e.readString(32),r.devmajor=parseInt(e.readString(8)),r.devminor=parseInt(e.readString(8)),r.namePrefix=e.readString(155),r.namePrefix.length>0&&(r.name=r.namePrefix+"/"+r.name)),e.position(i),r.type){case"0":case"":r.buffer=e.readBuffer(r.size);break;case"1":break;case"2":break;case"3":break;case"4":break;case"5":break;case"6":break;case"7":break;case"g":t=!0,this._globalPaxHeader=PaxHeader.parse(e.readBuffer(r.size));break;case"x":t=!0,a=PaxHeader.parse(e.readBuffer(r.size))}void 0===r.buffer&&(r.buffer=new ArrayBuffer(0));var s=i+r.size;return r.size%512!==0&&(s+=512-r.size%512),e.position(s),t&&(r=this._readNextFile()),null!==this._globalPaxHeader&&this._globalPaxHeader.applyHeader(r),null!==a&&a.applyHeader(r),r}};'])),function(i){if(!(i instanceof ArrayBuffer))throw new TypeError("arrayBuffer is not an instance of ArrayBuffer.");if(!n.Worker)throw new Error("Worker implementation is not available in this environment.");return new t((function(t,n,o){var s=new Worker(r),a=[];s.onerror=function(t){n(t)},s.onmessage=function(r){switch((r=r.data).type){case"log":console[r.data.level]("Worker: "+r.data.msg);break;case"extract":var i=e(r.data);a.push(i),o(i);break;case"complete":s.terminate(),t(a);break;case"error":s.terminate(),n(new Error(r.data.message));break;default:s.terminate(),n(new Error("Unknown message from worker: "+r.type))}},s.postMessage({type:"extract",buffer:i},[i])}))}})?r.apply(e,[]):r)||(t.exports=n)},975:(t,e,r)=>{"use strict";var n=r(606);function i(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function o(t,e){for(var r,n="",i=0,o=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)r=t.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var f=n.lastIndexOf("/");if(f!==n.length-1){-1===f?(n="",i=0):i=(n=n.slice(0,f)).length-1-n.lastIndexOf("/"),o=a,s=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=a,s=0;continue}e&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+t.slice(o+1,a):n=t.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var s={resolve:function(){for(var t,e="",r=!1,s=arguments.length-1;s>=-1&&!r;s--){var a;s>=0?a=arguments[s]:(void 0===t&&(t=n.cwd()),a=t),i(a),0!==a.length&&(e=a+"/"+e,r=47===a.charCodeAt(0))}return e=o(e,!r),r?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(t){if(i(t),0===t.length)return".";var e=47===t.charCodeAt(0),r=47===t.charCodeAt(t.length-1);return 0!==(t=o(t,!e)).length||e||(t="."),t.length>0&&r&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return i(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var r=arguments[e];i(r),r.length>0&&(void 0===t?t=r:t+="/"+r)}return void 0===t?".":s.normalize(t)},relative:function(t,e){if(i(t),i(e),t===e)return"";if((t=s.resolve(t))===(e=s.resolve(e)))return"";for(var r=1;r<t.length&&47===t.charCodeAt(r);++r);for(var n=t.length,o=n-r,a=1;a<e.length&&47===e.charCodeAt(a);++a);for(var f=e.length-a,u=o<f?o:f,h=-1,l=0;l<=u;++l){if(l===u){if(f>u){if(47===e.charCodeAt(a+l))return e.slice(a+l+1);if(0===l)return e.slice(a+l)}else o>u&&(47===t.charCodeAt(r+l)?h=l:0===l&&(h=0));break}var c=t.charCodeAt(r+l);if(c!==e.charCodeAt(a+l))break;47===c&&(h=l)}var p="";for(l=r+h+1;l<=n;++l)l!==n&&47!==t.charCodeAt(l)||(0===p.length?p+="..":p+="/..");return p.length>0?p+e.slice(a+h):(a+=h,47===e.charCodeAt(a)&&++a,e.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(i(t),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,o=!0,s=t.length-1;s>=1;--s)if(47===(e=t.charCodeAt(s))){if(!o){n=s;break}}else o=!1;return-1===n?r?"/":".":r&&1===n?"//":t.slice(0,n)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');i(t);var r,n=0,o=-1,s=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var a=e.length-1,f=-1;for(r=t.length-1;r>=0;--r){var u=t.charCodeAt(r);if(47===u){if(!s){n=r+1;break}}else-1===f&&(s=!1,f=r+1),a>=0&&(u===e.charCodeAt(a)?-1==--a&&(o=r):(a=-1,o=f))}return n===o?o=f:-1===o&&(o=t.length),t.slice(n,o)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!s){n=r+1;break}}else-1===o&&(s=!1,o=r+1);return-1===o?"":t.slice(n,o)},extname:function(t){i(t);for(var e=-1,r=0,n=-1,o=!0,s=0,a=t.length-1;a>=0;--a){var f=t.charCodeAt(a);if(47!==f)-1===n&&(o=!1,n=a+1),46===f?-1===e?e=a:1!==s&&(s=1):-1!==e&&(s=-1);else if(!o){r=a+1;break}}return-1===e||-1===n||0===s||1===s&&e===n-1&&e===r+1?"":t.slice(e,n)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+n:r+"/"+n:n}(0,t)},parse:function(t){i(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var r,n=t.charCodeAt(0),o=47===n;o?(e.root="/",r=1):r=0;for(var s=-1,a=0,f=-1,u=!0,h=t.length-1,l=0;h>=r;--h)if(47!==(n=t.charCodeAt(h)))-1===f&&(u=!1,f=h+1),46===n?-1===s?s=h:1!==l&&(l=1):-1!==s&&(l=-1);else if(!u){a=h+1;break}return-1===s||-1===f||0===l||1===l&&s===f-1&&s===a+1?-1!==f&&(e.base=e.name=0===a&&o?t.slice(1,f):t.slice(a,f)):(0===a&&o?(e.name=t.slice(1,s),e.base=t.slice(1,f)):(e.name=t.slice(a,s),e.base=t.slice(a,f)),e.ext=t.slice(s,f)),a>0?e.dir=t.slice(0,a-1):o&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,t.exports=s},606:t=>{var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var a,f=[],u=!1,h=-1;function l(){u&&a&&(u=!1,a.length?f=a.concat(f):h=-1,f.length&&c())}function c(){if(!u){var t=s(l);u=!0;for(var e=f.length;e;){for(a=f,f=[];++h<e;)a&&a[h].run();h=-1,e=f.length}a=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function d(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];f.push(new p(t,e)),1!==f.length||u||s(c)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=d,n.addListener=d,n.once=d,n.off=d,n.removeListener=d,n.removeAllListeners=d,n.emit=d,n.prependListener=d,n.prependOnceListener=d,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},209:(t,e,r)=>{"use strict";var n=r(606),i=65536,o=r(861).Buffer,s=r.g.crypto||r.g.msCrypto;s&&s.getRandomValues?t.exports=function(t,e){if(t>4294967295)throw new RangeError("requested too many random bytes");var r=o.allocUnsafe(t);if(t>0)if(t>i)for(var a=0;a<t;a+=i)s.getRandomValues(r.slice(a,a+i));else s.getRandomValues(r);return"function"==typeof e?n.nextTick((function(){e(null,r)})):r}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},983:(t,e,r)=>{"use strict";var n=r(606);function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=r(861),s=r(209),a=o.Buffer,f=o.kMaxLength,u=r.g.crypto||r.g.msCrypto,h=Math.pow(2,32)-1;function l(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>h||t<0)throw new TypeError("offset must be a uint32");if(t>f||t>e)throw new RangeError("offset out of range")}function c(t,e,r){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>h||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>f)throw new RangeError("buffer too small")}function p(t,e,r,i){if(n.browser){var o=t.buffer,a=new Uint8Array(o,e,r);return u.getRandomValues(a),i?void n.nextTick((function(){i(null,t)})):t}if(!i)return s(r).copy(t,e),t;s(r,(function(r,n){if(r)return i(r);n.copy(t,e),i(null,t)}))}u&&u.getRandomValues||!n.browser?(e.randomFill=function(t,e,n,i){if(!(a.isBuffer(t)||t instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)i=e,e=0,n=t.length;else if("function"==typeof n)i=n,n=t.length-e;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return l(e,t.length),c(n,e,t.length),p(t,e,n,i)},e.randomFillSync=function(t,e,n){if(void 0===e&&(e=0),!(a.isBuffer(t)||t instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return l(e,t.length),void 0===n&&(n=t.length-e),c(n,e,t.length),p(t,e,n)}):(e.randomFill=i,e.randomFillSync=i)},861:(t,e,r)=>{var n=r(287),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},192:(t,e,r)=>{"use strict";r(940),e.parse=r(563)},563:t=>{"use strict";for(var e="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",r=new RegExp("^"+e+"$"),n="|&;()<> \\t",i=/^#$/,o="",s=0;s<4;s++)o+=(4294967296*Math.random()).toString(16);var a=new RegExp("^"+o);t.exports=function(t,s,f){var u=function(t,s,a){a||(a={});var f=a.escape||"\\",u=new RegExp(["("+e+")","((\\"+f+"['\""+n+"]|[^\\s'\""+n+"])+|\"((\\\\\"|[^\"])*?)\"|'((\\\\'|[^'])*?)')+"].join("|"),"g"),h=function(t,e){for(var r,n=e.lastIndex,i=[];r=e.exec(t);)i.push(r),e.lastIndex===r.index&&(e.lastIndex+=1);return e.lastIndex=n,i}(t,u);if(0===h.length)return[];s||(s={});var l=!1;return h.map((function(e){var n=e[0];if(n&&!l){if(r.test(n))return{op:n};var a,u=!1,h=!1,c="",p=!1;for(a=0;a<n.length;a++){var d=n.charAt(a);if(p=p||!u&&("*"===d||"?"===d),h)c+=d,h=!1;else if(u)d===u?u=!1:"'"==u?c+=d:d===f?(a+=1,c+='"'===(d=n.charAt(a))||d===f||"$"===d?d:f+d):c+="$"===d?g():d;else if('"'===d||"'"===d)u=d;else{if(r.test(d))return{op:n};if(i.test(d)){l=!0;var _={comment:t.slice(e.index+a+1)};return c.length?[c,_]:[_]}d===f?h=!0:c+="$"===d?g():d}}return p?{op:"glob",pattern:c}:c}function g(){var t,e;a+=1;var r=n.charAt(a);if("{"===r){if(a+=1,"}"===n.charAt(a))throw new Error("Bad substitution: "+n.slice(a-2,a+1));if((t=n.indexOf("}",a))<0)throw new Error("Bad substitution: "+n.slice(a));e=n.slice(a,t),a=t}else if(/[*@#?$!_-]/.test(r))e=r,a+=1;else{var i=n.slice(a);(t=i.match(/[^\w\d_]/))?(e=i.slice(0,t.index),a+=t.index-1):(e=i,a=n.length)}return function(t,e,r){var n="function"==typeof t?t(r):t[r];return void 0===n&&""!=r?n="":void 0===n&&(n="$"),"object"==typeof n?""+o+JSON.stringify(n)+o:""+n}(s,0,e)}})).reduce((function(t,e){return void 0===e?t:t.concat(e)}),[])}(t,s,f);return"function"!=typeof s?u:u.reduce((function(t,e){if("object"==typeof e)return t.concat(e);var r=e.split(RegExp("("+o+".*?"+o+")","g"));return 1===r.length?t.concat(r[0]):t.concat(r.filter(Boolean).map((function(t){return a.test(t)?JSON.parse(t.split(o)[1]):t})))}),[])}},940:t=>{"use strict";t.exports=function(t){return t.map((function(t){return t&&"object"==typeof t?t.op.replace(/(.)/g,"\\$1"):/["\s]/.test(t)&&!/'/.test(t)?"'"+t.replace(/(['\\])/g,"\\$1")+"'":/["'\s]/.test(t)?'"'+t.replace(/(["\\$`!])/g,"\\$1")+'"':String(t).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")})).join(" ")}},195:t=>{self,t.exports=(()=>{"use strict";var t={775:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FitAddon=void 0;var r=function(){function t(){}return t.prototype.activate=function(t){this._terminal=t},t.prototype.dispose=function(){},t.prototype.fit=function(){var t=this.proposeDimensions();if(t&&this._terminal){var e=this._terminal._core;this._terminal.rows===t.rows&&this._terminal.cols===t.cols||(e._renderService.clear(),this._terminal.resize(t.cols,t.rows))}},t.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var t=this._terminal._core;if(0!==t._renderService.dimensions.actualCellWidth&&0!==t._renderService.dimensions.actualCellHeight){var e=window.getComputedStyle(this._terminal.element.parentElement),r=parseInt(e.getPropertyValue("height")),n=Math.max(0,parseInt(e.getPropertyValue("width"))),i=window.getComputedStyle(this._terminal.element),o=r-(parseInt(i.getPropertyValue("padding-top"))+parseInt(i.getPropertyValue("padding-bottom"))),s=n-(parseInt(i.getPropertyValue("padding-right"))+parseInt(i.getPropertyValue("padding-left")))-t.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(s/t._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(o/t._renderService.dimensions.actualCellHeight))}}}},t}();e.FitAddon=r}},e={};return function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}(775)})()}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{default:()=>wu});const t=Symbol("Comlink.proxy"),e=Symbol("Comlink.endpoint"),i=Symbol("Comlink.releaseProxy"),o=Symbol("Comlink.finalizer"),s=Symbol("Comlink.thrown"),a=t=>"object"==typeof t&&null!==t||"function"==typeof t,f=new Map([["proxy",{canHandle:e=>a(e)&&e[t],serialize(t){const{port1:e,port2:r}=new MessageChannel;return u(t,e),[r,[r]]},deserialize:t=>(t.start(),l(t))}],["throw",{canHandle:t=>a(t)&&s in t,serialize({value:t}){let e;return e=t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[e,[]]},deserialize(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function u(t,e=globalThis,r=["*"]){e.addEventListener("message",(function n(i){if(!i||!i.data)return;if(!function(t,e){for(const r of t){if(e===r||"*"===r)return!0;if(r instanceof RegExp&&r.test(e))return!0}return!1}(r,i.origin))return void console.warn(`Invalid origin '${i.origin}' for comlink proxy`);const{id:a,type:f,path:l}=Object.assign({path:[]},i.data),c=(i.data.argumentList||[]).map(I);let p;try{const e=l.slice(0,-1).reduce(((t,e)=>t[e]),t),r=l.reduce(((t,e)=>t[e]),t);switch(f){case"GET":p=r;break;case"SET":e[l.slice(-1)[0]]=I(i.data.value),p=!0;break;case"APPLY":p=r.apply(e,c);break;case"CONSTRUCT":p=E(new r(...c));break;case"ENDPOINT":{const{port1:e,port2:r}=new MessageChannel;u(t,r),p=function(t,e){return m.set(t,e),t}(e,[e])}break;case"RELEASE":p=void 0;break;default:return}}catch(t){p={value:t,[s]:0}}Promise.resolve(p).catch((t=>({value:t,[s]:0}))).then((r=>{const[i,s]=S(r);e.postMessage(Object.assign(Object.assign({},i),{id:a}),s),"RELEASE"===f&&(e.removeEventListener("message",n),h(e),o in t&&"function"==typeof t[o]&&t[o]())})).catch((t=>{const[r,n]=S({value:new TypeError("Unserializable return value"),[s]:0});e.postMessage(Object.assign(Object.assign({},r),{id:a}),n)}))})),e.start&&e.start()}function h(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function l(t,e){return g(t,[],e)}function c(t){if(t)throw new Error("Proxy has been released and is not useable")}function p(t){return w(t,{type:"RELEASE"}).then((()=>{h(t)}))}const d=new WeakMap,_="FinalizationRegistry"in globalThis&&new FinalizationRegistry((t=>{const e=(d.get(t)||0)-1;d.set(t,e),0===e&&p(t)}));function g(t,r=[],n=function(){}){let o=!1;const s=new Proxy(n,{get(e,n){if(c(o),n===i)return()=>{!function(t){_&&_.unregister(t)}(s),p(t),o=!0};if("then"===n){if(0===r.length)return{then:()=>s};const e=w(t,{type:"GET",path:r.map((t=>t.toString()))}).then(I);return e.then.bind(e)}return g(t,[...r,n])},set(e,n,i){c(o);const[s,a]=S(i);return w(t,{type:"SET",path:[...r,n].map((t=>t.toString())),value:s},a).then(I)},apply(n,i,s){c(o);const a=r[r.length-1];if(a===e)return w(t,{type:"ENDPOINT"}).then(I);if("bind"===a)return g(t,r.slice(0,-1));const[f,u]=y(s);return w(t,{type:"APPLY",path:r.map((t=>t.toString())),argumentList:f},u).then(I)},construct(e,n){c(o);const[i,s]=y(n);return w(t,{type:"CONSTRUCT",path:r.map((t=>t.toString())),argumentList:i},s).then(I)}});return function(t,e){const r=(d.get(e)||0)+1;d.set(e,r),_&&_.register(t,e,t)}(s,t),s}function y(t){const e=t.map(S);return[e.map((t=>t[0])),(r=e.map((t=>t[1])),Array.prototype.concat.apply([],r))];var r}const m=new WeakMap;function E(e){return Object.assign(e,{[t]:!0})}function S(t){for(const[e,r]of f)if(r.canHandle(t)){const[n,i]=r.serialize(t);return[{type:"HANDLER",name:e,value:n},i]}return[{type:"RAW",value:t},m.get(t)||[]]}function I(t){switch(t.type){case"HANDLER":return f.get(t.name).deserialize(t.value);case"RAW":return t.value}}function w(t,e,r){return new Promise((n=>{const i=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");t.addEventListener("message",(function e(r){r.data&&r.data.id&&r.data.id===i&&(t.removeEventListener("message",e),n(r.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:i},e),r)}))}var A=r(195);class v{constructor(t){this.size=t,this.entries=[],this.cursor=0}push(t){""!==t.trim()&&t!=this.entries[this.entries.length-1]&&(this.entries.push(t),this.entries.length>this.size&&this.entries.pop(0),this.cursor=this.entries.length)}rewind(){this.cursor=this.entries.length}getPrevious(){const t=Math.max(0,this.cursor-1);return this.cursor=t,this.entries[t]}getNext(){const t=Math.min(this.entries.length,this.cursor+1);return this.cursor=t,this.entries[t]}}var T=r(192);function b(t,e=!0){let r;const n=[],i=/\w+/g;for(;r=i.exec(t);)e?n.push(r.index):n.push(r.index+r[0].length);return n}function R(t,e){const r=b(t,!0).reverse().find((t=>t<e));return null==r?0:r}function O(t,e,r){let n=0,i=0;for(let o=0;o<e;++o)"\n"==t.charAt(o)?(i=0,n+=1):(i+=1,i>r&&(i=0,n+=1));return{row:n,col:i}}function C(t,e){return O(t,t.length,e).row+1}function N(t){return null!=t.match(/[^\\][ \t]$/m)}function L(t){return""===t.trim()||N(t)?"":(0,T.parse)(t).pop()||""}function P(t,e){if(t.length>=e[0].length)return t;const r=t;t+=e[0].slice(t.length,t.length+1);for(let n=0;n<e.length;n++){if(!e[n].startsWith(r))return null;if(!e[n].startsWith(t))return r}return P(t,e)}const W=class{constructor(t=null,e={}){this.term=t,this._handleTermData=this.handleTermData.bind(this),this._handleTermResize=this.handleTermResize.bind(this),this.history=new v(e.historySize||10),this.maxAutocompleteEntries=e.maxAutocompleteEntries||100,this._autocompleteHandlers=[],this._active=!1,this._input="",this._cursor=0,this._activePrompt=null,this._activeCharPrompt=null,this._termSize={cols:0,rows:0},this._disposables=[],t&&(t.loadAddon?t.loadAddon(this):this.attach())}activate(t){this.term=t,this.attach()}dispose(){this.detach()}detach(){this.term.off?(this.term.off("data",this._handleTermData),this.term.off("resize",this._handleTermResize)):(this._disposables.forEach((t=>t.dispose())),this._disposables=[])}attach(){this.term.on?(this.term.on("data",this._handleTermData),this.term.on("resize",this._handleTermResize)):(this._disposables.push(this.term.onData(this._handleTermData)),this._disposables.push(this.term.onResize(this._handleTermResize))),this._termSize={cols:this.term.cols,rows:this.term.rows}}addAutocompleteHandler(t,...e){this._autocompleteHandlers.push({fn:t,args:e})}removeAutocompleteHandler(t){const e=this._autocompleteHandlers.findIndex((e=>e.fn===t));-1!==e&&this._autocompleteHandlers.splice(e,1)}read(t,e="> "){return new Promise(((r,n)=>{this.term.write(t),this._activePrompt={prompt:t,continuationPrompt:e,resolve:r,reject:n},this._input="",this._cursor=0,this._active=!0}))}readChar(t){return new Promise(((e,r)=>{this.term.write(t),this._activeCharPrompt={prompt:t,resolve:e,reject:r}}))}abortRead(t="aborted"){null==this._activePrompt&&null==this._activeCharPrompt||this.term.write("\r\n"),null!=this._activePrompt&&(this._activePrompt.reject(t),this._activePrompt=null),null!=this._activeCharPrompt&&(this._activeCharPrompt.reject(t),this._activeCharPrompt=null),this._active=!1}println(t){this.print(t+"\n")}print(t){const e=t.replace(/[\r\n]+/g,"\n");this.term.write(e.replace(/\n/g,"\r\n"))}printWide(t,e=2){if(0==t.length)return println("");const r=t.reduce(((t,e)=>Math.max(t,e.length)),0)+e,n=Math.floor(this._termSize.cols/r),i=Math.ceil(t.length/n);let o=0;for(let e=0;e<i;++e){let e="";for(let i=0;i<n;++i)if(o<t.length){let n=t[o++];n+=" ".repeat(r-n.length),e+=n}this.println(e)}}applyPrompts(t){const e=(this._activePrompt||{}).prompt||"",r=(this._activePrompt||{}).continuationPrompt||"";return e+t.replace(/\n/g,"\n"+r)}applyPromptOffset(t,e){return this.applyPrompts(t.substr(0,e)).length}clearInput(){const t=this.applyPrompts(this._input),e=C(t,this._termSize.cols),r=this.applyPromptOffset(this._input,this._cursor),{col:n,row:i}=O(t,r,this._termSize.cols),o=e-i-1;for(var s=0;s<o;++s)this.term.write("[E");for(this.term.write("\r[K"),s=1;s<e;++s)this.term.write("[F[K")}setInput(t,e=!0){e&&this.clearInput();const r=this.applyPrompts(t);this.print(r),this._cursor>t.length&&(this._cursor=t.length);const n=this.applyPromptOffset(t,this._cursor),i=C(r,this._termSize.cols),{col:o,row:s}=O(r,n,this._termSize.cols),a=i-s-1;this.term.write("\r");for(var f=0;f<a;++f)this.term.write("[F");for(f=0;f<o;++f)this.term.write("[C");this._input=t}printAndRestartPrompt(t){const e=this._cursor;this.setCursor(this._input.length),this.term.write("\r\n");const r=()=>{this._cursor=e,this.setInput(this._input)},n=t();null==n?r():n.then(r)}setCursor(t){t<0&&(t=0),t>this._input.length&&(t=this._input.length);const e=this.applyPrompts(this._input),r=(C(e,this._termSize.cols),this.applyPromptOffset(this._input,this._cursor)),{col:n,row:i}=O(e,r,this._termSize.cols),o=this.applyPromptOffset(this._input,t),{col:s,row:a}=O(e,o,this._termSize.cols);if(a>i)for(let t=i;t<a;++t)this.term.write("[B");else for(let t=a;t<i;++t)this.term.write("[A");if(s>n)for(let t=n;t<s;++t)this.term.write("[C");else for(let t=s;t<n;++t)this.term.write("[D");this._cursor=t}handleCursorMove(t){if(t>0){const e=Math.min(t,this._input.length-this._cursor);this.setCursor(this._cursor+e)}else if(t<0){const e=Math.max(t,-this._cursor);this.setCursor(this._cursor+e)}}handleCursorErase(t){const{_cursor:e,_input:r}=this;if(t){if(e<=0)return;const t=r.substr(0,e-1)+r.substr(e);this.clearInput(),this._cursor-=1,this.setInput(t,!1)}else{const t=r.substr(0,e)+r.substr(e+1);this.setInput(t)}}handleCursorInsert(t){const{_cursor:e,_input:r}=this,n=r.substr(0,e)+t+r.substr(e);this._cursor+=t.length,this.setInput(n)}handleReadComplete(){this.history&&this.history.push(this._input),this._activePrompt&&(this._activePrompt.resolve(this._input),this._activePrompt=null),this.term.write("\r\n"),this._active=!1}handleTermResize(t){const{rows:e,cols:r}=t;this.clearInput(),this._termSize={cols:r,rows:e},this.setInput(this._input,!1)}handleTermData(t){if(this._active){if(null!=this._activeCharPrompt)return this._activeCharPrompt.resolve(t),this._activeCharPrompt=null,void this.term.write("\r\n");if(t.length>3&&27!==t.charCodeAt(0)){const e=t.replace(/[\r\n]+/g,"\r");Array.from(e).forEach((t=>this.handleData(t)))}else this.handleData(t)}}handleData(t){if(!this._active)return;const e=t.charCodeAt(0);let r;if(27==e)switch(t.substr(1)){case"[A":if(this.history){let t=this.history.getPrevious();t&&(this.setInput(t),this.setCursor(t.length))}break;case"[B":if(this.history){let t=this.history.getNext();t||(t=""),this.setInput(t),this.setCursor(t.length)}break;case"[D":this.handleCursorMove(-1);break;case"[C":this.handleCursorMove(1);break;case"[3~":this.handleCursorErase(!1);break;case"[F":this.setCursor(this._input.length);break;case"[H":this.setCursor(0);break;case"b":r=R(this._input,this._cursor),null!=r&&this.setCursor(r);break;case"f":r=function(t,e){const r=b(t,!1).find((t=>t>e));return null==r?t.length:r}(this._input,this._cursor),null!=r&&this.setCursor(r);break;case"":r=R(this._input,this._cursor),null!=r&&(this.setInput(this._input.substr(0,r)+this._input.substr(this._cursor)),this.setCursor(r))}else if(e<32||127===e)switch(t){case"\r":""!=(n=this._input).trim()&&((n.match(/'/g)||[]).length%2!=0||(n.match(/"/g)||[]).length%2!=0||""==n.split(/(\|\||\||&&)/g).pop().trim()||n.endsWith("\\")&&!n.endsWith("\\\\"))?this.handleCursorInsert("\n"):this.handleReadComplete();break;case"":this.handleCursorErase(!0);break;case"\t":if(this._autocompleteHandlers.length>0){const t=this._input.substr(0,this._cursor),e=N(t),r=function(t,e){const r=(0,T.parse)(e);let n=r.length-1,i=r[n]||"";return""===e.trim()?(n=0,i=""):N(e)&&(n+=1,i=""),t.reduce(((t,{fn:e,args:i})=>{try{return t.concat(e(n,r,...i))}catch(e){return console.error("Auto-complete error:",e),t}}),[]).filter((t=>t.startsWith(i)))}(this._autocompleteHandlers,t);if(r.sort(),0===r.length)e||this.handleCursorInsert(" ");else if(1===r.length){const e=L(t);this.handleCursorInsert(r[0].substr(e.length)+" ")}else if(r.length<=this.maxAutocompleteEntries){const e=P(t,r);if(e){const r=L(t);this.handleCursorInsert(e.substr(r.length))}this.printAndRestartPrompt((()=>{this.printWide(r)}))}else this.printAndRestartPrompt((()=>this.readChar(`Display all ${r.length} possibilities? (y or n)`).then((t=>{"y"!=t&&"Y"!=t||this.printWide(r)}))))}else this.handleCursorInsert("    ");break;case"":this.setCursor(this._input.length),this.term.write("^C\r\n"+((this._activePrompt||{}).prompt||"")),this._input="",this._cursor=0,this.history&&this.history.rewind()}else this.handleCursorInsert(t);var n}};var B=r(563),F=r.n(B);class D{#t;#e;constructor(t){if("function"!=typeof t)throw new ValueError(`'outputFn' must be a function but is '${typeof t}'!`);this.#t=t,this.#e=""}write(t){"number"==typeof t&&(t=String.fromCharCode(t)),this.#e+=t;let e=this.#e.indexOf("\n");for(;e>=0;)this.#t(this.#e.slice(0,e+1)),this.#e=this.#e.slice(e+1),e=this.#e.indexOf("\n")}flush(){this.#e.length>0&&(this.#t(this.#e),this.#e="")}}const k=class{programName;wasmModule;#r;constructor(t,e,r){this.programName=t,this.wasmModule=e,this._loadEmscrJsRuntime(r)}run(t,e,r,n,i,o,s,a,f){console.log("emscr runnable run:",this.programName,t),"function"!=typeof e&&(e=()=>{}),"function"!=typeof r&&(r=()=>{}),"function"!=typeof n&&(n=()=>{}),i instanceof Array||(i=[]),"function"!=typeof o&&(o=()=>{}),"function"!=typeof s&&(s=t=>{console.error(t)}),"function"!=typeof a&&(a=()=>{});let u,h={thisProgramm:this.programName,instantiateWasm:(t,e)=>(WebAssembly.instantiate(this.wasmModule,t).then((t=>e(t,this.wasmModule))),{}),preInit:[()=>{h.TTY.register(h.FS.makedev(5,0),{get_char:t=>e(t),put_char:(t,e)=>{t.output.push(e),r(e)},flush:t=>t.output=[],fsync:t=>console.log("fsynced stdout (EmscriptenRunnable does nothing in this case)")}),h.TTY.register(h.FS.makedev(6,0),{get_char:t=>e(t),put_char:(t,e)=>{t.output.push(e),n(e)},flush:t=>t.output=[],fsync:t=>console.log("fsynced stderr (EmscriptenRunnable does nothing in this case)")})}]};if(f){"string"!=typeof f&&(f=(f||"").toString());let t=0;h.stdin=()=>t<f.length?f.charCodeAt(t++):null}this.#r(h).then((e=>{this._writeFilesToFS(e,i),e.callMain(t),u=this._readFilesFromFS(e),a(u)})).catch((t=>s(t))).finally((()=>o(u||i)))}runHeadless(t,e,r,n,i,o){console.log("emscr runnable run headless:",this.programName,t),"function"!=typeof r&&(r=()=>{});let s="",a="",f="";this.run(t,(()=>{console.log("called runHeadless stdin")}),(t=>{s+=String.fromCharCode(t),a+=String.fromCharCode(t)}),(t=>{s+=String.fromCharCode(t),f+=String.fromCharCode(t)}),e,(()=>r({output:s,stdout:a,stderr:f})),n,i,o)}_readFilesFromFS(t,e="/",r=!0,n=[]){const i=t.FS.lookupPath(e),o=e=>{let n=[];return Object.values(e.contents).forEach((e=>{let i=t.FS.getPath(e);t.FS.isFile(e.mode)&&n.push({name:i,timestamp:e.timestamp,bytes:r?t.FS.readFile(i):new Uint8Array}),t.FS.isDir(e.mode)&&(n=[...n,...o(e)])})),n};let s=o(i.node);return n.length>0&&(s=s.filter((t=>n.some((e=>e.name!=t.name))))),s}_writeFilesToFS(t,e=[]){e.forEach((e=>{try{e.bytes instanceof Uint8Array&&t.FS.writeFile(e.name,e.bytes)}catch(t){console.error(t.name+": "+t.message)}}))}_loadEmscrJsRuntime(t){const e="EmscrJSR_"+this.programName;if(this._isWorkerScope()){let r=new Blob([t],{type:"application/javascript"});importScripts(URL.createObjectURL(r)),console.log(t,r),this.#r=self[e]||self._createPyodideModule}else{if("undefined"==typeof document)throw new Error("can not load emscr js runtime environment");{const r=this.programName+"_emscrJSR";if(!document.getElementById(r)){let e=document.createElement("script");e.type="text/javascript",e.id=r,e.innerHTML=new TextDecoder("utf-8").decode(t),document.head.appendChild(e)}this.#r=window[e]}}}_isWorkerScope(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}};function U(t,e){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},U(t,e)}function M(t,e){function r(){this.constructor=t}U(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function x(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function G(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;t=r.call(t);var n,i=[];try{for(;(void 0===e||0<e--)&&!(n=t.next()).done;)i.push(n.value)}catch(t){var o={error:t}}finally{try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(o)throw o.error}}return i}function H(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(G(arguments[e]));return t}var j="undefined"!=typeof globalThis?globalThis:void 0!==r.g?r.g:{},Y="undefined"!=typeof BigInt?BigInt:j.BigInt||Number,z=DataView;z.prototype.setBigUint64||(z.prototype.setBigUint64=function(t,e,r){if(e<Math.pow(2,32)){e=Number(e);var n=0}else{n=e.toString(2),e="";for(var i=0;i<64-n.length;i++)e+="0";e+=n,n=parseInt(e.substring(0,32),2),e=parseInt(e.substring(32),2)}this.setUint32(t+(r?0:4),e,r),this.setUint32(t+(r?4:0),n,r)},z.prototype.getBigUint64=function(t,e){var r=this.getUint32(t+(e?0:4),e);t=this.getUint32(t+(e?4:0),e),r=r.toString(2),t=t.toString(2),e="";for(var n=0;n<32-r.length;n++)e+="0";return Y("0b"+t+(e+r))});var V=void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},K=[],q=[],Z="undefined"!=typeof Uint8Array?Uint8Array:Array,X=!1;function J(){X=!0;for(var t=0;64>t;++t)K[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t],q["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;q[45]=62,q[95]=63}function $(t,e,r){for(var n=[],i=e;i<r;i+=3)e=(t[i]<<16)+(t[i+1]<<8)+t[i+2],n.push(K[e>>18&63]+K[e>>12&63]+K[e>>6&63]+K[63&e]);return n.join("")}function Q(t){X||J();for(var e=t.length,r=e%3,n="",i=[],o=0,s=e-r;o<s;o+=16383)i.push($(t,o,o+16383>s?s:o+16383));return 1===r?(t=t[e-1],n+=K[t>>2],n+=K[t<<4&63],n+="=="):2===r&&(t=(t[e-2]<<8)+t[e-1],n+=K[t>>10],n+=K[t>>4&63],n+=K[t<<2&63],n+="="),i.push(n),i.join("")}function tt(t,e,r,n,i){var o=8*i-n-1,s=(1<<o)-1,a=s>>1,f=-7,u=r?-1:1,h=t[e+(i=r?i-1:0)];for(i+=u,r=h&(1<<-f)-1,h>>=-f,f+=o;0<f;r=256*r+t[e+i],i+=u,f-=8);for(o=r&(1<<-f)-1,r>>=-f,f+=n;0<f;o=256*o+t[e+i],i+=u,f-=8);if(0===r)r=1-a;else{if(r===s)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),r-=a}return(h?-1:1)*o*Math.pow(2,r-n)}function et(t,e,r,n,i,o){var s,a=8*o-i-1,f=(1<<a)-1,u=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;o=n?0:o-1;var l=n?1:-1,c=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,n=f):(n=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-n))&&(n--,s*=2),2<=(e=1<=n+u?e+h/s:e+h*Math.pow(2,1-u))*s&&(n++,s/=2),n+u>=f?(e=0,n=f):1<=n+u?(e=(e*s-1)*Math.pow(2,i),n+=u):(e=e*Math.pow(2,u-1)*Math.pow(2,i),n=0));8<=i;t[r+o]=255&e,o+=l,e/=256,i-=8);for(n=n<<i|e,a+=i;0<a;t[r+o]=255&n,o+=l,n/=256,a-=8);t[r+o-l]|=128*c}var rt={}.toString,nt=Array.isArray||function(t){return"[object Array]"==rt.call(t)};st.TYPED_ARRAY_SUPPORT=void 0===V.TYPED_ARRAY_SUPPORT||V.TYPED_ARRAY_SUPPORT;var it=st.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function ot(t,e){if((st.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<e)throw new RangeError("Invalid typed array length");return st.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=st.prototype:(null===t&&(t=new st(e)),t.length=e),t}function st(t,e,r){if(!(st.TYPED_ARRAY_SUPPORT||this instanceof st))return new st(t,e,r);if("number"==typeof t){if("string"==typeof e)throw Error("If encoding is specified then the first argument must be a string");return ut(this,t)}return at(this,t,e,r)}function at(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){if(e.byteLength,0>r||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),st.TYPED_ARRAY_SUPPORT?(t=e).__proto__=st.prototype:t=ht(t,e),t}if("string"==typeof e){if(n=t,"string"==typeof(t=r)&&""!==t||(t="utf8"),!st.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return(e=(n=ot(n,r=0|pt(e,t))).write(e,t))!==r&&(n=n.slice(0,e)),n}return function(t,e){if(ct(e)){var r=0|lt(e.length);return 0===(t=ot(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return(r="number"!=typeof e.length)||(r=(r=e.length)!=r),r?ot(t,0):ht(t,e);if("Buffer"===e.type&&nt(e.data))return ht(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function ft(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(0>t)throw new RangeError('"size" argument must not be negative')}function ut(t,e){if(ft(e),t=ot(t,0>e?0:0|lt(e)),!st.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function ht(t,e){var r=0>e.length?0:0|lt(e.length);t=ot(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function lt(t){if(t>=(st.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(st.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|t}function ct(t){return!(null==t||!t._isBuffer)}function pt(t,e){if(ct(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return bt(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Ot(t).length;default:if(n)return bt(t).length;e=(""+e).toLowerCase(),n=!0}}function dt(t,e,r){var n=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),0>=r)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":for(t=e,e=r,r=this.length,(!t||0>t)&&(t=0),(!e||0>e||e>r)&&(e=r),n="",r=t;r<e;++r)n=(t=n)+(n=16>(n=this[r])?"0"+n.toString(16):n.toString(16));return n;case"utf8":case"utf-8":return mt(this,e,r);case"ascii":for(t="",r=Math.min(this.length,r);e<r;++e)t+=String.fromCharCode(127&this[e]);return t;case"latin1":case"binary":for(t="",r=Math.min(this.length,r);e<r;++e)t+=String.fromCharCode(this[e]);return t;case"base64":return 0===e&&r===this.length?Q(this):Q(this.slice(e,r));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(e=this.slice(e,r),r="",t=0;t<e.length;t+=2)r+=String.fromCharCode(e[t]+256*e[t+1]);return r;default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _t(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function gt(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:-2147483648>r&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),0>r&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(0>r){if(!i)return-1;r=0}if("string"==typeof e&&(e=st.from(e,n)),ct(e))return 0===e.length?-1:yt(t,e,r,n,i);if("number"==typeof e)return e&=255,st.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):yt(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function yt(t,e,r,n,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,f=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(2>t.length||2>e.length)return-1;s=2,a/=2,f/=2,r/=2}if(i)for(n=-1;r<a;r++)if(o(t,r)===o(e,-1===n?0:r-n)){if(-1===n&&(n=r),r-n+1===f)return n*s}else-1!==n&&(r-=r-n),n=-1;else for(r+f>a&&(r=a-f);0<=r;r--){for(a=!0,n=0;n<f;n++)if(o(t,r+n)!==o(e,n)){a=!1;break}if(a)return r}return-1}function mt(t,e,r){r=Math.min(t.length,r);for(var n=[];e<r;){var i=t[e],o=null,s=239<i?4:223<i?3:191<i?2:1;if(e+s<=r)switch(s){case 1:128>i&&(o=i);break;case 2:var a=t[e+1];128==(192&a)&&127<(i=(31&i)<<6|63&a)&&(o=i);break;case 3:a=t[e+1];var f=t[e+2];128==(192&a)&&128==(192&f)&&2047<(i=(15&i)<<12|(63&a)<<6|63&f)&&(55296>i||57343<i)&&(o=i);break;case 4:a=t[e+1],f=t[e+2];var u=t[e+3];128==(192&a)&&128==(192&f)&&128==(192&u)&&65535<(i=(15&i)<<18|(63&a)<<12|(63&f)<<6|63&u)&&1114112>i&&(o=i)}null===o?(o=65533,s=1):65535<o&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),e+=s}if((t=n.length)<=Et)n=String.fromCharCode.apply(String,n);else{for(r="",e=0;e<t;)r+=String.fromCharCode.apply(String,n.slice(e,e+=Et));n=r}return n}st.poolSize=8192,st._augment=function(t){return t.__proto__=st.prototype,t},st.from=function(t,e,r){return at(null,t,e,r)},st.TYPED_ARRAY_SUPPORT&&(st.prototype.__proto__=Uint8Array.prototype,st.__proto__=Uint8Array),st.alloc=function(t,e,r){return ft(t),0>=t?ot(null,t):void 0!==e?"string"==typeof r?ot(null,t).fill(e,r):ot(null,t).fill(e):ot(null,t)},st.allocUnsafe=function(t){return ut(null,t)},st.allocUnsafeSlow=function(t){return ut(null,t)},st.isBuffer=Nt,st.compare=function(t,e){if(!ct(t)||!ct(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},st.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},st.concat=function(t,e){if(!nt(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return st.alloc(0);var r;if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;e=st.allocUnsafe(e);var n=0;for(r=0;r<t.length;++r){var i=t[r];if(!ct(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(e,n),n+=i.length}return e},st.byteLength=pt,st.prototype._isBuffer=!0,st.prototype.swap16=function(){var t=this.length;if(0!=t%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_t(this,e,e+1);return this},st.prototype.swap32=function(){var t=this.length;if(0!=t%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_t(this,e,e+3),_t(this,e+1,e+2);return this},st.prototype.swap64=function(){var t=this.length;if(0!=t%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_t(this,e,e+7),_t(this,e+1,e+6),_t(this,e+2,e+5),_t(this,e+3,e+4);return this},st.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?mt(this,0,t):dt.apply(this,arguments)},st.prototype.equals=function(t){if(!ct(t))throw new TypeError("Argument must be a Buffer");return this===t||0===st.compare(this,t)},st.prototype.inspect=function(){var t="";return 0<this.length&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(t+=" ... ")),"<Buffer "+t+">"},st.prototype.compare=function(t,e,r,n,i){if(!ct(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),0>e||r>t.length||0>n||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s);for(n=this.slice(n,i),t=t.slice(e,r),e=0;e<a;++e)if(n[e]!==t[e]){o=n[e],s=t[e];break}return o<s?-1:s<o?1:0},st.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},st.prototype.indexOf=function(t,e,r){return gt(this,t,e,r,!0)},st.prototype.lastIndexOf=function(t,e,r){return gt(this,t,e,r,!1)},st.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),0<t.length&&(0>r||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(n||(n="utf8"),i=!1;;)switch(n){case"hex":t:{if(e=Number(e)||0,n=this.length-e,r?(r=Number(r))>n&&(r=n):r=n,0!=(n=t.length)%2)throw new TypeError("Invalid hex string");for(r>n/2&&(r=n/2),n=0;n<r;++n){if(i=parseInt(t.substr(2*n,2),16),isNaN(i)){t=n;break t}this[e+n]=i}t=n}return t;case"utf8":case"utf-8":return Ct(bt(t,this.length-e),this,e,r);case"ascii":case"latin1":case"binary":return Ct(Rt(t),this,e,r);case"base64":return Ct(Ot(t),this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=t,i=this.length-e;for(var o=[],s=0;s<n.length&&!(0>(i-=2));++s){var a=n.charCodeAt(s);t=a>>8,a%=256,o.push(a),o.push(t)}return Ct(o,this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},st.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Et=4096;function St(t,e,r){if(0!=t%1||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function It(t,e,r,n,i,o){if(!ct(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function wt(t,e,r,n){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function At(t,e,r,n){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function vt(t,e,r,n){if(r+n>t.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("Index out of range")}st.prototype.slice=function(t,e){var r=this.length;if(0>(t=~~t)?0>(t+=r)&&(t=0):t>r&&(t=r),0>(e=void 0===e?r:~~e)?0>(e+=r)&&(e=0):e>r&&(e=r),e<t&&(e=t),st.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,e)).__proto__=st.prototype;else{e=new st(r=e-t,void 0);for(var n=0;n<r;++n)e[n]=this[n+t]}return e},st.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||St(t,e,this.length),r=this[t];for(var n=1,i=0;++i<e&&(n*=256);)r+=this[t+i]*n;return r},st.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||St(t,e,this.length),r=this[t+--e];for(var n=1;0<e&&(n*=256);)r+=this[t+--e]*n;return r},st.prototype.readUInt8=function(t,e){return e||St(t,1,this.length),this[t]},st.prototype.readUInt16LE=function(t,e){return e||St(t,2,this.length),this[t]|this[t+1]<<8},st.prototype.readUInt16BE=function(t,e){return e||St(t,2,this.length),this[t]<<8|this[t+1]},st.prototype.readUInt32LE=function(t,e){return e||St(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},st.prototype.readUInt32BE=function(t,e){return e||St(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},st.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||St(t,e,this.length),r=this[t];for(var n=1,i=0;++i<e&&(n*=256);)r+=this[t+i]*n;return r>=128*n&&(r-=Math.pow(2,8*e)),r},st.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||St(t,e,this.length),r=e;for(var n=1,i=this[t+--r];0<r&&(n*=256);)i+=this[t+--r]*n;return i>=128*n&&(i-=Math.pow(2,8*e)),i},st.prototype.readInt8=function(t,e){return e||St(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},st.prototype.readInt16LE=function(t,e){return e||St(t,2,this.length),32768&(t=this[t]|this[t+1]<<8)?4294901760|t:t},st.prototype.readInt16BE=function(t,e){return e||St(t,2,this.length),32768&(t=this[t+1]|this[t]<<8)?4294901760|t:t},st.prototype.readInt32LE=function(t,e){return e||St(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},st.prototype.readInt32BE=function(t,e){return e||St(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},st.prototype.readFloatLE=function(t,e){return e||St(t,4,this.length),tt(this,t,!0,23,4)},st.prototype.readFloatBE=function(t,e){return e||St(t,4,this.length),tt(this,t,!1,23,4)},st.prototype.readDoubleLE=function(t,e){return e||St(t,8,this.length),tt(this,t,!0,52,8)},st.prototype.readDoubleBE=function(t,e){return e||St(t,8,this.length),tt(this,t,!1,52,8)},st.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||It(this,t,e,r,Math.pow(2,8*r)-1,0),n=1;var i=0;for(this[e]=255&t;++i<r&&(n*=256);)this[e+i]=t/n&255;return e+r},st.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||It(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1;for(this[e+(n=r-1)]=255&t;0<=--n&&(i*=256);)this[e+n]=t/i&255;return e+r},st.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||It(this,t,e,1,255,0),st.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},st.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||It(this,t,e,2,65535,0),st.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):wt(this,t,e,!0),e+2},st.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||It(this,t,e,2,65535,0),st.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):wt(this,t,e,!1),e+2},st.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||It(this,t,e,4,4294967295,0),st.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):At(this,t,e,!0),e+4},st.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||It(this,t,e,4,4294967295,0),st.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):At(this,t,e,!1),e+4},st.prototype.writeIntLE=function(t,e,r,n){t=+t,e|=0,n||It(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n),n=0;var i=1,o=0;for(this[e]=255&t;++n<r&&(i*=256);)0>t&&0===o&&0!==this[e+n-1]&&(o=1),this[e+n]=(t/i|0)-o&255;return e+r},st.prototype.writeIntBE=function(t,e,r,n){t=+t,e|=0,n||It(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var i=1,o=0;for(this[e+(n=r-1)]=255&t;0<=--n&&(i*=256);)0>t&&0===o&&0!==this[e+n+1]&&(o=1),this[e+n]=(t/i|0)-o&255;return e+r},st.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||It(this,t,e,1,127,-128),st.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},st.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||It(this,t,e,2,32767,-32768),st.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):wt(this,t,e,!0),e+2},st.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||It(this,t,e,2,32767,-32768),st.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):wt(this,t,e,!1),e+2},st.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||It(this,t,e,4,2147483647,-2147483648),st.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):At(this,t,e,!0),e+4},st.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||It(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),st.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):At(this,t,e,!1),e+4},st.prototype.writeFloatLE=function(t,e,r){return r||vt(this,0,e,4),et(this,t,e,!0,23,4),e+4},st.prototype.writeFloatBE=function(t,e,r){return r||vt(this,0,e,4),et(this,t,e,!1,23,4),e+4},st.prototype.writeDoubleLE=function(t,e,r){return r||vt(this,0,e,8),et(this,t,e,!0,52,8),e+8},st.prototype.writeDoubleBE=function(t,e,r){return r||vt(this,0,e,8),et(this,t,e,!1,52,8),e+8},st.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),0<n&&n<r&&(n=r),n===r||0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;if(this===t&&r<e&&e<n)for(n=i-1;0<=n;--n)t[n+e]=this[n+r];else if(1e3>i||!st.TYPED_ARRAY_SUPPORT)for(n=0;n<i;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},st.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);256>i&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!st.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(0>e||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(n=e;n<r;++n)this[n]=t;else for(i=(t=ct(t)?t:bt(new st(t,n).toString())).length,n=0;n<r-e;++n)this[n+e]=t[n%i];return this};var Tt=/[^+\/0-9A-Za-z-_]/g;function bt(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],s=0;s<n;++s){if(55295<(r=t.charCodeAt(s))&&57344>r){if(!i){if(56319<r){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===n){-1<(e-=3)&&o.push(239,191,189);continue}i=r;continue}if(56320>r){-1<(e-=3)&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,128>r){if(0>--e)break;o.push(r)}else if(2048>r){if(0>(e-=2))break;o.push(r>>6|192,63&r|128)}else if(65536>r){if(0>(e-=3))break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw Error("Invalid code point");if(0>(e-=4))break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Rt(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function Ot(t){if(2>(t=(t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(Tt,"")).length)t="";else for(;0!=t.length%4;)t+="=";X||J();var e=t.length;if(0<e%4)throw Error("Invalid string. Length must be a multiple of 4");var r="="===t[e-2]?2:"="===t[e-1]?1:0,n=new Z(3*e/4-r),i=0<r?e-4:e,o=0;for(e=0;e<i;e+=4){var s=q[t.charCodeAt(e)]<<18|q[t.charCodeAt(e+1)]<<12|q[t.charCodeAt(e+2)]<<6|q[t.charCodeAt(e+3)];n[o++]=s>>16&255,n[o++]=s>>8&255,n[o++]=255&s}return 2===r?(s=q[t.charCodeAt(e)]<<2|q[t.charCodeAt(e+1)]>>4,n[o++]=255&s):1===r&&(s=q[t.charCodeAt(e)]<<10|q[t.charCodeAt(e+1)]<<4|q[t.charCodeAt(e+2)]>>2,n[o++]=s>>8&255,n[o++]=255&s),n}function Ct(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Nt(t){return null!=t&&(!!t._isBuffer||Lt(t)||"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Lt(t.slice(0,0)))}function Lt(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Pt=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:it,Buffer:st,SlowBuffer:function(t){return+t!=t&&(t=0),st.alloc(+t)},isBuffer:Nt}),Wt=st,Bt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function Ft(t,e){return t(e={exports:{}},e.exports),e.exports}function Dt(){throw Error("setTimeout has not been defined")}function kt(){throw Error("clearTimeout has not been defined")}var Ut=Dt,Mt=kt;function xt(t){if(Ut===setTimeout)return setTimeout(t,0);if((Ut===Dt||!Ut)&&setTimeout)return Ut=setTimeout,setTimeout(t,0);try{return Ut(t,0)}catch(e){try{return Ut.call(null,t,0)}catch(e){return Ut.call(this,t,0)}}}"function"==typeof V.setTimeout&&(Ut=setTimeout),"function"==typeof V.clearTimeout&&(Mt=clearTimeout);var Gt,Ht=[],jt=!1,Yt=-1;function zt(){jt&&Gt&&(jt=!1,Gt.length?Ht=Gt.concat(Ht):Yt=-1,Ht.length&&Vt())}function Vt(){if(!jt){var t=xt(zt);jt=!0;for(var e=Ht.length;e;){for(Gt=Ht,Ht=[];++Yt<e;)Gt&&Gt[Yt].run();Yt=-1,e=Ht.length}Gt=null,jt=!1,function(t){if(Mt===clearTimeout)return clearTimeout(t);if((Mt===kt||!Mt)&&clearTimeout)return Mt=clearTimeout,clearTimeout(t);try{return Mt(t)}catch(e){try{return Mt.call(null,t)}catch(e){return Mt.call(this,t)}}}(t)}}function Kt(t,e){this.fun=t,this.array=e}Kt.prototype.run=function(){this.fun.apply(null,this.array)};var qt=V.performance||{},Zt=(qt.now||qt.mozNow||qt.msNow||qt.oNow||qt.webkitNow,new Date,function(){return"/"}),Xt=Ft((function(t,e){function r(t,e){for(var r in t)e[r]=t[r]}function n(t,e,r){return i(t,e,r)}var i=Pt.Buffer;i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=Pt:(r(Pt,e),e.Buffer=n),n.prototype=Object.create(i.prototype),r(i,n),n.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},n.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");return t=i(t),void 0!==e?"string"==typeof r?t.fill(e,r):t.fill(e):t.fill(0),t},n.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},n.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return Pt.SlowBuffer(t)}})),Jt=Ft((function(t,e){function r(){throw Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function n(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>u||0>t)throw new TypeError("offset must be a uint32");if(t>a||t>e)throw new RangeError("offset out of range")}function i(t,e,r){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>u||0>t)throw new TypeError("size must be a uint32");if(t+e>r||t>a)throw new RangeError("buffer too small")}function o(t,e,r,n){if(e=new Uint8Array(t.buffer,e,r),f.getRandomValues(e),!n)return t;!function(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Ht.push(new Kt(t,e)),1!==Ht.length||jt||xt(Vt)}((function(){n(null,t)}))}var s=Xt.Buffer,a=Xt.kMaxLength,f=Bt.crypto||Bt.msCrypto,u=Math.pow(2,32)-1;f&&f.getRandomValues?(e.randomFill=function(t,e,r,a){if(!(s.isBuffer(t)||t instanceof Bt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)a=e,e=0,r=t.length;else if("function"==typeof r)a=r,r=t.length-e;else if("function"!=typeof a)throw new TypeError('"cb" argument must be a function');return n(e,t.length),i(r,e,t.length),o(t,e,r,a)},e.randomFillSync=function(t,e,r){if(void 0===e&&(e=0),!(s.isBuffer(t)||t instanceof Bt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return n(e,t.length),void 0===r&&(r=t.length-e),i(r,e,t.length),o(t,e,r)}):(e.randomFill=r,e.randomFillSync=r)})),$t=Ft((function(t){t.exports=Jt})).randomFillSync,Qt=Math.floor(.001*(Date.now()-performance.now()));function te(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function ee(t,e){for(var r,n="",i=0,o=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)r=t.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o!==a-1&&1!==s)if(o!==a-1&&2===s){if(2>n.length||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(2<n.length){if((o=n.lastIndexOf("/"))!==n.length-1){-1===o?(n="",i=0):i=(n=n.slice(0,o)).length-1-n.lastIndexOf("/"),o=a,s=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=a,s=0;continue}e&&(n=0<n.length?n+"/..":"..",i=2)}else n=0<n.length?n+"/"+t.slice(o+1,a):t.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var re,ne={resolve:function(){for(var t,e="",r=!1,n=arguments.length-1;-1<=n&&!r;n--){if(0<=n)var i=arguments[n];else void 0===t&&(t=Zt()),i=t;te(i),0!==i.length&&(e=i+"/"+e,r=47===i.charCodeAt(0))}return e=ee(e,!r),r?0<e.length?"/"+e:"/":0<e.length?e:"."},normalize:function(t){if(te(t),0===t.length)return".";var e=47===t.charCodeAt(0),r=47===t.charCodeAt(t.length-1);return 0!==(t=ee(t,!e)).length||e||(t="."),0<t.length&&r&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return te(t),0<t.length&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var r=arguments[e];te(r),0<r.length&&(t=void 0===t?r:t+"/"+r)}return void 0===t?".":ne.normalize(t)},relative:function(t,e){if(te(t),te(e),t===e)return"";if((t=ne.resolve(t))===(e=ne.resolve(e)))return"";for(var r=1;r<t.length&&47===t.charCodeAt(r);++r);for(var n=t.length,i=n-r,o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var s=e.length-o,a=i<s?i:s,f=-1,u=0;u<=a;++u){if(u===a){if(s>a){if(47===e.charCodeAt(o+u))return e.slice(o+u+1);if(0===u)return e.slice(o+u)}else i>a&&(47===t.charCodeAt(r+u)?f=u:0===u&&(f=0));break}var h=t.charCodeAt(r+u);if(h!==e.charCodeAt(o+u))break;47===h&&(f=u)}for(i="",u=r+f+1;u<=n;++u)u!==n&&47!==t.charCodeAt(u)||(i=0===i.length?i+"..":i+"/..");return 0<i.length?i+e.slice(o+f):(o+=f,47===e.charCodeAt(o)&&++o,e.slice(o))},_makeLong:function(t){return t},dirname:function(t){if(te(t),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,i=!0,o=t.length-1;1<=o;--o)if(47===(e=t.charCodeAt(o))){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"//":t.slice(0,n)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');te(t);var r,n=0,i=-1,o=!0;if(void 0!==e&&0<e.length&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var s=e.length-1,a=-1;for(r=t.length-1;0<=r;--r){var f=t.charCodeAt(r);if(47===f){if(!o){n=r+1;break}}else-1===a&&(o=!1,a=r+1),0<=s&&(f===e.charCodeAt(s)?-1==--s&&(i=r):(s=-1,i=a))}return n===i?i=a:-1===i&&(i=t.length),t.slice(n,i)}for(r=t.length-1;0<=r;--r)if(47===t.charCodeAt(r)){if(!o){n=r+1;break}}else-1===i&&(o=!1,i=r+1);return-1===i?"":t.slice(n,i)},extname:function(t){te(t);for(var e=-1,r=0,n=-1,i=!0,o=0,s=t.length-1;0<=s;--s){var a=t.charCodeAt(s);if(47===a){if(!i){r=s+1;break}}else-1===n&&(i=!1,n=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1)}return-1===e||-1===n||0===o||1===o&&e===n-1&&e===r+1?"":t.slice(e,n)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);var e=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return e?e===t.root?e+r:e+"/"+r:r},parse:function(t){te(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var r=t.charCodeAt(0),n=47===r;if(n){e.root="/";var i=1}else i=0;for(var o=-1,s=0,a=-1,f=!0,u=t.length-1,h=0;u>=i;--u)if(47===(r=t.charCodeAt(u))){if(!f){s=u+1;break}}else-1===a&&(f=!1,a=u+1),46===r?-1===o?o=u:1!==h&&(h=1):-1!==o&&(h=-1);return-1===o||-1===a||0===h||1===h&&o===a-1&&o===s+1?-1!==a&&(e.base=e.name=0===s&&n?t.slice(1,a):t.slice(s,a)):(0===s&&n?(e.name=t.slice(1,o),e.base=t.slice(1,a)):(e.name=t.slice(s,o),e.base=t.slice(s,a)),e.ext=t.slice(o,a)),0<s?e.dir=t.slice(0,s-1):n&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null},ie=ne.posix=ne,oe={hrtime:function(t){return 1e9*(t=function(t){var e=.001*performance.now(),r=Math.floor(e)+Qt;return e=Math.floor(e%1*1e9),t&&(r-=t[0],0>(e-=t[1])&&(r--,e+=1e9)),[r,e]}(t))[0]+t[1]},exit:function(t){throw new Qe(t)},kill:function(t){throw new tr(t)},randomFillSync:$t,isTTY:function(){return!0},path:Object.freeze({__proto__:null,default:ie,__moduleExports:ie}),fs:null},se=Y(1),ae=Y(2),fe=Y(4),ue=Y(8),he=Y(16),le=Y(32),ce=Y(64),pe=Y(128),de=Y(256),_e=Y(512),ge=Y(1024),ye=Y(2048),me=Y(4096),Ee=Y(8192),Se=Y(16384),Ie=Y(32768),we=Y(65536),Ae=Y(131072),ve=Y(262144),Te=Y(524288),be=Y(1048576),Re=Y(2097152),Oe=Y(4194304),Ce=Y(8388608),Ne=Y(16777216),Le=Y(33554432),Pe=Y(67108864),We=Y(134217728),Be=Y(268435456),Fe=se|ae|fe|ue|he|le|ce|pe|de|_e|ge|ye|me|Ee|Se|Ie|we|Ae|ve|Te|be|Re|Ce|Oe|Ne|Pe|Le|We|Be,De=se|ae|fe|ue|he|le|ce|pe|de|Re|Oe|Ce|We,ke=Y(0),Ue=ue|he|pe|_e|ge|ye|me|Ee|Se|Ie|we|Ae|ve|Te|be|Re|Ce|Ne|Pe|Le|We,Me=Ue|De,xe=ae|ue|ce|Re|We|Be,Ge=ae|ue|ce|Re|We,He=Y(0),je={E2BIG:1,EACCES:2,EADDRINUSE:3,EADDRNOTAVAIL:4,EAFNOSUPPORT:5,EALREADY:7,EAGAIN:6,EBADF:8,EBADMSG:9,EBUSY:10,ECANCELED:11,ECHILD:12,ECONNABORTED:13,ECONNREFUSED:14,ECONNRESET:15,EDEADLOCK:16,EDESTADDRREQ:17,EDOM:18,EDQUOT:19,EEXIST:20,EFAULT:21,EFBIG:22,EHOSTDOWN:23,EHOSTUNREACH:23,EIDRM:24,EILSEQ:25,EINPROGRESS:26,EINTR:27,EINVAL:28,EIO:29,EISCONN:30,EISDIR:31,ELOOP:32,EMFILE:33,EMLINK:34,EMSGSIZE:35,EMULTIHOP:36,ENAMETOOLONG:37,ENETDOWN:38,ENETRESET:39,ENETUNREACH:40,ENFILE:41,ENOBUFS:42,ENODEV:43,ENOENT:44,ENOEXEC:45,ENOLCK:46,ENOLINK:47,ENOMEM:48,ENOMSG:49,ENOPROTOOPT:50,ENOSPC:51,ENOSYS:52,ENOTCONN:53,ENOTDIR:54,ENOTEMPTY:55,ENOTRECOVERABLE:56,ENOTSOCK:57,ENOTTY:59,ENXIO:60,EOVERFLOW:61,EOWNERDEAD:62,EPERM:63,EPIPE:64,EPROTO:65,EPROTONOSUPPORT:66,EPROTOTYPE:67,ERANGE:68,EROFS:69,ESPIPE:70,ESRCH:71,ESTALE:72,ETIMEDOUT:73,ETXTBSY:74,EXDEV:75},Ye=((re={})[6]="SIGHUP",re[8]="SIGINT",re[11]="SIGQUIT",re[7]="SIGILL",re[15]="SIGTRAP",re[0]="SIGABRT",re[2]="SIGBUS",re[5]="SIGFPE",re[9]="SIGKILL",re[20]="SIGUSR1",re[12]="SIGSEGV",re[21]="SIGUSR2",re[10]="SIGPIPE",re[1]="SIGALRM",re[14]="SIGTERM",re[3]="SIGCHLD",re[4]="SIGCONT",re[13]="SIGSTOP",re[16]="SIGTSTP",re[17]="SIGTTIN",re[18]="SIGTTOU",re[19]="SIGURG",re[23]="SIGXCPU",re[24]="SIGXFSZ",re[22]="SIGVTALRM",re),ze=se|ae|he|pe|Re|We,Ve=se|ce|he|pe|Re|We;function Ke(t){var e=Math.trunc(t);return t=Y(Math.round(1e6*(t-e))),Y(e)*Y(1e6)+t}function qe(t){return"number"==typeof t&&(t=Math.trunc(t)),t=Y(t),Number(t/Y(1e6))}function Ze(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];try{return t.apply(void 0,H(e))}catch(t){if(t&&t.code&&"string"==typeof t.code)return je[t.code]||28;if(t instanceof $e)return t.errno;throw t}}}function Xe(t,e){var r=t.FD_MAP.get(e);if(!r)throw new $e(8);if(void 0===r.filetype){var n=t.bindings.fs.fstatSync(r.real);e=(t=Je(t,e,n)).rightsBase,n=t.rightsInheriting,r.filetype=t.filetype,r.rights||(r.rights={base:e,inheriting:n})}return r}function Je(t,e,r){switch(!0){case r.isBlockDevice():return{filetype:1,rightsBase:Fe,rightsInheriting:Fe};case r.isCharacterDevice():return void 0!==e&&t.bindings.isTTY(e)?{filetype:2,rightsBase:Ge,rightsInheriting:He}:{filetype:2,rightsBase:Fe,rightsInheriting:Fe};case r.isDirectory():return{filetype:3,rightsBase:Ue,rightsInheriting:Me};case r.isFIFO():return{filetype:6,rightsBase:xe,rightsInheriting:Fe};case r.isFile():return{filetype:4,rightsBase:De,rightsInheriting:ke};case r.isSocket():return{filetype:6,rightsBase:xe,rightsInheriting:Fe};case r.isSymbolicLink():return{filetype:7,rightsBase:Y(0),rightsInheriting:Y(0)};default:return{filetype:0,rightsBase:Y(0),rightsInheriting:Y(0)}}}var $e=function(t){function e(r){var n=t.call(this)||this;return n.errno=r,Object.setPrototypeOf(n,e.prototype),n}return M(e,t),e}(Error),Qe=function(t){function e(r){var n=t.call(this,"WASI Exit error: "+r)||this;return n.code=r,Object.setPrototypeOf(n,e.prototype),n}return M(e,t),e}(Error),tr=function(t){function e(r){var n=t.call(this,"WASI Kill signal: "+r)||this;return n.signal=r,Object.setPrototypeOf(n,e.prototype),n}return M(e,t),e}(Error),er=function(){function t(t){function e(t){switch(t){case 1:return u.hrtime();case 0:return Ke(Date.now());case 2:case 3:return u.hrtime()-S;default:return null}}function r(t,e){if(t=Xe(o,t),e!==Y(0)&&(t.rights.base&e)===Y(0))throw new $e(63);return t}function n(t,e){return o.refreshMemory(),Array.from({length:e},(function(e,r){return r=t+8*r,e=o.view.getUint32(r,!0),r=o.view.getUint32(r+4,!0),new Uint8Array(o.memory.buffer,e,r)}))}var i,o=this,s={};t&&t.preopens?s=t.preopens:t&&t.preopenDirectories&&(s=t.preopenDirectories);var a={};t&&t.env&&(a=t.env);var f=[];t&&t.args&&(f=t.args);var u=oe;t&&t.bindings&&(u=t.bindings),this.view=this.memory=void 0,this.bindings=u,this.FD_MAP=new Map([[0,{real:0,filetype:2,rights:{base:ze,inheriting:Y(0)},path:void 0}],[1,{real:1,filetype:2,rights:{base:Ve,inheriting:Y(0)},path:void 0}],[2,{real:2,filetype:2,rights:{base:Ve,inheriting:Y(0)},path:void 0}]]);var h=this.bindings.fs,l=this.bindings.path;try{for(var c=x(Object.entries(s)),p=c.next();!p.done;p=c.next()){var d=G(p.value,2),_=d[0],g=d[1],y=h.openSync(g,h.constants.O_RDONLY),m=H(this.FD_MAP.keys()).reverse()[0]+1;this.FD_MAP.set(m,{real:y,filetype:3,rights:{base:Ue,inheriting:Me},fakePath:_,path:g})}}catch(t){var E={error:t}}finally{try{p&&!p.done&&(i=c.return)&&i.call(c)}finally{if(E)throw E.error}}var S=u.hrtime();this.wasiImport={args_get:function(t,e){o.refreshMemory();var r=t,n=e;return f.forEach((function(t){o.view.setUint32(r,n,!0),r+=4,n+=Wt.from(o.memory.buffer).write(t+"\0",n)})),0},args_sizes_get:function(t,e){return o.refreshMemory(),o.view.setUint32(t,f.length,!0),t=f.reduce((function(t,e){return t+Wt.byteLength(e)+1}),0),o.view.setUint32(e,t,!0),0},environ_get:function(t,e){o.refreshMemory();var r=t,n=e;return Object.entries(a).forEach((function(t){var e=G(t,2);t=e[0],e=e[1],o.view.setUint32(r,n,!0),r+=4,n+=Wt.from(o.memory.buffer).write(t+"="+e+"\0",n)})),0},environ_sizes_get:function(t,e){o.refreshMemory();var r=Object.entries(a).map((function(t){return(t=G(t,2))[0]+"="+t[1]+"\0"})),n=r.reduce((function(t,e){return t+Wt.byteLength(e)}),0);return o.view.setUint32(t,r.length,!0),o.view.setUint32(e,n,!0),0},clock_res_get:function(t,e){switch(t){case 1:case 2:case 3:var r=Y(1);break;case 0:r=Y(1e3)}return o.view.setBigUint64(e,r),0},clock_time_get:function(t,r,n){return o.refreshMemory(),null===(t=e(t))?28:(o.view.setBigUint64(n,Y(t),!0),0)},fd_advise:Ze((function(t){return r(t,pe),52})),fd_allocate:Ze((function(t){return r(t,de),52})),fd_close:Ze((function(t){var e=r(t,Y(0));return h.closeSync(e.real),o.FD_MAP.delete(t),0})),fd_datasync:Ze((function(t){return t=r(t,se),h.fdatasyncSync(t.real),0})),fd_fdstat_get:Ze((function(t,e){return t=r(t,Y(0)),o.refreshMemory(),o.view.setUint8(e,t.filetype),o.view.setUint16(e+2,0,!0),o.view.setUint16(e+4,0,!0),o.view.setBigUint64(e+8,Y(t.rights.base),!0),o.view.setBigUint64(e+8+8,Y(t.rights.inheriting),!0),0})),fd_fdstat_set_flags:Ze((function(t){return r(t,ue),52})),fd_fdstat_set_rights:Ze((function(t,e,n){return((t=r(t,Y(0))).rights.base|e)>t.rights.base||(t.rights.inheriting|n)>t.rights.inheriting?63:(t.rights.base=e,t.rights.inheriting=n,0)})),fd_filestat_get:Ze((function(t,e){t=r(t,Re);var n=h.fstatSync(t.real);return o.refreshMemory(),o.view.setBigUint64(e,Y(n.dev),!0),e+=8,o.view.setBigUint64(e,Y(n.ino),!0),e+=8,o.view.setUint8(e,t.filetype),e+=8,o.view.setBigUint64(e,Y(n.nlink),!0),e+=8,o.view.setBigUint64(e,Y(n.size),!0),e+=8,o.view.setBigUint64(e,Ke(n.atimeMs),!0),e+=8,o.view.setBigUint64(e,Ke(n.mtimeMs),!0),o.view.setBigUint64(e+8,Ke(n.ctimeMs),!0),0})),fd_filestat_set_size:Ze((function(t,e){return t=r(t,Oe),h.ftruncateSync(t.real,Number(e)),0})),fd_filestat_set_times:Ze((function(t,n,i,o){t=r(t,Ce);var s=h.fstatSync(t.real),a=s.atime;s=s.mtime;var f=qe(e(0));return 3&~o&&12&~o?(1&~o?!(2&~o)&&(a=f):a=qe(n),4&~o?!(8&~o)&&(s=f):s=qe(i),h.futimesSync(t.real,new Date(a),new Date(s)),0):28})),fd_prestat_get:Ze((function(t,e){return(t=r(t,Y(0))).path?(o.refreshMemory(),o.view.setUint8(e,0),o.view.setUint32(e+4,Wt.byteLength(t.fakePath),!0),0):28})),fd_prestat_dir_name:Ze((function(t,e,n){return(t=r(t,Y(0))).path?(o.refreshMemory(),Wt.from(o.memory.buffer).write(t.fakePath,e,n,"utf8"),0):28})),fd_pwrite:Ze((function(t,e,i,s,a){var f=r(t,ce|fe),u=0;return n(e,i).forEach((function(t){for(var e=0;e<t.byteLength;)e+=h.writeSync(f.real,t,e,t.byteLength-e,Number(s)+u+e);u+=e})),o.view.setUint32(a,u,!0),0})),fd_write:Ze((function(t,e,i,s){var a=r(t,ce),f=0;return n(e,i).forEach((function(t){for(var e=0;e<t.byteLength;){var r=h.writeSync(a.real,t,e,t.byteLength-e,a.offset?Number(a.offset):null);a.offset&&(a.offset+=Y(r)),e+=r}f+=e})),o.view.setUint32(s,f,!0),0})),fd_pread:Ze((function(t,e,i,s,a){var f;t=r(t,ae|fe);var u=0;try{var l=x(n(e,i)),c=l.next();t:for(;!c.done;c=l.next()){var p=c.value;for(e=0;e<p.byteLength;){var d=p.byteLength-e,_=h.readSync(t.real,p,e,p.byteLength-e,Number(s)+u+e);if(e+=_,u+=_,0===_||_<d)break t}u+=e}}catch(t){var g={error:t}}finally{try{c&&!c.done&&(f=l.return)&&f.call(l)}finally{if(g)throw g.error}}return o.view.setUint32(a,u,!0),0})),fd_read:Ze((function(t,e,i,s){var a,f=0===(t=r(t,ae)).real,u=0;try{var l=x(n(e,i)),c=l.next();t:for(;!c.done;c=l.next()){var p=c.value;for(e=0;e<p.byteLength;){var d=p.byteLength-e,_=h.readSync(t.real,p,e,d,f||void 0===t.offset?null:Number(t.offset));if(f||(t.offset=(t.offset?t.offset:Y(0))+Y(_)),e+=_,u+=_,0===_||_<d)break t}}}catch(t){var g={error:t}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(g)throw g.error}}return o.view.setUint32(s,u,!0),0})),fd_readdir:Ze((function(t,e,n,i,s){t=r(t,Se),o.refreshMemory();var a=h.readdirSync(t.path,{withFileTypes:!0}),f=e;for(i=Number(i);i<a.length;i+=1){var u=a[i],c=Wt.byteLength(u.name);if(e-f>n)break;if(o.view.setBigUint64(e,Y(i+1),!0),(e+=8)-f>n)break;var p=h.statSync(l.resolve(t.path,u.name));if(o.view.setBigUint64(e,Y(p.ino),!0),(e+=8)-f>n)break;if(o.view.setUint32(e,c,!0),(e+=4)-f>n)break;switch(!0){case p.isBlockDevice():p=1;break;case p.isCharacterDevice():p=2;break;case p.isDirectory():p=3;break;case p.isFIFO():p=6;break;case p.isFile():p=4;break;case p.isSocket():p=6;break;case p.isSymbolicLink():p=7;break;default:p=0}if(o.view.setUint8(e,p),e+=1,(e+=3)+c>=f+n)break;Wt.from(o.memory.buffer).write(u.name,e),e+=c}return o.view.setUint32(s,Math.min(e-f,n),!0),0})),fd_renumber:Ze((function(t,e){return r(t,Y(0)),r(e,Y(0)),h.closeSync(o.FD_MAP.get(t).real),o.FD_MAP.set(t,o.FD_MAP.get(e)),o.FD_MAP.delete(e),0})),fd_seek:Ze((function(t,e,n,i){switch(t=r(t,fe),o.refreshMemory(),n){case 1:t.offset=(t.offset?t.offset:Y(0))+Y(e);break;case 2:n=h.fstatSync(t.real).size,t.offset=Y(n)+Y(e);break;case 0:t.offset=Y(e)}return o.view.setBigUint64(i,t.offset,!0),0})),fd_tell:Ze((function(t,e){return t=r(t,le),o.refreshMemory(),t.offset||(t.offset=Y(0)),o.view.setBigUint64(e,t.offset,!0),0})),fd_sync:Ze((function(t){return t=r(t,he),h.fsyncSync(t.real),0})),path_create_directory:Ze((function(t,e,n){return(t=r(t,_e)).path?(o.refreshMemory(),e=Wt.from(o.memory.buffer,e,n).toString(),h.mkdirSync(l.resolve(t.path,e)),0):28})),path_filestat_get:Ze((function(t,e,n,i,s){return(t=r(t,ve)).path?(o.refreshMemory(),n=Wt.from(o.memory.buffer,n,i).toString(),n=h.statSync(l.resolve(t.path,n)),o.view.setBigUint64(s,Y(n.dev),!0),s+=8,o.view.setBigUint64(s,Y(n.ino),!0),s+=8,o.view.setUint8(s,Je(o,void 0,n).filetype),s+=8,o.view.setBigUint64(s,Y(n.nlink),!0),s+=8,o.view.setBigUint64(s,Y(n.size),!0),s+=8,o.view.setBigUint64(s,Ke(n.atimeMs),!0),s+=8,o.view.setBigUint64(s,Ke(n.mtimeMs),!0),o.view.setBigUint64(s+8,Ke(n.ctimeMs),!0),0):28})),path_filestat_set_times:Ze((function(t,n,i,s,a,f,u){if(!(t=r(t,be)).path)return 28;o.refreshMemory();var c=h.fstatSync(t.real);n=c.atime,c=c.mtime;var p=qe(e(0));return 3&~u&&12&~u?(1&~u?!(2&~u)&&(n=p):n=qe(a),4&~u?!(8&~u)&&(c=p):c=qe(f),i=Wt.from(o.memory.buffer,i,s).toString(),h.utimesSync(l.resolve(t.path,i),new Date(n),new Date(c)),0):28})),path_link:Ze((function(t,e,n,i,s,a,f){return t=r(t,ye),s=r(s,me),t.path&&s.path?(o.refreshMemory(),n=Wt.from(o.memory.buffer,n,i).toString(),a=Wt.from(o.memory.buffer,a,f).toString(),h.linkSync(l.resolve(t.path,n),l.resolve(s.path,a)),0):28})),path_open:Ze((function(t,e,n,i,s,a,f,u,c){e=r(t,Ee),a=Y(a),f=Y(f),t=(a&(ae|Se))!==Y(0);var p=(a&(se|ce|de|Oe))!==Y(0);if(p&&t)var d=h.constants.O_RDWR;else t?d=h.constants.O_RDONLY:p&&(d=h.constants.O_WRONLY);if(t=a|Ee,a|=f,1&s&&(d|=h.constants.O_CREAT,t|=ge),2&s&&(d|=h.constants.O_DIRECTORY),4&s&&(d|=h.constants.O_EXCL),8&s&&(d|=h.constants.O_TRUNC,t|=Te),1&u&&(d|=h.constants.O_APPEND),2&u&&(d=h.constants.O_DSYNC?d|h.constants.O_DSYNC:d|h.constants.O_SYNC,a|=se),4&u&&(d|=h.constants.O_NONBLOCK),8&u&&(d=h.constants.O_RSYNC?d|h.constants.O_RSYNC:d|h.constants.O_SYNC,a|=he),16&u&&(d|=h.constants.O_SYNC,a|=he),p&&!(d&(h.constants.O_APPEND|h.constants.O_TRUNC))&&(a|=fe),o.refreshMemory(),n=Wt.from(o.memory.buffer,n,i).toString(),n=l.resolve(e.path,n),l.relative(e.path,n).startsWith(".."))return 76;try{var _=h.realpathSync(n);if(l.relative(e.path,_).startsWith(".."))return 76}catch(t){if("ENOENT"!==t.code)throw t;_=n}try{var g=h.statSync(_).isDirectory()}catch(t){}return d=!p&&g?h.openSync(_,h.constants.O_RDONLY):h.openSync(_,d),g=H(o.FD_MAP.keys()).reverse()[0]+1,o.FD_MAP.set(g,{real:d,filetype:void 0,rights:{base:t,inheriting:a},path:_}),Xe(o,g),o.view.setUint32(c,g,!0),0})),path_readlink:Ze((function(t,e,n,i,s,a){return(t=r(t,Ie)).path?(o.refreshMemory(),e=Wt.from(o.memory.buffer,e,n).toString(),e=l.resolve(t.path,e),e=h.readlinkSync(e),i=Wt.from(o.memory.buffer).write(e,i,s),o.view.setUint32(a,i,!0),0):28})),path_remove_directory:Ze((function(t,e,n){return(t=r(t,Le)).path?(o.refreshMemory(),e=Wt.from(o.memory.buffer,e,n).toString(),h.rmdirSync(l.resolve(t.path,e)),0):28})),path_rename:Ze((function(t,e,n,i,s,a){return t=r(t,we),i=r(i,Ae),t.path&&i.path?(o.refreshMemory(),e=Wt.from(o.memory.buffer,e,n).toString(),s=Wt.from(o.memory.buffer,s,a).toString(),h.renameSync(l.resolve(t.path,e),l.resolve(i.path,s)),0):28})),path_symlink:Ze((function(t,e,n,i,s){return(n=r(n,Ne)).path?(o.refreshMemory(),t=Wt.from(o.memory.buffer,t,e).toString(),i=Wt.from(o.memory.buffer,i,s).toString(),h.symlinkSync(t,l.resolve(n.path,i)),0):28})),path_unlink_file:Ze((function(t,e,n){return(t=r(t,Pe)).path?(o.refreshMemory(),e=Wt.from(o.memory.buffer,e,n).toString(),h.unlinkSync(l.resolve(t.path,e)),0):28})),poll_oneoff:function(t,r,n,i){var s=0,a=0;o.refreshMemory();for(var f=0;f<n;f+=1){var h=o.view.getBigUint64(t,!0);t+=8;var l=o.view.getUint8(t);switch(t+=1,l){case 0:t+=7,o.view.getBigUint64(t,!0),t+=8;var c=o.view.getUint32(t,!0);t+=4,t+=4,l=o.view.getBigUint64(t,!0),t+=8,o.view.getBigUint64(t,!0),t+=8;var p=o.view.getUint16(t,!0);t+=2,t+=6;var d=1===p;p=0,null===(c=Y(e(c)))?p=28:a=(l=d?l:c+l)>a?l:a,o.view.setBigUint64(r,h,!0),r+=8,o.view.setUint16(r,p,!0),r+=2,o.view.setUint8(r,0),r+=1,r+=5,s+=1;break;case 1:case 2:t+=3,o.view.getUint32(t,!0),t+=4,o.view.setBigUint64(r,h,!0),r+=8,o.view.setUint16(r,52,!0),r+=2,o.view.setUint8(r,l),r+=1,r+=5,s+=1;break;default:return 28}}for(o.view.setUint32(i,s,!0);u.hrtime()<a;);return 0},proc_exit:function(t){return u.exit(t),0},proc_raise:function(t){return t in Ye?(u.kill(Ye[t]),0):28},random_get:function(t,e){return o.refreshMemory(),u.randomFillSync(new Uint8Array(o.memory.buffer),t,e),0},sched_yield:function(){return 0},sock_recv:function(){return 52},sock_send:function(){return 52},sock_shutdown:function(){return 52}},t.traceSyscalls&&Object.keys(this.wasiImport).forEach((function(t){var e=o.wasiImport[t];o.wasiImport[t]=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];console.log("WASI: wasiImport called: "+t+" ("+r+")");try{var i=e.apply(void 0,H(r));return console.log("WASI:  => "+i),i}catch(t){throw console.log("Catched error: "+t),t}}}))}return t.prototype.refreshMemory=function(){this.view&&0!==this.view.buffer.byteLength||(this.view=new z(this.memory.buffer))},t.prototype.setMemory=function(t){this.memory=t},t.prototype.start=function(t){if(null===(t=t.exports)||"object"!=typeof t)throw Error("instance.exports must be an Object. Received "+t+".");var e=t.memory;if(!(e instanceof WebAssembly.Memory))throw Error("instance.exports.memory must be a WebAssembly.Memory. Recceived "+e+".");this.setMemory(e),t._start&&t._start()},t.prototype.getImportNamespace=function(t){var e,r=null;try{for(var n=x(WebAssembly.Module.imports(t)),i=n.next();!i.done;i=n.next()){var o=i.value;if("function"===o.kind&&o.module.startsWith("wasi_"))if(r){if(r!==o.module)throw Error("Multiple namespaces detected.")}else r=o.module}}catch(t){var s={error:t}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return r},t.prototype.getImports=function(t){switch(this.getImportNamespace(t)){case"wasi_unstable":return{wasi_unstable:this.wasiImport};case"wasi_snapshot_preview1":return{wasi_snapshot_preview1:this.wasiImport};default:throw Error("Can't detect a WASI namespace for the WebAssembly Module")}},t.defaultBindings=oe,t}(),rr=r(788);function nr(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function ir(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;t=r.call(t);var n,i=[];try{for(;(void 0===e||0<e--)&&!(n=t.next()).done;)i.push(n.value)}catch(t){var o={error:t}}finally{try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(o)throw o.error}}return i}function or(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ir(arguments[e]));return t}var sr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function ar(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fr(t,e){return t(e={exports:{}},e.exports),e.exports}var ur=fr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}}));ar(ur);var hr=fr((function(t,e){e.default="function"==typeof BigInt?BigInt:function(){throw Error("BigInt is not supported in this environment.")}})),lr=fr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=ur.constants.S_IFMT,n=ur.constants.S_IFDIR,i=ur.constants.S_IFREG,o=ur.constants.S_IFBLK,s=ur.constants.S_IFCHR,a=ur.constants.S_IFLNK,f=ur.constants.S_IFIFO,u=ur.constants.S_IFSOCK;t=function(){function t(){}return t.build=function(e,r){void 0===r&&(r=!1);var n=new t,i=e.gid,o=e.atime,s=e.mtime,a=e.ctime;return r=r?hr.default:function(t){return t},n.uid=r(e.uid),n.gid=r(i),n.rdev=r(0),n.blksize=r(4096),n.ino=r(e.ino),n.size=r(e.getSize()),n.blocks=r(1),n.atime=o,n.mtime=s,n.ctime=a,n.birthtime=a,n.atimeMs=r(o.getTime()),n.mtimeMs=r(s.getTime()),i=r(a.getTime()),n.ctimeMs=i,n.birthtimeMs=i,n.dev=r(0),n.mode=r(e.mode),n.nlink=r(e.nlink),n},t.prototype._checkModeProperty=function(t){return(Number(this.mode)&r)===t},t.prototype.isDirectory=function(){return this._checkModeProperty(n)},t.prototype.isFile=function(){return this._checkModeProperty(i)},t.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},t.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},t.prototype.isSymbolicLink=function(){return this._checkModeProperty(a)},t.prototype.isFIFO=function(){return this._checkModeProperty(f)},t.prototype.isSocket=function(){return this._checkModeProperty(u)},t}(),e.Stats=t,e.default=t}));ar(lr);var cr=void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},pr=[],dr=[],_r="undefined"!=typeof Uint8Array?Uint8Array:Array,gr=!1;function yr(){gr=!0;for(var t=0;64>t;++t)pr[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t],dr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;dr[45]=62,dr[95]=63}function mr(t,e,r){for(var n=[],i=e;i<r;i+=3)e=(t[i]<<16)+(t[i+1]<<8)+t[i+2],n.push(pr[e>>18&63]+pr[e>>12&63]+pr[e>>6&63]+pr[63&e]);return n.join("")}function Er(t){gr||yr();for(var e=t.length,r=e%3,n="",i=[],o=0,s=e-r;o<s;o+=16383)i.push(mr(t,o,o+16383>s?s:o+16383));return 1===r?(t=t[e-1],n+=pr[t>>2],n+=pr[t<<4&63],n+="=="):2===r&&(t=(t[e-2]<<8)+t[e-1],n+=pr[t>>10],n+=pr[t>>4&63],n+=pr[t<<2&63],n+="="),i.push(n),i.join("")}function Sr(t,e,r,n,i){var o=8*i-n-1,s=(1<<o)-1,a=s>>1,f=-7,u=r?-1:1,h=t[e+(i=r?i-1:0)];for(i+=u,r=h&(1<<-f)-1,h>>=-f,f+=o;0<f;r=256*r+t[e+i],i+=u,f-=8);for(o=r&(1<<-f)-1,r>>=-f,f+=n;0<f;o=256*o+t[e+i],i+=u,f-=8);if(0===r)r=1-a;else{if(r===s)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),r-=a}return(h?-1:1)*o*Math.pow(2,r-n)}function Ir(t,e,r,n,i,o){var s,a=8*o-i-1,f=(1<<a)-1,u=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;o=n?0:o-1;var l=n?1:-1,c=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,n=f):(n=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-n))&&(n--,s*=2),2<=(e=1<=n+u?e+h/s:e+h*Math.pow(2,1-u))*s&&(n++,s/=2),n+u>=f?(e=0,n=f):1<=n+u?(e=(e*s-1)*Math.pow(2,i),n+=u):(e=e*Math.pow(2,u-1)*Math.pow(2,i),n=0));8<=i;t[r+o]=255&e,o+=l,e/=256,i-=8);for(n=n<<i|e,a+=i;0<a;t[r+o]=255&n,o+=l,n/=256,a-=8);t[r+o-l]|=128*c}var wr={}.toString,Ar=Array.isArray||function(t){return"[object Array]"==wr.call(t)};br.TYPED_ARRAY_SUPPORT=void 0===cr.TYPED_ARRAY_SUPPORT||cr.TYPED_ARRAY_SUPPORT;var vr=br.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function Tr(t,e){if((br.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<e)throw new RangeError("Invalid typed array length");return br.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=br.prototype:(null===t&&(t=new br(e)),t.length=e),t}function br(t,e,r){if(!(br.TYPED_ARRAY_SUPPORT||this instanceof br))return new br(t,e,r);if("number"==typeof t){if("string"==typeof e)throw Error("If encoding is specified then the first argument must be a string");return Cr(this,t)}return Rr(this,t,e,r)}function Rr(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){if(e.byteLength,0>r||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),br.TYPED_ARRAY_SUPPORT?(t=e).__proto__=br.prototype:t=Nr(t,e),t}if("string"==typeof e){if(n=t,"string"==typeof(t=r)&&""!==t||(t="utf8"),!br.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return(e=(n=Tr(n,r=0|Wr(e,t))).write(e,t))!==r&&(n=n.slice(0,e)),n}return function(t,e){if(Pr(e)){var r=0|Lr(e.length);return 0===(t=Tr(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return(r="number"!=typeof e.length)||(r=(r=e.length)!=r),r?Tr(t,0):Nr(t,e);if("Buffer"===e.type&&Ar(e.data))return Nr(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function Or(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(0>t)throw new RangeError('"size" argument must not be negative')}function Cr(t,e){if(Or(e),t=Tr(t,0>e?0:0|Lr(e)),!br.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function Nr(t,e){var r=0>e.length?0:0|Lr(e.length);t=Tr(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function Lr(t){if(t>=(br.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(br.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|t}function Pr(t){return!(null==t||!t._isBuffer)}function Wr(t,e){if(Pr(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Vr(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return qr(t).length;default:if(n)return Vr(t).length;e=(""+e).toLowerCase(),n=!0}}function Br(t,e,r){var n=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),0>=r)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":for(t=e,e=r,r=this.length,(!t||0>t)&&(t=0),(!e||0>e||e>r)&&(e=r),n="",r=t;r<e;++r)n=(t=n)+(n=16>(n=this[r])?"0"+n.toString(16):n.toString(16));return n;case"utf8":case"utf-8":return Ur(this,e,r);case"ascii":for(t="",r=Math.min(this.length,r);e<r;++e)t+=String.fromCharCode(127&this[e]);return t;case"latin1":case"binary":for(t="",r=Math.min(this.length,r);e<r;++e)t+=String.fromCharCode(this[e]);return t;case"base64":return 0===e&&r===this.length?Er(this):Er(this.slice(e,r));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(e=this.slice(e,r),r="",t=0;t<e.length;t+=2)r+=String.fromCharCode(e[t]+256*e[t+1]);return r;default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function Fr(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function Dr(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:-2147483648>r&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),0>r&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(0>r){if(!i)return-1;r=0}if("string"==typeof e&&(e=br.from(e,n)),Pr(e))return 0===e.length?-1:kr(t,e,r,n,i);if("number"==typeof e)return e&=255,br.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):kr(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function kr(t,e,r,n,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,f=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(2>t.length||2>e.length)return-1;s=2,a/=2,f/=2,r/=2}if(i)for(n=-1;r<a;r++)if(o(t,r)===o(e,-1===n?0:r-n)){if(-1===n&&(n=r),r-n+1===f)return n*s}else-1!==n&&(r-=r-n),n=-1;else for(r+f>a&&(r=a-f);0<=r;r--){for(a=!0,n=0;n<f;n++)if(o(t,r+n)!==o(e,n)){a=!1;break}if(a)return r}return-1}function Ur(t,e,r){r=Math.min(t.length,r);for(var n=[];e<r;){var i=t[e],o=null,s=239<i?4:223<i?3:191<i?2:1;if(e+s<=r)switch(s){case 1:128>i&&(o=i);break;case 2:var a=t[e+1];128==(192&a)&&127<(i=(31&i)<<6|63&a)&&(o=i);break;case 3:a=t[e+1];var f=t[e+2];128==(192&a)&&128==(192&f)&&2047<(i=(15&i)<<12|(63&a)<<6|63&f)&&(55296>i||57343<i)&&(o=i);break;case 4:a=t[e+1],f=t[e+2];var u=t[e+3];128==(192&a)&&128==(192&f)&&128==(192&u)&&65535<(i=(15&i)<<18|(63&a)<<12|(63&f)<<6|63&u)&&1114112>i&&(o=i)}null===o?(o=65533,s=1):65535<o&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),e+=s}if((t=n.length)<=Mr)n=String.fromCharCode.apply(String,n);else{for(r="",e=0;e<t;)r+=String.fromCharCode.apply(String,n.slice(e,e+=Mr));n=r}return n}br.poolSize=8192,br._augment=function(t){return t.__proto__=br.prototype,t},br.from=function(t,e,r){return Rr(null,t,e,r)},br.TYPED_ARRAY_SUPPORT&&(br.prototype.__proto__=Uint8Array.prototype,br.__proto__=Uint8Array),br.alloc=function(t,e,r){return Or(t),0>=t?Tr(null,t):void 0!==e?"string"==typeof r?Tr(null,t).fill(e,r):Tr(null,t).fill(e):Tr(null,t)},br.allocUnsafe=function(t){return Cr(null,t)},br.allocUnsafeSlow=function(t){return Cr(null,t)},br.isBuffer=Xr,br.compare=function(t,e){if(!Pr(t)||!Pr(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},br.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},br.concat=function(t,e){if(!Ar(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return br.alloc(0);var r;if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;e=br.allocUnsafe(e);var n=0;for(r=0;r<t.length;++r){var i=t[r];if(!Pr(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(e,n),n+=i.length}return e},br.byteLength=Wr,br.prototype._isBuffer=!0,br.prototype.swap16=function(){var t=this.length;if(0!=t%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Fr(this,e,e+1);return this},br.prototype.swap32=function(){var t=this.length;if(0!=t%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Fr(this,e,e+3),Fr(this,e+1,e+2);return this},br.prototype.swap64=function(){var t=this.length;if(0!=t%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Fr(this,e,e+7),Fr(this,e+1,e+6),Fr(this,e+2,e+5),Fr(this,e+3,e+4);return this},br.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Ur(this,0,t):Br.apply(this,arguments)},br.prototype.equals=function(t){if(!Pr(t))throw new TypeError("Argument must be a Buffer");return this===t||0===br.compare(this,t)},br.prototype.inspect=function(){var t="";return 0<this.length&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(t+=" ... ")),"<Buffer "+t+">"},br.prototype.compare=function(t,e,r,n,i){if(!Pr(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),0>e||r>t.length||0>n||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s);for(n=this.slice(n,i),t=t.slice(e,r),e=0;e<a;++e)if(n[e]!==t[e]){o=n[e],s=t[e];break}return o<s?-1:s<o?1:0},br.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},br.prototype.indexOf=function(t,e,r){return Dr(this,t,e,r,!0)},br.prototype.lastIndexOf=function(t,e,r){return Dr(this,t,e,r,!1)},br.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),0<t.length&&(0>r||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(n||(n="utf8"),i=!1;;)switch(n){case"hex":t:{if(e=Number(e)||0,n=this.length-e,r?(r=Number(r))>n&&(r=n):r=n,0!=(n=t.length)%2)throw new TypeError("Invalid hex string");for(r>n/2&&(r=n/2),n=0;n<r;++n){if(i=parseInt(t.substr(2*n,2),16),isNaN(i)){t=n;break t}this[e+n]=i}t=n}return t;case"utf8":case"utf-8":return Zr(Vr(t,this.length-e),this,e,r);case"ascii":case"latin1":case"binary":return Zr(Kr(t),this,e,r);case"base64":return Zr(qr(t),this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=t,i=this.length-e;for(var o=[],s=0;s<n.length&&!(0>(i-=2));++s){var a=n.charCodeAt(s);t=a>>8,a%=256,o.push(a),o.push(t)}return Zr(o,this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},br.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Mr=4096;function xr(t,e,r){if(0!=t%1||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function Gr(t,e,r,n,i,o){if(!Pr(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function Hr(t,e,r,n){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function jr(t,e,r,n){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function Yr(t,e,r,n){if(r+n>t.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("Index out of range")}br.prototype.slice=function(t,e){var r=this.length;if(0>(t=~~t)?0>(t+=r)&&(t=0):t>r&&(t=r),0>(e=void 0===e?r:~~e)?0>(e+=r)&&(e=0):e>r&&(e=r),e<t&&(e=t),br.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,e)).__proto__=br.prototype;else{e=new br(r=e-t,void 0);for(var n=0;n<r;++n)e[n]=this[n+t]}return e},br.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||xr(t,e,this.length),r=this[t];for(var n=1,i=0;++i<e&&(n*=256);)r+=this[t+i]*n;return r},br.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||xr(t,e,this.length),r=this[t+--e];for(var n=1;0<e&&(n*=256);)r+=this[t+--e]*n;return r},br.prototype.readUInt8=function(t,e){return e||xr(t,1,this.length),this[t]},br.prototype.readUInt16LE=function(t,e){return e||xr(t,2,this.length),this[t]|this[t+1]<<8},br.prototype.readUInt16BE=function(t,e){return e||xr(t,2,this.length),this[t]<<8|this[t+1]},br.prototype.readUInt32LE=function(t,e){return e||xr(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},br.prototype.readUInt32BE=function(t,e){return e||xr(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},br.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||xr(t,e,this.length),r=this[t];for(var n=1,i=0;++i<e&&(n*=256);)r+=this[t+i]*n;return r>=128*n&&(r-=Math.pow(2,8*e)),r},br.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||xr(t,e,this.length),r=e;for(var n=1,i=this[t+--r];0<r&&(n*=256);)i+=this[t+--r]*n;return i>=128*n&&(i-=Math.pow(2,8*e)),i},br.prototype.readInt8=function(t,e){return e||xr(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},br.prototype.readInt16LE=function(t,e){return e||xr(t,2,this.length),32768&(t=this[t]|this[t+1]<<8)?4294901760|t:t},br.prototype.readInt16BE=function(t,e){return e||xr(t,2,this.length),32768&(t=this[t+1]|this[t]<<8)?4294901760|t:t},br.prototype.readInt32LE=function(t,e){return e||xr(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},br.prototype.readInt32BE=function(t,e){return e||xr(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},br.prototype.readFloatLE=function(t,e){return e||xr(t,4,this.length),Sr(this,t,!0,23,4)},br.prototype.readFloatBE=function(t,e){return e||xr(t,4,this.length),Sr(this,t,!1,23,4)},br.prototype.readDoubleLE=function(t,e){return e||xr(t,8,this.length),Sr(this,t,!0,52,8)},br.prototype.readDoubleBE=function(t,e){return e||xr(t,8,this.length),Sr(this,t,!1,52,8)},br.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||Gr(this,t,e,r,Math.pow(2,8*r)-1,0),n=1;var i=0;for(this[e]=255&t;++i<r&&(n*=256);)this[e+i]=t/n&255;return e+r},br.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||Gr(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1;for(this[e+(n=r-1)]=255&t;0<=--n&&(i*=256);)this[e+n]=t/i&255;return e+r},br.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||Gr(this,t,e,1,255,0),br.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},br.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||Gr(this,t,e,2,65535,0),br.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Hr(this,t,e,!0),e+2},br.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||Gr(this,t,e,2,65535,0),br.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Hr(this,t,e,!1),e+2},br.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||Gr(this,t,e,4,4294967295,0),br.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):jr(this,t,e,!0),e+4},br.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||Gr(this,t,e,4,4294967295,0),br.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):jr(this,t,e,!1),e+4},br.prototype.writeIntLE=function(t,e,r,n){t=+t,e|=0,n||Gr(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n),n=0;var i=1,o=0;for(this[e]=255&t;++n<r&&(i*=256);)0>t&&0===o&&0!==this[e+n-1]&&(o=1),this[e+n]=(t/i|0)-o&255;return e+r},br.prototype.writeIntBE=function(t,e,r,n){t=+t,e|=0,n||Gr(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var i=1,o=0;for(this[e+(n=r-1)]=255&t;0<=--n&&(i*=256);)0>t&&0===o&&0!==this[e+n+1]&&(o=1),this[e+n]=(t/i|0)-o&255;return e+r},br.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||Gr(this,t,e,1,127,-128),br.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},br.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||Gr(this,t,e,2,32767,-32768),br.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Hr(this,t,e,!0),e+2},br.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||Gr(this,t,e,2,32767,-32768),br.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Hr(this,t,e,!1),e+2},br.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||Gr(this,t,e,4,2147483647,-2147483648),br.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):jr(this,t,e,!0),e+4},br.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||Gr(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),br.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):jr(this,t,e,!1),e+4},br.prototype.writeFloatLE=function(t,e,r){return r||Yr(this,0,e,4),Ir(this,t,e,!0,23,4),e+4},br.prototype.writeFloatBE=function(t,e,r){return r||Yr(this,0,e,4),Ir(this,t,e,!1,23,4),e+4},br.prototype.writeDoubleLE=function(t,e,r){return r||Yr(this,0,e,8),Ir(this,t,e,!0,52,8),e+8},br.prototype.writeDoubleBE=function(t,e,r){return r||Yr(this,0,e,8),Ir(this,t,e,!1,52,8),e+8},br.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),0<n&&n<r&&(n=r),n===r||0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;if(this===t&&r<e&&e<n)for(n=i-1;0<=n;--n)t[n+e]=this[n+r];else if(1e3>i||!br.TYPED_ARRAY_SUPPORT)for(n=0;n<i;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},br.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);256>i&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!br.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(0>e||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(n=e;n<r;++n)this[n]=t;else for(i=(t=Pr(t)?t:Vr(new br(t,n).toString())).length,n=0;n<r-e;++n)this[n+e]=t[n%i];return this};var zr=/[^+\/0-9A-Za-z-_]/g;function Vr(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],s=0;s<n;++s){if(55295<(r=t.charCodeAt(s))&&57344>r){if(!i){if(56319<r){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===n){-1<(e-=3)&&o.push(239,191,189);continue}i=r;continue}if(56320>r){-1<(e-=3)&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,128>r){if(0>--e)break;o.push(r)}else if(2048>r){if(0>(e-=2))break;o.push(r>>6|192,63&r|128)}else if(65536>r){if(0>(e-=3))break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw Error("Invalid code point");if(0>(e-=4))break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Kr(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function qr(t){if(2>(t=(t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(zr,"")).length)t="";else for(;0!=t.length%4;)t+="=";gr||yr();var e=t.length;if(0<e%4)throw Error("Invalid string. Length must be a multiple of 4");var r="="===t[e-2]?2:"="===t[e-1]?1:0,n=new _r(3*e/4-r),i=0<r?e-4:e,o=0;for(e=0;e<i;e+=4){var s=dr[t.charCodeAt(e)]<<18|dr[t.charCodeAt(e+1)]<<12|dr[t.charCodeAt(e+2)]<<6|dr[t.charCodeAt(e+3)];n[o++]=s>>16&255,n[o++]=s>>8&255,n[o++]=255&s}return 2===r?(s=dr[t.charCodeAt(e)]<<2|dr[t.charCodeAt(e+1)]>>4,n[o++]=255&s):1===r&&(s=dr[t.charCodeAt(e)]<<10|dr[t.charCodeAt(e+1)]<<4|dr[t.charCodeAt(e+2)]>>2,n[o++]=s>>8&255,n[o++]=255&s),n}function Zr(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Xr(t){return null!=t&&(!!t._isBuffer||Jr(t)||"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Jr(t.slice(0,0)))}function Jr(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var $r=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:vr,Buffer:br,SlowBuffer:function(t){return+t!=t&&(t=0),br.alloc(+t)},isBuffer:Xr}),Qr=fr((function(t,e){function r(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new($r.Buffer.bind.apply($r.Buffer,n([void 0,t],e)))}var n=sr&&sr.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;t=Array(t);var n=0;for(e=0;e<r;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,n++)t[n]=i[o];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Buffer=$r.Buffer,e.bufferAllocUnsafe=$r.Buffer.allocUnsafe||r,e.bufferFrom=$r.Buffer.from||r}));function tn(){throw Error("setTimeout has not been defined")}function en(){throw Error("clearTimeout has not been defined")}ar(Qr);var rn=tn,nn=en;function on(t){if(rn===setTimeout)return setTimeout(t,0);if((rn===tn||!rn)&&setTimeout)return rn=setTimeout,setTimeout(t,0);try{return rn(t,0)}catch(e){try{return rn.call(null,t,0)}catch(e){return rn.call(this,t,0)}}}"function"==typeof cr.setTimeout&&(rn=setTimeout),"function"==typeof cr.clearTimeout&&(nn=clearTimeout);var sn,an=[],fn=!1,un=-1;function hn(){fn&&sn&&(fn=!1,sn.length?an=sn.concat(an):un=-1,an.length&&ln())}function ln(){if(!fn){var t=on(hn);fn=!0;for(var e=an.length;e;){for(sn=an,an=[];++un<e;)sn&&sn[un].run();un=-1,e=an.length}sn=null,fn=!1,function(t){if(nn===clearTimeout)return clearTimeout(t);if((nn===en||!nn)&&clearTimeout)return nn=clearTimeout,clearTimeout(t);try{return nn(t)}catch(e){try{return nn.call(null,t)}catch(e){return nn.call(this,t)}}}(t)}}function cn(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];an.push(new pn(t,e)),1!==an.length||fn||on(ln)}function pn(t,e){this.fun=t,this.array=e}function dn(){}pn.prototype.run=function(){this.fun.apply(null,this.array)};var _n=cr.performance||{},gn=_n.now||_n.mozNow||_n.msNow||_n.oNow||_n.webkitNow||function(){return(new Date).getTime()},yn=new Date,mn={nextTick:cn,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:dn,addListener:dn,once:dn,off:dn,removeListener:dn,removeAllListeners:dn,emit:dn,binding:function(){throw Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(){throw Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*gn.call(_n),r=Math.floor(e);return e=Math.floor(e%1*1e9),t&&(r-=t[0],0>(e-=t[1])&&(r--,e+=1e9)),[r,e]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-yn)/1e3}},En="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){function r(){}t.super_=e,r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t},Sn=/%[sdj%]/g;function In(t){if(!Fn(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(bn(arguments[r]));return e.join(" ")}r=1;var n=arguments,i=n.length;e=String(t).replace(Sn,(function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}));for(var o=n[r];r<i;o=n[++r])e=null!==o&&Un(o)?e+" "+bn(o):e+" "+o;return e}function wn(t,e){if(Dn(cr.process))return function(){return wn(t,e).apply(this,arguments)};if(!0===mn.noDeprecation)return t;var r=!1;return function(){if(!r){if(mn.throwDeprecation)throw Error(e);mn.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}}var An,vn={};function Tn(t){return Dn(An)&&(An=mn.env.NODE_DEBUG||""),t=t.toUpperCase(),vn[t]||(new RegExp("\\b"+t+"\\b","i").test(An)?vn[t]=function(){var e=In.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:vn[t]=function(){}),vn[t]}function bn(t,e){var r={seen:[],stylize:On};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),Wn(e)?r.showHidden=e:e&&zn(r,e),Dn(r.showHidden)&&(r.showHidden=!1),Dn(r.depth)&&(r.depth=2),Dn(r.colors)&&(r.colors=!1),Dn(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Rn),Cn(r,t,r.depth)}function Rn(t,e){return(e=bn.styles[e])?"["+bn.colors[e][0]+"m"+t+"["+bn.colors[e][1]+"m":t}function On(t){return t}function Cn(t,e,r){if(t.customInspect&&e&&Gn(e.inspect)&&e.inspect!==bn&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(r,t);return Fn(n)||(n=Cn(t,n,r)),n}if(n=function(t,e){return Dn(e)?t.stylize("undefined","undefined"):Fn(e)?(e="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",t.stylize(e,"string")):Bn(e)?t.stylize(""+e,"number"):Wn(e)?t.stylize(""+e,"boolean"):null===e?t.stylize("null","null"):void 0}(t,e))return n;var i=Object.keys(e),o=function(t){var e={};return t.forEach((function(t){e[t]=!0})),e}(i);if(t.showHidden&&(i=Object.getOwnPropertyNames(e)),xn(e)&&(0<=i.indexOf("message")||0<=i.indexOf("description")))return Nn(e);if(0===i.length){if(Gn(e))return t.stylize("[Function"+(e.name?": "+e.name:"")+"]","special");if(kn(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Mn(e))return t.stylize(Date.prototype.toString.call(e),"date");if(xn(e))return Nn(e)}n="";var s=!1,a=["{","}"];return Pn(e)&&(s=!0,a=["[","]"]),Gn(e)&&(n=" [Function"+(e.name?": "+e.name:"")+"]"),kn(e)&&(n=" "+RegExp.prototype.toString.call(e)),Mn(e)&&(n=" "+Date.prototype.toUTCString.call(e)),xn(e)&&(n=" "+Nn(e)),0!==i.length||s&&0!=e.length?0>r?kn(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),i=s?function(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)Object.prototype.hasOwnProperty.call(e,String(s))?o.push(Ln(t,e,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(Ln(t,e,r,n,i,!0))})),o}(t,e,r,o,i):i.map((function(n){return Ln(t,e,r,o,n,s)})),t.seen.pop(),function(t,e,r){return 60<t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}(i,n,a)):a[0]+n+a[1]}function Nn(t){return"["+Error.prototype.toString.call(t)+"]"}function Ln(t,e,r,n,i,o){var s,a;if((e=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=e.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):e.set&&(a=t.stylize("[Setter]","special")),Object.prototype.hasOwnProperty.call(n,i)||(s="["+i+"]"),a||(0>t.seen.indexOf(e.value)?-1<(a=Cn(t,e.value,null===r?null:r-1)).indexOf("\n")&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),Dn(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function Pn(t){return Array.isArray(t)}function Wn(t){return"boolean"==typeof t}function Bn(t){return"number"==typeof t}function Fn(t){return"string"==typeof t}function Dn(t){return void 0===t}function kn(t){return Un(t)&&"[object RegExp]"===Object.prototype.toString.call(t)}function Un(t){return"object"==typeof t&&null!==t}function Mn(t){return Un(t)&&"[object Date]"===Object.prototype.toString.call(t)}function xn(t){return Un(t)&&("[object Error]"===Object.prototype.toString.call(t)||t instanceof Error)}function Gn(t){return"function"==typeof t}function Hn(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function jn(t){return 10>t?"0"+t.toString(10):t.toString(10)}bn.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},bn.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Yn="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");function zn(t,e){if(!e||!Un(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}var Vn={inherits:En,_extend:zn,log:function(){var t,e;console.log("%s - %s",(e=[jn((t=new Date).getHours()),jn(t.getMinutes()),jn(t.getSeconds())].join(":"),[t.getDate(),Yn[t.getMonth()],e].join(" ")),In.apply(null,arguments))},isBuffer:function(t){return Xr(t)},isPrimitive:Hn,isFunction:Gn,isError:xn,isDate:Mn,isObject:Un,isRegExp:kn,isUndefined:Dn,isSymbol:function(t){return"symbol"==typeof t},isString:Fn,isNumber:Bn,isNullOrUndefined:function(t){return null==t},isNull:function(t){return null===t},isBoolean:Wn,isArray:Pn,inspect:bn,deprecate:wn,format:In,debuglog:Tn};function Kn(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}var qn,Zn=Object.prototype.hasOwnProperty,Xn=Object.keys||function(t){var e,r=[];for(e in t)Zn.call(t,e)&&r.push(e);return r},Jn=Array.prototype.slice;function $n(){return void 0!==qn?qn:qn="foo"===function(){}.name}function Qn(t){return!Xr(t)&&"function"==typeof cr.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&!!(t instanceof DataView||t.buffer&&t.buffer instanceof ArrayBuffer))}function ti(t,e){t||si(t,!0,e,"==",ai)}var ei=/\s*function\s+([^\(\s]*)\s*/;function ri(t){if(Gn(t))return $n()?t.name:(t=t.toString().match(ei))&&t[1]}function ni(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=ii(oi(this.actual),128)+" "+this.operator+" "+ii(oi(this.expected),128),this.generatedMessage=!0);var e=t.stackStartFunction||si;Error.captureStackTrace?Error.captureStackTrace(this,e):(t=Error()).stack&&(t=t.stack,e=ri(e),0<=(e=t.indexOf("\n"+e))&&(e=t.indexOf("\n",e+1),t=t.substring(e+1)),this.stack=t)}function ii(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function oi(t){return $n()||!Gn(t)?bn(t):"[Function"+((t=ri(t))?": "+t:"")+"]"}function si(t,e,r,n,i){throw new ni({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function ai(t,e){t||si(t,!0,e,"==",ai)}function fi(t,e,r,n){if(t===e)return!0;if(Xr(t)&&Xr(e))return 0===Kn(t,e);if(Mn(t)&&Mn(e))return t.getTime()===e.getTime();if(kn(t)&&kn(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(!Qn(t)||!Qn(e)||Object.prototype.toString.call(t)!==Object.prototype.toString.call(e)||t instanceof Float32Array||t instanceof Float64Array){if(Xr(t)!==Xr(e))return!1;var i=(n=n||{actual:[],expected:[]}).actual.indexOf(t);return-1!==i&&i===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),function(t,e,r,n){if(null==t||null==e)return!1;if(Hn(t)||Hn(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=ui(t),o=ui(e);if(i&&!o||!i&&o)return!1;if(i)return fi(t=Jn.call(t),e=Jn.call(e),r);i=Xn(t);var s=Xn(e);if(i.length!==s.length)return!1;for(i.sort(),s.sort(),o=i.length-1;0<=o;o--)if(i[o]!==s[o])return!1;for(o=i.length-1;0<=o;o--)if(!fi(t[s=i[o]],e[s],r,n))return!1;return!0}(t,e,r,n))}return 0===Kn(new Uint8Array(t.buffer),new Uint8Array(e.buffer))}return r?t===e:t==e}function ui(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function hi(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function li(t,e,r,n){if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null);try{e()}catch(t){var i=t}e=i,n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!e&&si(e,r,"Missing expected exception"+n),i="string"==typeof n;var o=!t&&e&&!r;if((!t&&xn(e)&&i&&hi(e,r)||o)&&si(e,r,"Got unwanted exception"+n),t&&e&&r&&!hi(e,r)||!t&&e)throw e}ti.AssertionError=ni,En(ni,Error),ti.fail=si,ti.ok=ai,ti.equal=function t(e,r,n){e!=r&&si(e,r,n,"==",t)},ti.notEqual=function t(e,r,n){e==r&&si(e,r,n,"!=",t)},ti.deepEqual=function t(e,r,n){fi(e,r,!1)||si(e,r,n,"deepEqual",t)},ti.deepStrictEqual=function t(e,r,n){fi(e,r,!0)||si(e,r,n,"deepStrictEqual",t)},ti.notDeepEqual=function t(e,r,n){fi(e,r,!1)&&si(e,r,n,"notDeepEqual",t)},ti.notDeepStrictEqual=function t(e,r,n){fi(e,r,!0)&&si(e,r,n,"notDeepStrictEqual",t)},ti.strictEqual=function t(e,r,n){e!==r&&si(e,r,n,"===",t)},ti.notStrictEqual=function t(e,r,n){e===r&&si(e,r,n,"!==",t)},ti.throws=function(t,e,r){li(!0,t,e,r)},ti.doesNotThrow=function(t,e,r){li(!1,t,e,r)},ti.ifError=function(t){if(t)throw t};var ci=fr((function(t,e){function r(t){return function(t){function e(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return(r=t.call(this,n(e,r))||this).code=e,r[a]=e,r.name=t.prototype.name+" ["+r[a]+"]",r}return s(e,t),e}(t)}function n(t,e){ti.strictEqual(typeof t,"string");var r=f[t];if(ti(r,"An invalid error message key was used: "+t+"."),"function"==typeof r)t=r;else{if(t=Vn.format,void 0===e||0===e.length)return r;e.unshift(r)}return String(t.apply(null,e))}function i(t,e){f[t]="function"==typeof e?e:String(e)}function o(t,e){if(ti(t,"expected is required"),ti("string"==typeof e,"thing is required"),Array.isArray(t)){var r=t.length;return ti(0<r,"At least one expected value needs to be specified"),t=t.map((function(t){return String(t)})),2<r?"one of "+e+" "+t.slice(0,r-1).join(", ")+", or "+t[r-1]:2===r?"one of "+e+" "+t[0]+" or "+t[1]:"of "+e+" "+t[0]}return"of "+e+" "+String(t)}var s=sr&&sr.__extends||function(){function t(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)}return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a="undefined"==typeof Symbol?"_kCode":Symbol("code"),f={};t=function(t){function r(r){if("object"!=typeof r||null===r)throw new e.TypeError("ERR_INVALID_ARG_TYPE","options","object");var n=r.message?t.call(this,r.message)||this:t.call(this,Vn.inspect(r.actual).slice(0,128)+" "+r.operator+" "+Vn.inspect(r.expected).slice(0,128))||this;return n.generatedMessage=!r.message,n.name="AssertionError [ERR_ASSERTION]",n.code="ERR_ASSERTION",n.actual=r.actual,n.expected=r.expected,n.operator=r.operator,e.Error.captureStackTrace(n,r.stackStartFunction),n}return s(r,t),r}(sr.Error),e.AssertionError=t,e.message=n,e.E=i,e.Error=r(sr.Error),e.TypeError=r(sr.TypeError),e.RangeError=r(sr.RangeError),i("ERR_ARG_NOT_ITERABLE","%s must be iterable"),i("ERR_ASSERTION","%s"),i("ERR_BUFFER_OUT_OF_BOUNDS",(function(t,e){return e?"Attempt to write outside buffer bounds":'"'+t+'" is outside of buffer bounds'})),i("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),i("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),i("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),i("ERR_DNS_SET_SERVERS_FAILED",(function(t,e){return'c-ares failed to set servers: "'+t+'" ['+e+"]"})),i("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),i("ERR_ENCODING_NOT_SUPPORTED",(function(t){return'The "'+t+'" encoding is not supported'})),i("ERR_ENCODING_INVALID_ENCODED_DATA",(function(t){return"The encoded data was not valid for encoding "+t})),i("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),i("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),i("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),i("ERR_INDEX_OUT_OF_RANGE","Index out of range"),i("ERR_INVALID_ARG_TYPE",(function(t,e,r){if(ti(t,"name is required"),e.includes("not ")){var n="must not be";e=e.split("not ")[1]}else n="must be";if(Array.isArray(t))n="The "+t.map((function(t){return'"'+t+'"'})).join(", ")+" arguments "+n+" "+o(e,"type");else if(t.includes(" argument"))n="The "+t+" "+n+" "+o(e,"type");else{var i=t.includes(".")?"property":"argument";n='The "'+t+'" '+i+" "+n+" "+o(e,"type")}return 3<=arguments.length&&(n+=". Received type "+(null!==r?typeof r:"null")),n})),i("ERR_INVALID_ARRAY_LENGTH",(function(t,e,r){return ti.strictEqual(typeof r,"number"),'The array "'+t+'" (length '+r+") must be of length "+e+"."})),i("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),i("ERR_INVALID_CALLBACK","Callback must be a function"),i("ERR_INVALID_CHAR","Invalid character in %s"),i("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),i("ERR_INVALID_FD",'"fd" must be a positive integer: %s'),i("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s'),i("ERR_INVALID_FILE_URL_PATH","File URL path %s"),i("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),i("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),i("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+String(e)+'" is invalid for option "'+t+'"'})),i("ERR_INVALID_OPT_VALUE_ENCODING",(function(t){return'The value "'+String(t)+'" is invalid for option "encoding"'})),i("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL'),i("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),i("ERR_INVALID_THIS",'Value of "this" must be of type %s'),i("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),i("ERR_INVALID_URL","Invalid URL: %s"),i("ERR_INVALID_URL_SCHEME",(function(t){return"The URL must be "+o(t,"scheme")})),i("ERR_IPC_CHANNEL_CLOSED","Channel closed"),i("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),i("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),i("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),i("ERR_MISSING_ARGS",(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];ti(0<t.length,"At least one arg needs to be specified"),e="The ";var r=t.length;switch(t=t.map((function(t){return'"'+t+'"'})),r){case 1:e+=t[0]+" argument";break;case 2:e+=t[0]+" and "+t[1]+" arguments";break;default:e+=t.slice(0,r-1).join(", "),e+=", and "+t[r-1]+" arguments"}return e+" must be specified"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),i("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),i("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),i("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),i("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),i("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),i("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),i("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),i("ERR_SOCKET_CANNOT_SEND","Unable to send data"),i("ERR_SOCKET_CLOSED","Socket is closed"),i("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),i("ERR_STDERR_CLOSE","process.stderr cannot be closed"),i("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),i("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),i("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s"),i("ERR_TLS_DH_PARAM_SIZE",(function(t){return"DH parameter size "+t+" is less than 2048"})),i("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),i("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),i("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext'),i("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),i("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),i("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),i("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),i("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),i("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),i("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),i("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl")}));ar(ci);var pi=fr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ENCODING_UTF8="utf8",e.assertEncoding=function(t){if(t&&!Qr.Buffer.isEncoding(t))throw new ci.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",t)},e.strToEncoding=function(t,r){return r&&r!==e.ENCODING_UTF8?"buffer"===r?new Qr.Buffer(t):new Qr.Buffer(t).toString(r):t}}));ar(pi);var di=fr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=ur.constants.S_IFMT,n=ur.constants.S_IFDIR,i=ur.constants.S_IFREG,o=ur.constants.S_IFBLK,s=ur.constants.S_IFCHR,a=ur.constants.S_IFLNK,f=ur.constants.S_IFIFO,u=ur.constants.S_IFSOCK;t=function(){function t(){this.name="",this.mode=0}return t.build=function(e,r){var n=new t,i=e.getNode().mode;return n.name=pi.strToEncoding(e.getName(),r),n.mode=i,n},t.prototype._checkModeProperty=function(t){return(this.mode&r)===t},t.prototype.isDirectory=function(){return this._checkModeProperty(n)},t.prototype.isFile=function(){return this._checkModeProperty(i)},t.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},t.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},t.prototype.isSymbolicLink=function(){return this._checkModeProperty(a)},t.prototype.isFIFO=function(){return this._checkModeProperty(f)},t.prototype.isSocket=function(){return this._checkModeProperty(u)},t}(),e.Dirent=t,e.default=t}));function _i(){for(var t="",e=!1,r=arguments.length-1;-1<=r&&!e;r--){var n=0<=r?arguments[r]:"/";if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(t=n+"/"+t,e="/"===n.charAt(0))}return(e?"/":"")+(t=function(t,e){for(var r=0,n=t.length-1;0<=n;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}(function(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}(t.split("/"),(function(t){return!!t})),!e).join("/"))||"."}function gi(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;0<=r&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=_i(t).substr(1),e=_i(e).substr(1),t=r(t.split("/")),e=r(e.split("/"));for(var n=Math.min(t.length,e.length),i=n,o=0;o<n;o++)if(t[o]!==e[o]){i=o;break}for(n=[],o=i;o<t.length;o++)n.push("..");return(n=n.concat(e.slice(i))).join("/")}ar(di);var yi=gi,mi=_i;var Ei=fr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),t="function"==typeof setImmediate?setImmediate.bind(sr):setTimeout.bind(sr),e.default=t}));ar(Ei);var Si=fr((function(t,e){function r(){var t=mn||{};return t.getuid||(t.getuid=function(){return 0}),t.getgid||(t.getgid=function(){return 0}),t.cwd||(t.cwd=function(){return"/"}),t.nextTick||(t.nextTick=Ei.default),t.emitWarning||(t.emitWarning=function(t,e){console.warn(e+(e?": ":"")+t)}),t.env||(t.env={}),t}Object.defineProperty(e,"__esModule",{value:!0}),e.createProcess=r,e.default=r()}));function Ii(){}function wi(){wi.init.call(this)}function Ai(t,e,r,n){var i;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if(i=t._events){i.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events);var o=i[e]}else i=t._events=new Ii,t._eventsCount=0;return o?("function"==typeof o?o=i[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),o.warned||(r=void 0===t._maxListeners?wi.defaultMaxListeners:t._maxListeners)&&0<r&&o.length>r&&(o.warned=!0,(r=Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",r.emitter=t,r.type=e,r.count=o.length,"function"==typeof console.warn?console.warn(r):console.log(r))):(i[e]=r,++t._eventsCount),t}function vi(t,e,r){function n(){t.removeListener(e,n),i||(i=!0,r.apply(t,arguments))}var i=!1;return n.listener=r,n}function Ti(t){var e=this._events;if(e){if("function"==typeof(t=e[t]))return 1;if(t)return t.length}return 0}function bi(t,e){for(var r=Array(e);e--;)r[e]=t[e];return r}ar(Si),Ii.prototype=Object.create(null),wi.EventEmitter=wi,wi.usingDomains=!1,wi.prototype.domain=void 0,wi.prototype._events=void 0,wi.prototype._maxListeners=void 0,wi.defaultMaxListeners=10,wi.init=function(){this.domain=null,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Ii,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},wi.prototype.setMaxListeners=function(t){if("number"!=typeof t||0>t||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},wi.prototype.getMaxListeners=function(){return void 0===this._maxListeners?wi.defaultMaxListeners:this._maxListeners},wi.prototype.emit=function(t){var e,r,n="error"===t;if(e=this._events)n=n&&null==e.error;else if(!n)return!1;var i=this.domain;if(n){if(e=arguments[1],!i){if(e instanceof Error)throw e;throw(i=Error('Uncaught, unspecified "error" event. ('+e+")")).context=e,i}return e||(e=Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=i,e.domainThrown=!1,i.emit("error",e),!1}if(!(i=e[t]))return!1;e="function"==typeof i;var o=arguments.length;switch(o){case 1:if(e)i.call(this);else for(i=bi(i,e=i.length),n=0;n<e;++n)i[n].call(this);break;case 2:if(n=arguments[1],e)i.call(this,n);else for(i=bi(i,e=i.length),o=0;o<e;++o)i[o].call(this,n);break;case 3:if(n=arguments[1],o=arguments[2],e)i.call(this,n,o);else for(i=bi(i,e=i.length),r=0;r<e;++r)i[r].call(this,n,o);break;case 4:if(n=arguments[1],o=arguments[2],r=arguments[3],e)i.call(this,n,o,r);else{i=bi(i,e=i.length);for(var s=0;s<e;++s)i[s].call(this,n,o,r)}break;default:for(n=Array(o-1),r=1;r<o;r++)n[r-1]=arguments[r];if(e)i.apply(this,n);else for(i=bi(i,e=i.length),o=0;o<e;++o)i[o].apply(this,n)}return!0},wi.prototype.addListener=function(t,e){return Ai(this,t,e,!1)},wi.prototype.on=wi.prototype.addListener,wi.prototype.prependListener=function(t,e){return Ai(this,t,e,!0)},wi.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,vi(this,t,e)),this},wi.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,vi(this,t,e)),this},wi.prototype.removeListener=function(t,e){var r;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');var n=this._events;if(!n)return this;var i=n[t];if(!i)return this;if(i===e||i.listener&&i.listener===e)0==--this._eventsCount?this._events=new Ii:(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){var o=-1;for(r=i.length;0<r--;)if(i[r]===e||i[r].listener&&i[r].listener===e){var s=i[r].listener;o=r;break}if(0>o)return this;if(1===i.length){if(i[0]=void 0,0==--this._eventsCount)return this._events=new Ii,this;delete n[t]}else{r=o+1;for(var a=i.length;r<a;o+=1,r+=1)i[o]=i[r];i.pop()}n.removeListener&&this.emit("removeListener",t,s||e)}return this},wi.prototype.removeAllListeners=function(t){var e=this._events;if(!e)return this;if(!e.removeListener)return 0===arguments.length?(this._events=new Ii,this._eventsCount=0):e[t]&&(0==--this._eventsCount?this._events=new Ii:delete e[t]),this;if(0===arguments.length){e=Object.keys(e);for(var r,n=0;n<e.length;++n)"removeListener"!==(r=e[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new Ii,this._eventsCount=0,this}if("function"==typeof(e=e[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},wi.prototype.listeners=function(t){var e=this._events;if(e)if(t=e[t])if("function"==typeof t)t=[t.listener||t];else{e=Array(t.length);for(var r=0;r<e.length;++r)e[r]=t[r].listener||t[r];t=e}else t=[];else t=[];return t},wi.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):Ti.call(t,e)},wi.prototype.listenerCount=Ti,wi.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};var Ri=fr((function(t,e){var r=sr&&sr.__extends||function(){function t(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)}return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=ur.constants.S_IFMT,i=ur.constants.S_IFDIR,o=ur.constants.S_IFREG,s=ur.constants.S_IFLNK,a=ur.constants.O_APPEND;e.SEP="/",t=function(t){function e(e,r){void 0===r&&(r=438);var n=t.call(this)||this;return n.uid=Si.default.getuid(),n.gid=Si.default.getgid(),n.atime=new Date,n.mtime=new Date,n.ctime=new Date,n.perm=438,n.mode=o,n.nlink=1,n.perm=r,n.mode|=r,n.ino=e,n}return r(e,t),e.prototype.getString=function(t){return void 0===t&&(t="utf8"),this.getBuffer().toString(t)},e.prototype.setString=function(t){this.buf=Qr.bufferFrom(t,"utf8"),this.touch()},e.prototype.getBuffer=function(){return this.buf||this.setBuffer(Qr.bufferAllocUnsafe(0)),Qr.bufferFrom(this.buf)},e.prototype.setBuffer=function(t){this.buf=Qr.bufferFrom(t),this.touch()},e.prototype.getSize=function(){return this.buf?this.buf.length:0},e.prototype.setModeProperty=function(t){this.mode=this.mode&~n|t},e.prototype.setIsFile=function(){this.setModeProperty(o)},e.prototype.setIsDirectory=function(){this.setModeProperty(i)},e.prototype.setIsSymlink=function(){this.setModeProperty(s)},e.prototype.isFile=function(){return(this.mode&n)===o},e.prototype.isDirectory=function(){return(this.mode&n)===i},e.prototype.isSymlink=function(){return(this.mode&n)===s},e.prototype.makeSymlink=function(t){this.symlink=t,this.setIsSymlink()},e.prototype.write=function(t,e,r,n){if(void 0===e&&(e=0),void 0===r&&(r=t.length),void 0===n&&(n=0),this.buf||(this.buf=Qr.bufferAllocUnsafe(0)),n+r>this.buf.length){var i=Qr.bufferAllocUnsafe(n+r);this.buf.copy(i,0,0,this.buf.length),this.buf=i}return t.copy(this.buf,n,e,e+r),this.touch(),r},e.prototype.read=function(t,e,r,n){return void 0===e&&(e=0),void 0===r&&(r=t.byteLength),void 0===n&&(n=0),this.buf||(this.buf=Qr.bufferAllocUnsafe(0)),r>t.byteLength&&(r=t.byteLength),r+n>this.buf.length&&(r=this.buf.length-n),this.buf.copy(t,e,n,n+r),r},e.prototype.truncate=function(t){if(void 0===t&&(t=0),t)if(this.buf||(this.buf=Qr.bufferAllocUnsafe(0)),t<=this.buf.length)this.buf=this.buf.slice(0,t);else{var e=Qr.bufferAllocUnsafe(0);this.buf.copy(e),e.fill(0,t)}else this.buf=Qr.bufferAllocUnsafe(0);this.touch()},e.prototype.chmod=function(t){this.perm=t,this.mode=-512&this.mode|t,this.touch()},e.prototype.chown=function(t,e){this.uid=t,this.gid=e,this.touch()},e.prototype.touch=function(){this.mtime=new Date,this.emit("change",this)},e.prototype.canRead=function(t,e){return void 0===t&&(t=Si.default.getuid()),void 0===e&&(e=Si.default.getgid()),!!(4&this.perm||e===this.gid&&32&this.perm||t===this.uid&&256&this.perm)},e.prototype.canWrite=function(t,e){return void 0===t&&(t=Si.default.getuid()),void 0===e&&(e=Si.default.getgid()),!!(2&this.perm||e===this.gid&&16&this.perm||t===this.uid&&128&this.perm)},e.prototype.del=function(){this.emit("delete",this)},e.prototype.toJSON=function(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}},e}(wi.EventEmitter),e.Node=t,t=function(t){function n(e,r,n){var i=t.call(this)||this;return i.children={},i.steps=[],i.ino=0,i.length=0,i.vol=e,i.parent=r,i.steps=r?r.steps.concat([n]):[n],i}return r(n,t),n.prototype.setNode=function(t){this.node=t,this.ino=t.ino},n.prototype.getNode=function(){return this.node},n.prototype.createChild=function(t,e){void 0===e&&(e=this.vol.createNode());var r=new n(this.vol,this,t);return r.setNode(e),e.isDirectory(),this.setChild(t,r),r},n.prototype.setChild=function(t,e){return void 0===e&&(e=new n(this.vol,this,t)),this.children[t]=e,e.parent=this,this.length++,this.emit("child:add",e,this),e},n.prototype.deleteChild=function(t){delete this.children[t.getName()],this.length--,this.emit("child:delete",t,this)},n.prototype.getChild=function(t){if(Object.hasOwnProperty.call(this.children,t))return this.children[t]},n.prototype.getPath=function(){return this.steps.join(e.SEP)},n.prototype.getName=function(){return this.steps[this.steps.length-1]},n.prototype.walk=function(t,e,r){if(void 0===e&&(e=t.length),void 0===r&&(r=0),r>=t.length||r>=e)return this;var n=this.getChild(t[r]);return n?n.walk(t,e,r+1):null},n.prototype.toJSON=function(){return{steps:this.steps,ino:this.ino,children:Object.keys(this.children)}},n}(wi.EventEmitter),e.Link=t,t=function(){function t(t,e,r,n){this.position=0,this.link=t,this.node=e,this.flags=r,this.fd=n}return t.prototype.getString=function(){return this.node.getString()},t.prototype.setString=function(t){this.node.setString(t)},t.prototype.getBuffer=function(){return this.node.getBuffer()},t.prototype.setBuffer=function(t){this.node.setBuffer(t)},t.prototype.getSize=function(){return this.node.getSize()},t.prototype.truncate=function(t){this.node.truncate(t)},t.prototype.seekTo=function(t){this.position=t},t.prototype.stats=function(){return lr.default.build(this.node)},t.prototype.write=function(t,e,r,n){return void 0===e&&(e=0),void 0===r&&(r=t.length),"number"!=typeof n&&(n=this.position),this.flags&a&&(n=this.getSize()),t=this.node.write(t,e,r,n),this.position=n+t,t},t.prototype.read=function(t,e,r,n){return void 0===e&&(e=0),void 0===r&&(r=t.byteLength),"number"!=typeof n&&(n=this.position),t=this.node.read(t,e,r,n),this.position=n+t,t},t.prototype.chmod=function(t){this.node.chmod(t)},t.prototype.chown=function(t,e){this.node.chown(t,e)},t}(),e.File=t}));ar(Ri);var Oi=Ri.Node,Ci=fr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var n=setTimeout.apply(null,arguments);return n&&"object"==typeof n&&"function"==typeof n.unref&&n.unref(),n}}));function Ni(){this.tail=this.head=null,this.length=0}ar(Ci),Ni.prototype.push=function(t){t={data:t,next:null},0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},Ni.prototype.unshift=function(t){t={data:t,next:this.head},0===this.length&&(this.tail=t),this.head=t,++this.length},Ni.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}},Ni.prototype.clear=function(){this.head=this.tail=null,this.length=0},Ni.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},Ni.prototype.concat=function(t){if(0===this.length)return br.alloc(0);if(1===this.length)return this.head.data;t=br.allocUnsafe(t>>>0);for(var e=this.head,r=0;e;)e.data.copy(t,r),r+=e.data.length,e=e.next;return t};var Li=br.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Pi(t){if(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),t&&!Li(t))throw Error("Unknown encoding: "+t);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Bi;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=Fi;break;default:return void(this.write=Wi)}this.charBuffer=new br(6),this.charLength=this.charReceived=0}function Wi(t){return t.toString(this.encoding)}function Bi(t){this.charLength=(this.charReceived=t.length%2)?2:0}function Fi(t){this.charLength=(this.charReceived=t.length%3)?3:0}Pi.prototype.write=function(t){for(var e="";this.charLength;){if(e=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length,t.copy(this.charBuffer,this.charReceived,0,e),this.charReceived+=e,this.charReceived<this.charLength)return"";t=t.slice(e,t.length);var r=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1);if(!(55296<=r&&56319>=r)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var n=t.length;return this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,n),n-=this.charReceived),n=(e+=t.toString(this.encoding,0,n)).length-1,55296<=(r=e.charCodeAt(n))&&56319>=r?(r=this.surrogateSize,this.charLength+=r,this.charReceived+=r,this.charBuffer.copy(this.charBuffer,r,0,r),t.copy(this.charBuffer,0,0,r),e.substring(0,n)):e},Pi.prototype.detectIncompleteChar=function(t){for(var e=3<=t.length?3:t.length;0<e;e--){var r=t[t.length-e];if(1==e&&6==r>>5){this.charLength=2;break}if(2>=e&&14==r>>4){this.charLength=3;break}if(3>=e&&30==r>>3){this.charLength=4;break}}this.charReceived=e},Pi.prototype.end=function(t){var e="";return t&&t.length&&(e=this.write(t)),this.charReceived&&(t=this.encoding,e+=this.charBuffer.slice(0,this.charReceived).toString(t)),e},Ui.ReadableState=ki;var Di=Tn("stream");function ki(t,e){t=t||{},this.objectMode=!!t.objectMode,e instanceof ho&&(this.objectMode=this.objectMode||!!t.readableObjectMode),e=t.highWaterMark;var r=this.objectMode?16:16384;this.highWaterMark=e||0===e?e:r,this.highWaterMark=~~this.highWaterMark,this.buffer=new Ni,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.reading=this.endEmitted=this.ended=!1,this.sync=!0,this.resumeScheduled=this.readableListening=this.emittedReadable=this.needReadable=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.encoding=this.decoder=null,t.encoding&&(this.decoder=new Pi(t.encoding),this.encoding=t.encoding)}function Ui(t){if(!(this instanceof Ui))return new Ui(t);this._readableState=new ki(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),wi.call(this)}function Mi(t,e,r,n,i){var o=r,s=null;if(Xr(o)||"string"==typeof o||null==o||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),o=s)t.emit("error",o);else if(null===r)e.reading=!1,e.ended||(e.decoder&&(r=e.decoder.end())&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length),e.ended=!0,Gi(t));else if(e.objectMode||r&&0<r.length)if(e.ended&&!i)t.emit("error",Error("stream.push() after EOF"));else if(e.endEmitted&&i)t.emit("error",Error("stream.unshift() after end event"));else{if(e.decoder&&!i&&!n){r=e.decoder.write(r);var a=!e.objectMode&&0===r.length}i||(e.reading=!1),a||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Gi(t))),e.readingMore||(e.readingMore=!0,cn(ji,t,e))}else i||(e.reading=!1);return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function xi(t,e){if(0>=t||0===e.length&&e.ended)return 0;if(e.objectMode)return 1;if(t!=t)return e.flowing&&e.length?e.buffer.head.data.length:e.length;if(t>e.highWaterMark){var r=t;8388608<=r?r=8388608:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),e.highWaterMark=r}return t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0)}function Gi(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Di("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?cn(Hi,t):Hi(t))}function Hi(t){Di("emit readable"),t.emit("readable"),Vi(t)}function ji(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Di("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function Yi(t){Di("readable nexttick read 0"),t.read(0)}function zi(t,e){e.reading||(Di("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),Vi(t),e.flowing&&!e.reading&&t.read(0)}function Vi(t){var e=t._readableState;for(Di("flow",e.flowing);e.flowing&&null!==t.read(););}function Ki(t,e){if(0===e.length)return null;if(e.objectMode)var r=e.buffer.shift();else if(!t||t>=e.length)r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear();else{if(r=e.buffer,e=e.decoder,t<r.head.data.length)e=r.head.data.slice(0,t),r.head.data=r.head.data.slice(t);else{if(t===r.head.data.length)r=r.shift();else if(e){var n=1,i=(e=r.head).data;for(t-=i.length;e=e.next;){var o=e.data,s=t>o.length?o.length:t;if(i=s===o.length?i+o:i+o.slice(0,t),0==(t-=s)){s===o.length?(++n,r.head=e.next?e.next:r.tail=null):(r.head=e,e.data=o.slice(s));break}++n}r.length-=n,r=i}else{for(e=br.allocUnsafe(t),i=1,(n=r.head).data.copy(e),t-=n.data.length;n=n.next;){if(s=t>(o=n.data).length?o.length:t,o.copy(e,e.length-t,0,s),0==(t-=s)){s===o.length?(++i,r.head=n.next?n.next:r.tail=null):(r.head=n,n.data=o.slice(s));break}++i}r.length-=i,r=e}e=r}r=e}return r}function qi(t){var e=t._readableState;if(0<e.length)throw Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,cn(Zi,e,t))}function Zi(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function Xi(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Ji(){}function $i(t,e,r){this.chunk=t,this.encoding=e,this.callback=r,this.next=null}function Qi(t,e){Object.defineProperty(this,"buffer",{get:wn((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),t=t||{},this.objectMode=!!t.objectMode,e instanceof ho&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.finished=this.ended=this.ending=this.needDrain=!1,this.decodeStrings=!1!==t.decodeStrings,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){var r=e._writableState,n=r.sync,i=r.writecb;r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(--r.pendingcb,n?cn(i,t):i(t),e._writableState.errorEmitted=!0,e.emit("error",t)):((t=io(r))||r.corked||r.bufferProcessing||!r.bufferedRequest||no(e,r),n?cn(ro,e,r,t,i):ro(e,r,t,i))},this.writecb=null,this.writelen=0,this.lastBufferedRequest=this.bufferedRequest=null,this.pendingcb=0,this.errorEmitted=this.prefinished=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new so(this)}function to(t){if(!(this instanceof to||this instanceof ho))return new to(t);this._writableState=new Qi(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),wi.call(this)}function eo(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function ro(t,e,r,n){!r&&0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain")),e.pendingcb--,n(),oo(t,e)}function no(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=Array(e.bufferedRequestCount),i=e.corkedRequestsFree;i.entry=r;for(var o=0;r;)n[o]=r,r=r.next,o+=1;eo(t,e,!0,e.length,n,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new so(e)}else{for(;r&&(n=r.chunk,eo(t,e,!1,e.objectMode?1:n.length,n,r.encoding,r.callback),r=r.next,!e.writing););null===r&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=r,e.bufferProcessing=!1}function io(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function oo(t,e){var r=io(e);return r&&(0===e.pendingcb?(e.prefinished||(e.prefinished=!0,t.emit("prefinish")),e.finished=!0,t.emit("finish")):e.prefinished||(e.prefinished=!0,t.emit("prefinish"))),r}function so(t){var e=this;this.entry=this.next=null,this.finish=function(r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}En(Ui,wi),Ui.prototype.push=function(t,e){var r=this._readableState;return r.objectMode||"string"!=typeof t||(e=e||r.defaultEncoding)!==r.encoding&&(t=br.from(t,e),e=""),Mi(this,r,t,e,!1)},Ui.prototype.unshift=function(t){return Mi(this,this._readableState,t,"",!0)},Ui.prototype.isPaused=function(){return!1===this._readableState.flowing},Ui.prototype.setEncoding=function(t){return this._readableState.decoder=new Pi(t),this._readableState.encoding=t,this},Ui.prototype.read=function(t){Di("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Di("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?qi(this):Gi(this),null;if(0===(t=xi(t,e))&&e.ended)return 0===e.length&&qi(this),null;var n=e.needReadable;return Di("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&Di("length less than watermark",n=!0),e.ended||e.reading?Di("reading or ended",!1):n&&(Di("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=xi(r,e))),null===(n=0<t?Ki(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&qi(this)),null!==n&&this.emit("data",n),n},Ui.prototype._read=function(){this.emit("error",Error("not implemented"))},Ui.prototype.pipe=function(t,e){function r(t){Di("onunpipe"),t===h&&i()}function n(){Di("onend"),t.end()}function i(){Di("cleanup"),t.removeListener("close",a),t.removeListener("finish",f),t.removeListener("drain",c),t.removeListener("error",s),t.removeListener("unpipe",r),h.removeListener("end",n),h.removeListener("end",i),h.removeListener("data",o),p=!0,!l.awaitDrain||t._writableState&&!t._writableState.needDrain||c()}function o(e){Di("ondata"),d=!1,!1!==t.write(e)||d||((1===l.pipesCount&&l.pipes===t||1<l.pipesCount&&-1!==Xi(l.pipes,t))&&!p&&(Di("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,d=!0),h.pause())}function s(e){Di("onerror",e),u(),t.removeListener("error",s),0===t.listeners("error").length&&t.emit("error",e)}function a(){t.removeListener("finish",f),u()}function f(){Di("onfinish"),t.removeListener("close",a),u()}function u(){Di("unpipe"),h.unpipe(t)}var h=this,l=this._readableState;switch(l.pipesCount){case 0:l.pipes=t;break;case 1:l.pipes=[l.pipes,t];break;default:l.pipes.push(t)}l.pipesCount+=1,Di("pipe count=%d opts=%j",l.pipesCount,e),e=e&&!1===e.end?i:n,l.endEmitted?cn(e):h.once("end",e),t.on("unpipe",r);var c=function(t){return function(){var e=t._readableState;Di("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&t.listeners("data").length&&(e.flowing=!0,Vi(t))}}(h);t.on("drain",c);var p=!1,d=!1;return h.on("data",o),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",s),t.once("close",a),t.once("finish",f),t.emit("pipe",h),l.flowing||(Di("pipe resume"),h.resume()),t},Ui.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this)),this;if(!t){t=e.pipes;var r=e.pipesCount;for(e.pipes=null,e.pipesCount=0,e.flowing=!1,e=0;e<r;e++)t[e].emit("unpipe",this);return this}return-1===(r=Xi(e.pipes,t))||(e.pipes.splice(r,1),--e.pipesCount,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this)),this},Ui.prototype.on=function(t,e){return e=wi.prototype.on.call(this,t,e),"data"===t?!1!==this._readableState.flowing&&this.resume():"readable"===t&&((t=this._readableState).endEmitted||t.readableListening||(t.readableListening=t.needReadable=!0,t.emittedReadable=!1,t.reading?t.length&&Gi(this):cn(Yi,this))),e},Ui.prototype.addListener=Ui.prototype.on,Ui.prototype.resume=function(){var t=this._readableState;return t.flowing||(Di("resume"),t.flowing=!0,t.resumeScheduled||(t.resumeScheduled=!0,cn(zi,this,t))),this},Ui.prototype.pause=function(){return Di("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Di("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Ui.prototype.wrap=function(t){var e=this._readableState,r=!1,n=this;for(var i in t.on("end",(function(){if(Di("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&n.push(t)}n.push(null)})),t.on("data",(function(i){Di("wrapped data"),e.decoder&&(i=e.decoder.write(i)),e.objectMode&&null==i||!(e.objectMode||i&&i.length)||n.push(i)||(r=!0,t.pause())})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));return function(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r])}(["error","close","destroy","pause","resume"],(function(e){t.on(e,n.emit.bind(n,e))})),n._read=function(e){Di("wrapped _read",e),r&&(r=!1,t.resume())},n},Ui._fromList=Ki,to.WritableState=Qi,En(to,wi),Qi.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},to.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))},to.prototype.write=function(t,e,r){var n=this._writableState,i=!1;if("function"==typeof e&&(r=e,e=null),br.isBuffer(t)?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=Ji),n.ended)n=r,t=Error("write after end"),this.emit("error",t),cn(n,t);else{var o=r,s=!0,a=!1;null===t?a=new TypeError("May not write null values to stream"):br.isBuffer(t)||"string"==typeof t||void 0===t||n.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(this.emit("error",a),cn(o,a),s=!1),s&&(n.pendingcb++,i=e,n.objectMode||!1===n.decodeStrings||"string"!=typeof t||(t=br.from(t,i)),br.isBuffer(t)&&(i="buffer"),o=n.objectMode?1:t.length,n.length+=o,(e=n.length<n.highWaterMark)||(n.needDrain=!0),n.writing||n.corked?(o=n.lastBufferedRequest,n.lastBufferedRequest=new $i(t,i,r),o?o.next=n.lastBufferedRequest:n.bufferedRequest=n.lastBufferedRequest,n.bufferedRequestCount+=1):eo(this,n,!1,o,t,i,r),i=e)}return i},to.prototype.cork=function(){this._writableState.corked++},to.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||no(this,t))},to.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((t+"").toLowerCase())))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},to.prototype._write=function(t,e,r){r(Error("not implemented"))},to.prototype._writev=null,to.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,e=t=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||(t=r,n.ending=!0,oo(this,n),t&&(n.finished?cn(t):this.once("finish",t)),n.ended=!0,this.writable=!1)},En(ho,Ui);for(var ao=Object.keys(to.prototype),fo=0;fo<ao.length;fo++){var uo=ao[fo];ho.prototype[uo]||(ho.prototype[uo]=to.prototype[uo])}function ho(t){if(!(this instanceof ho))return new ho(t);Ui.call(this,t),to.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",lo)}function lo(){this.allowHalfOpen||this._writableState.ended||cn(co,this)}function co(t){t.end()}function po(t){this.afterTransform=function(e,r){var n=t._transformState;n.transforming=!1;var i=n.writecb;return i?(n.writechunk=null,n.writecb=null,null!=r&&t.push(r),i(e),(e=t._readableState).reading=!1,(e.needReadable||e.length<e.highWaterMark)&&t._read(e.highWaterMark),e=void 0):e=t.emit("error",Error("no writecb in Transform class")),e},this.transforming=this.needTransform=!1,this.writeencoding=this.writechunk=this.writecb=null}function _o(t){if(!(this instanceof _o))return new _o(t);ho.call(this,t),this._transformState=new po(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(t){go(e,t)})):go(e)}))}function go(t,e){if(e)return t.emit("error",e);if(e=t._transformState,t._writableState.length)throw Error("Calling transform done when ws.length != 0");if(e.transforming)throw Error("Calling transform done when still transforming");return t.push(null)}function yo(t){if(!(this instanceof yo))return new yo(t);_o.call(this,t)}function mo(){wi.call(this)}En(_o,ho),_o.prototype.push=function(t,e){return this._transformState.needTransform=!1,ho.prototype.push.call(this,t,e)},_o.prototype._transform=function(){throw Error("Not implemented")},_o.prototype._write=function(t,e,r){var n=this._transformState;n.writecb=r,n.writechunk=t,n.writeencoding=e,n.transforming||(t=this._readableState,(n.needTransform||t.needReadable||t.length<t.highWaterMark)&&this._read(t.highWaterMark))},_o.prototype._read=function(){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},En(yo,_o),yo.prototype._transform=function(t,e,r){r(null,t)},En(mo,wi),mo.Readable=Ui,mo.Writable=to,mo.Duplex=ho,mo.Transform=_o,mo.PassThrough=yo,mo.Stream=mo,mo.prototype.pipe=function(t,e){function r(e){t.writable&&!1===t.write(e)&&f.pause&&f.pause()}function n(){f.readable&&f.resume&&f.resume()}function i(){u||(u=!0,t.end())}function o(){u||(u=!0,"function"==typeof t.destroy&&t.destroy())}function s(t){if(a(),0===wi.listenerCount(this,"error"))throw t}function a(){f.removeListener("data",r),t.removeListener("drain",n),f.removeListener("end",i),f.removeListener("close",o),f.removeListener("error",s),t.removeListener("error",s),f.removeListener("end",a),f.removeListener("close",a),t.removeListener("close",a)}var f=this;f.on("data",r),t.on("drain",n),t._isStdio||e&&!1===e.end||(f.on("end",i),f.on("close",o));var u=!1;return f.on("error",s),t.on("error",s),f.on("end",a),f.on("close",a),t.on("close",a),t.emit("pipe",f),t};var Eo=Array.prototype.slice,So=function t(e,r){for(var n in r)e[n]=r[n];return 3>arguments.length?e:t.apply(null,[e].concat(Eo.call(arguments,2)))},Io=fr((function(t,e){function r(t,e,r){return void 0===r&&(r=function(t){return t}),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new Promise((function(o,s){t[e].bind(t).apply(void 0,n(i,[function(t,e){return t?s(t):o(r(e))}]))}))}}var n=sr&&sr.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;t=Array(t);var n=0;for(e=0;e<r;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,n++)t[n]=i[o];return t};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.vol=t,this.fd=e}return t.prototype.appendFile=function(t,e){return r(this.vol,"appendFile")(this.fd,t,e)},t.prototype.chmod=function(t){return r(this.vol,"fchmod")(this.fd,t)},t.prototype.chown=function(t,e){return r(this.vol,"fchown")(this.fd,t,e)},t.prototype.close=function(){return r(this.vol,"close")(this.fd)},t.prototype.datasync=function(){return r(this.vol,"fdatasync")(this.fd)},t.prototype.read=function(t,e,n,i){return r(this.vol,"read",(function(e){return{bytesRead:e,buffer:t}}))(this.fd,t,e,n,i)},t.prototype.readFile=function(t){return r(this.vol,"readFile")(this.fd,t)},t.prototype.stat=function(t){return r(this.vol,"fstat")(this.fd,t)},t.prototype.sync=function(){return r(this.vol,"fsync")(this.fd)},t.prototype.truncate=function(t){return r(this.vol,"ftruncate")(this.fd,t)},t.prototype.utimes=function(t,e){return r(this.vol,"futimes")(this.fd,t,e)},t.prototype.write=function(t,e,n,i){return r(this.vol,"write",(function(e){return{bytesWritten:e,buffer:t}}))(this.fd,t,e,n,i)},t.prototype.writeFile=function(t,e){return r(this.vol,"writeFile")(this.fd,t,e)},t}();e.FileHandle=i,e.default=function(t){return"undefined"==typeof Promise?null:{FileHandle:i,access:function(e,n){return r(t,"access")(e,n)},appendFile:function(e,n,o){return r(t,"appendFile")(e instanceof i?e.fd:e,n,o)},chmod:function(e,n){return r(t,"chmod")(e,n)},chown:function(e,n,i){return r(t,"chown")(e,n,i)},copyFile:function(e,n,i){return r(t,"copyFile")(e,n,i)},lchmod:function(e,n){return r(t,"lchmod")(e,n)},lchown:function(e,n,i){return r(t,"lchown")(e,n,i)},link:function(e,n){return r(t,"link")(e,n)},lstat:function(e,n){return r(t,"lstat")(e,n)},mkdir:function(e,n){return r(t,"mkdir")(e,n)},mkdtemp:function(e,n){return r(t,"mkdtemp")(e,n)},open:function(e,n,o){return r(t,"open",(function(e){return new i(t,e)}))(e,n,o)},readdir:function(e,n){return r(t,"readdir")(e,n)},readFile:function(e,n){return r(t,"readFile")(e instanceof i?e.fd:e,n)},readlink:function(e,n){return r(t,"readlink")(e,n)},realpath:function(e,n){return r(t,"realpath")(e,n)},rename:function(e,n){return r(t,"rename")(e,n)},rmdir:function(e){return r(t,"rmdir")(e)},stat:function(e,n){return r(t,"stat")(e,n)},symlink:function(e,n,i){return r(t,"symlink")(e,n,i)},truncate:function(e,n){return r(t,"truncate")(e,n)},unlink:function(e){return r(t,"unlink")(e)},utimes:function(e,n,i){return r(t,"utimes")(e,n,i)},writeFile:function(e,n,o){return r(t,"writeFile")(e instanceof i?e.fd:e,n,o)}}}}));ar(Io);var wo=/[^\x20-\x7E]/,Ao=/[\x2E\u3002\uFF0E\uFF61]/g,vo={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},To=Math.floor,bo=String.fromCharCode;function Ro(t,e){return t+22+75*(26>t)-((0!=e)<<5)}var Oo=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function Co(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}function No(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var Lo=Object.keys||function(t){var e,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r};function Po(t,e,r,n){r=r||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;for(t=t.split(e||"&"),e=1e3,n&&"number"==typeof n.maxKeys&&(e=n.maxKeys),n=t.length,0<e&&n>e&&(n=e),e=0;e<n;++e){var s=t[e].replace(o,"%20"),a=s.indexOf(r);if(0<=a){var f=s.substr(0,a);s=s.substr(a+1)}else f=s,s="";f=decodeURIComponent(f),s=decodeURIComponent(s),Object.prototype.hasOwnProperty.call(i,f)?Oo(i[f])?i[f].push(s):i[f]=[i[f],s]:i[f]=s}return i}var Wo={parse:qo,resolve:function(t,e){return qo(t,!1,!0).resolve(e)},resolveObject:function(t,e){return t?qo(t,!1,!0).resolveObject(e):e},format:function(t){return Fn(t)&&(t=Zo({},t)),Xo(t)},Url:Bo};function Bo(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}var Fo=/^([a-z0-9.+-]+:)/i,Do=/:[0-9]*$/,ko=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Uo="{}|\\^`".split("").concat('<>"` \r\n\t'.split("")),Mo=["'"].concat(Uo),xo=["%","/","?",";","#"].concat(Mo),Go=["/","?","#"],Ho=255,jo=/^[+a-z0-9A-Z_-]{0,63}$/,Yo=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,zo={javascript:!0,"javascript:":!0},Vo={javascript:!0,"javascript:":!0},Ko={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function qo(t,e,r){if(t&&Un(t)&&t instanceof Bo)return t;var n=new Bo;return n.parse(t,e,r),n}function Zo(t,e,r,n){if(!Fn(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?");if(i=-1!==i&&i<e.indexOf("#")?"?":"#",(e=e.split(i))[0]=e[0].replace(/\\/g,"/"),i=(e=e.join(i)).trim(),!n&&1===e.split("#").length&&(e=ko.exec(i)))return t.path=i,t.href=i,t.pathname=e[1],e[2]?(t.search=e[2],t.query=r?Po(t.search.substr(1)):t.search.substr(1)):r&&(t.search="",t.query={}),t;if(e=Fo.exec(i)){var o=(e=e[0]).toLowerCase();t.protocol=o,i=i.substr(e.length)}if(n||e||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===i.substr(0,2);!s||e&&Vo[e]||(i=i.substr(2),t.slashes=!0)}if(!Vo[e]&&(s||e&&!Ko[e])){for(e=-1,n=0;n<Go.length;n++)-1!==(s=i.indexOf(Go[n]))&&(-1===e||s<e)&&(e=s);for(-1!==(s=-1===e?i.lastIndexOf("@"):i.lastIndexOf("@",e))&&(n=i.slice(0,s),i=i.slice(s+1),t.auth=decodeURIComponent(n)),e=-1,n=0;n<xo.length;n++)-1!==(s=i.indexOf(xo[n]))&&(-1===e||s<e)&&(e=s);if(-1===e&&(e=i.length),t.host=i.slice(0,e),i=i.slice(e),Jo(t),t.hostname=t.hostname||"",!(s="["===t.hostname[0]&&"]"===t.hostname[t.hostname.length-1])){var a=t.hostname.split(/\./);for(n=0,e=a.length;n<e;n++){var f=a[n];if(f&&!f.match(jo)){for(var u="",h=0,l=f.length;h<l;h++)u=127<f.charCodeAt(h)?u+"x":u+f[h];if(!u.match(jo)){e=a.slice(0,n),n=a.slice(n+1),(f=f.match(Yo))&&(e.push(f[1]),n.unshift(f[2])),n.length&&(i="/"+n.join(".")+i),t.hostname=e.join(".");break}}}}t.hostname=t.hostname.length>Ho?"":t.hostname.toLowerCase(),s||(t.hostname=function(t){return function(t,e){var r=t.split("@"),n="";1<r.length&&(n=r[0]+"@",t=r[1]),r=(t=(t=t.replace(Ao,".")).split(".")).length;for(var i=[];r--;)i[r]=e(t[r]);return n+i.join(".")}(t,(function(t){if(wo.test(t)){var e,r=[],n=[],i=0;for(e=t.length;i<e;){var o=t.charCodeAt(i++);if(55296<=o&&56319>=o&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&o)<<10)+(1023&s)+65536):(n.push(o),i--)}else n.push(o)}s=(t=n).length,n=128;var a=0,f=72;for(o=0;o<s;++o){var u=t[o];128>u&&r.push(bo(u))}for((i=e=r.length)&&r.push("-");i<s;){var h=2147483647;for(o=0;o<s;++o)(u=t[o])>=n&&u<h&&(h=u);var l=i+1;if(h-n>To((2147483647-a)/l))throw new RangeError(vo.overflow);for(a+=(h-n)*l,n=h,o=0;o<s;++o){if((u=t[o])<n&&2147483647<++a)throw new RangeError(vo.overflow);if(u==n){var c=a;for(h=36;!(c<(u=h<=f?1:h>=f+26?26:h-f));h+=36){var p=c-u;c=36-u,r.push(bo(Ro(u+p%c,0))),c=To(p/c)}for(r.push(bo(Ro(c,0))),f=l,h=0,a=i==e?To(a/700):a>>1,a+=To(a/f);455<a;h+=36)a=To(a/35);f=To(h+36*a/(a+38)),a=0,++i}}++a,++n}r="xn--"+r.join("")}else r=t;return r}))}(t.hostname)),n=t.port?":"+t.port:"",t.host=(t.hostname||"")+n,t.href+=t.host,s&&(t.hostname=t.hostname.substr(1,t.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!zo[o])for(n=0,e=Mo.length;n<e;n++)s=Mo[n],-1!==i.indexOf(s)&&((f=encodeURIComponent(s))===s&&(f=escape(s)),i=i.split(s).join(f));return-1!==(n=i.indexOf("#"))&&(t.hash=i.substr(n),i=i.slice(0,n)),-1!==(n=i.indexOf("?"))?(t.search=i.substr(n),t.query=i.substr(n+1),r&&(t.query=Po(t.query)),i=i.slice(0,n)):r&&(t.search="",t.query={}),i&&(t.pathname=i),Ko[o]&&t.hostname&&!t.pathname&&(t.pathname="/"),(t.pathname||t.search)&&(n=t.pathname||"",t.path=n+(t.search||"")),t.href=Xo(t),t}function Xo(t){var e=t.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var r=t.protocol||"",n=t.pathname||"",i=t.hash||"",o=!1,s="";return t.host?o=e+t.host:t.hostname&&(o=e+(-1===t.hostname.indexOf(":")?t.hostname:"["+this.hostname+"]"),t.port&&(o+=":"+t.port)),t.query&&Un(t.query)&&Object.keys(t.query).length&&(s=function(t,e,r,n){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?No(Lo(t),(function(n){var i=encodeURIComponent(Co(n))+r;return Oo(t[n])?No(t[n],(function(t){return i+encodeURIComponent(Co(t))})).join(e):i+encodeURIComponent(Co(t[n]))})).join(e):""}(t.query)),e=t.search||s&&"?"+s||"",r&&":"!==r.substr(-1)&&(r+=":"),t.slashes||(!r||Ko[r])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),e&&"?"!==e.charAt(0)&&(e="?"+e),n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})),r+o+n+(e=e.replace("#","%23"))+i}function Jo(t){var e=t.host,r=Do.exec(e);r&&(":"!==(r=r[0])&&(t.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(t.hostname=e)}Bo.prototype.parse=function(t,e,r){return Zo(this,t,e,r)},Bo.prototype.format=function(){return Xo(this)},Bo.prototype.resolve=function(t){return this.resolveObject(qo(t,!1,!0)).format()},Bo.prototype.resolveObject=function(t){if(Fn(t)){var e=new Bo;e.parse(t,!1,!0),t=e}e=new Bo;for(var r=Object.keys(this),n=0;n<r.length;n++){var i=r[n];e[i]=this[i]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(r=Object.keys(t),n=0;n<r.length;n++)"protocol"!==(i=r[n])&&(e[i]=t[i]);return Ko[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}var o;if(t.protocol&&t.protocol!==e.protocol){if(!Ko[t.protocol]){for(r=Object.keys(t),n=0;n<r.length;n++)e[i=r[n]]=t[i];return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||Vo[t.protocol])e.pathname=t.pathname;else{for(o=(t.pathname||"").split("/");o.length&&!(t.host=o.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==o[0]&&o.unshift(""),2>o.length&&o.unshift(""),e.pathname=o.join("/")}return e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,(e.pathname||e.search)&&(e.path=(e.pathname||"")+(e.search||"")),e.slashes=e.slashes||t.slashes,e.href=e.format(),e}r=e.pathname&&"/"===e.pathname.charAt(0);var s=t.host||t.pathname&&"/"===t.pathname.charAt(0),a=r=s||r||e.host&&t.pathname;if(n=e.pathname&&e.pathname.split("/")||[],i=e.protocol&&!Ko[e.protocol],o=t.pathname&&t.pathname.split("/")||[],i&&(e.hostname="",e.port=null,e.host&&(""===n[0]?n[0]=e.host:n.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===o[0]?o[0]=t.host:o.unshift(t.host)),t.host=null),r=r&&(""===o[0]||""===n[0])),s)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,n=o;else if(o.length)n||(n=[]),n.pop(),n=n.concat(o),e.search=t.search,e.query=t.query;else if(null!=t.search)return i&&(e.hostname=e.host=n.shift(),i=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=i.shift(),e.host=e.hostname=i.shift()),e.search=t.search,e.query=t.query,null===e.pathname&&null===e.search||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!n.length)return e.pathname=null,e.path=e.search?"/"+e.search:null,e.href=e.format(),e;s=n.slice(-1)[0],o=(e.host||t.host||1<n.length)&&("."===s||".."===s)||""===s;for(var f=0,u=n.length;0<=u;u--)"."===(s=n[u])?n.splice(u,1):".."===s?(n.splice(u,1),f++):f&&(n.splice(u,1),f--);if(!r&&!a)for(;f--;f)n.unshift("..");return!r||""===n[0]||n[0]&&"/"===n[0].charAt(0)||n.unshift(""),o&&"/"!==n.join("/").substr(-1)&&n.push(""),a=""===n[0]||n[0]&&"/"===n[0].charAt(0),i&&(e.hostname=e.host=a?"":n.length?n.shift():"",i=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=i.shift(),e.host=e.hostname=i.shift()),(r=r||e.host&&n.length)&&!a&&n.unshift(""),n.length?e.pathname=n.join("/"):(e.pathname=null,e.path=null),null===e.pathname&&null===e.search||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Bo.prototype.parseHost=function(){return Jo(this)};var $o=fr((function(t,e){function r(t,e){return t=t[e],0<e&&("/"===t||i&&"\\"===t)}function n(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(i){var n=t;if("string"!=typeof n)throw new TypeError("expected a string");if(n=n.replace(/[\\\/]+/g,"/"),!1!==e)if(2>(n=(e=n).length-1))n=e;else{for(;r(e,n);)n--;n=e.substr(0,n+1)}return n.replace(/^([a-zA-Z]+:|\.\/)/,"")}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.unixify=n,e.correctPath=function(t){return n(t.replace(/^\\\\\?\\.:\\/,"\\"))};var i="win32"===mn.platform}));ar($o);var Qo=fr((function(t,e){function r(t,e){return void 0===e&&(e=Si.default.cwd()),L(e,t)}function n(t,e){return"function"==typeof t?[i(),t]:[i(t),h(e)]}function i(t){return void 0===t&&(t={}),N({},ft,t)}function o(t){return N({},it,"number"==typeof t?{mode:t}:t)}function s(t,e,r,n,i){return void 0===e&&(e=""),void 0===r&&(r=""),void 0===n&&(n=""),void 0===i&&(i=Error),e=new i(function(t,e,r,n){void 0===e&&(e=""),void 0===r&&(r=""),void 0===n&&(n="");var i="";switch(r&&(i=" '"+r+"'"),n&&(i+=" -> '"+n+"'"),t){case"ENOENT":return"ENOENT: no such file or directory, "+e+i;case"EBADF":return"EBADF: bad file descriptor, "+e+i;case"EINVAL":return"EINVAL: invalid argument, "+e+i;case"EPERM":return"EPERM: operation not permitted, "+e+i;case"EPROTO":return"EPROTO: protocol error, "+e+i;case"EEXIST":return"EEXIST: file already exists, "+e+i;case"ENOTDIR":return"ENOTDIR: not a directory, "+e+i;case"EISDIR":return"EISDIR: illegal operation on a directory, "+e+i;case"EACCES":return"EACCES: permission denied, "+e+i;case"ENOTEMPTY":return"ENOTEMPTY: directory not empty, "+e+i;case"EMFILE":return"EMFILE: too many open files, "+e+i;case"ENOSYS":return"ENOSYS: function not implemented, "+e+i;default:return t+": error occurred, "+e+i}}(t,e,r,n)),e.code=t,e}function a(t){if("number"==typeof t)return t;if("string"==typeof t){var e=C[t];if(void 0!==e)return e}throw new ci.TypeError("ERR_INVALID_OPT_VALUE","flags",t)}function f(t,e){if(!e)return t;var r=typeof e;switch(r){case"string":t=N({},t,{encoding:e});break;case"object":t=N({},t,e);break;default:throw TypeError("Expected options to be either an object or a string, but got "+r+" instead")}return"buffer"!==t.encoding&&pi.assertEncoding(t.encoding),t}function u(t){return function(e){return f(t,e)}}function h(t){if("function"!=typeof t)throw TypeError(K.CB);return t}function l(t){return function(e,r){return"function"==typeof e?[t(),e]:[t(e),h(r)]}}function c(t){if("string"!=typeof t&&!Qr.Buffer.isBuffer(t)){try{if(!(t instanceof Wo.URL))throw new TypeError(K.PATH_STR)}catch(t){throw new TypeError(K.PATH_STR)}if(""!==t.hostname)throw new ci.TypeError("ERR_INVALID_FILE_URL_HOST",Si.default.platform);t=t.pathname;for(var e=0;e<t.length;e++)if("%"===t[e]){var r=32|t.codePointAt(e+2);if("2"===t[e+1]&&102===r)throw new ci.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}t=decodeURIComponent(t)}return y(t=String(t)),t}function p(t,e){return(t=r(t,e).substr(1))?t.split(Y):[]}function d(t){return p(c(t))}function _(t,e){return void 0===e&&(e=pi.ENCODING_UTF8),Qr.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Qr.bufferFrom(t):Qr.bufferFrom(String(t),e)}function g(t,e){return e&&"buffer"!==e?t.toString(e):t}function y(t,e){if(-1!==(""+t).indexOf("\0")){if((t=Error("Path must be a string without null bytes")).code="ENOENT","function"!=typeof e)throw t;return Si.default.nextTick(e,t),!1}return!0}function m(t,e){if("number"!=typeof(t="number"==typeof t?t:"string"==typeof t?parseInt(t,8):e?m(e):void 0)||isNaN(t))throw new TypeError(K.MODE_INT);return t}function E(t){if(t>>>0!==t)throw TypeError(K.FD)}function S(t){if("string"==typeof t&&+t==t)return+t;if(t instanceof Date)return t.getTime()/1e3;if(isFinite(t))return 0>t?Date.now()/1e3:t;throw Error("Cannot parse time: "+t)}function I(t){if("number"!=typeof t)throw TypeError(K.UID)}function w(t){if("number"!=typeof t)throw TypeError(K.GID)}function A(t){t.emit("stop")}function v(t,e,r){if(!(this instanceof v))return new v(t,e,r);if(this._vol=t,void 0===(r=N({},f(r,{}))).highWaterMark&&(r.highWaterMark=65536),mo.Readable.call(this,r),this.path=c(e),this.fd=void 0===r.fd?null:r.fd,this.flags=void 0===r.flags?"r":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.end=r.end,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=void 0,this.bytesRead=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw new TypeError('"end" option must be a Number');if(this.start>this.end)throw Error('"start" option must be <= "end" option');this.pos=this.start}"number"!=typeof this.fd&&this.open(),this.on("end",(function(){this.autoClose&&this.destroy&&this.destroy()}))}function T(){this.close()}function b(t,e,r){if(!(this instanceof b))return new b(t,e,r);if(this._vol=t,r=N({},f(r,{})),mo.Writable.call(this,r),this.path=c(e),this.fd=void 0===r.fd?null:r.fd,this.flags=void 0===r.flags?"w":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.autoClose=void 0===r.autoClose||!!r.autoClose,this.pos=void 0,this.bytesWritten=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError('"start" option must be a Number');if(0>this.start)throw Error('"start" must be >= zero');this.pos=this.start}r.encoding&&this.setDefaultEncoding(r.encoding),"number"!=typeof this.fd&&this.open(),this.once("finish",(function(){this.autoClose&&this.close()}))}var R=sr&&sr.__extends||function(){function t(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)}return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),O=sr&&sr.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;t=Array(t);var n=0;for(e=0;e<r;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,n++)t[n]=i[o];return t};Object.defineProperty(e,"__esModule",{value:!0});var C,N=So,L=mi,P=ur.constants.O_RDONLY,W=ur.constants.O_WRONLY,B=ur.constants.O_RDWR,F=ur.constants.O_CREAT,D=ur.constants.O_EXCL,k=ur.constants.O_TRUNC,U=ur.constants.O_APPEND,M=ur.constants.O_SYNC,x=ur.constants.O_DIRECTORY,G=ur.constants.F_OK,H=ur.constants.COPYFILE_EXCL,j=ur.constants.COPYFILE_FICLONE_FORCE,Y="/",z=yi,V="win32"===Si.default.platform,K={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"};!function(t){t[t.r=P]="r",t[t["r+"]=B]="r+",t[t.rs=P|M]="rs",t[t.sr=t.rs]="sr",t[t["rs+"]=B|M]="rs+",t[t["sr+"]=t["rs+"]]="sr+",t[t.w=W|F|k]="w",t[t.wx=W|F|k|D]="wx",t[t.xw=t.wx]="xw",t[t["w+"]=B|F|k]="w+",t[t["wx+"]=B|F|k|D]="wx+",t[t["xw+"]=t["wx+"]]="xw+",t[t.a=W|U|F]="a",t[t.ax=W|U|F|D]="ax",t[t.xa=t.ax]="xa",t[t["a+"]=B|U|F]="a+",t[t["ax+"]=B|U|F|D]="ax+",t[t["xa+"]=t["ax+"]]="xa+"}(C=e.FLAGS||(e.FLAGS={})),e.flagsToNumber=a;var q=u(t={encoding:"utf8"}),Z=l(q),X=u({flag:"r"}),J={encoding:"utf8",mode:438,flag:C[C.w]},$=u(J),Q={encoding:"utf8",mode:438,flag:C[C.a]},tt=u(Q),et=l(tt),rt=u(t),nt=l(rt),it={mode:511,recursive:!1},ot={recursive:!1},st=u({encoding:"utf8",withFileTypes:!1}),at=l(st),ft={bigint:!1};if(e.pathToFilename=c,V){var ut=r,ht=$o.unixify;r=function(t,e){return ht(ut(t,e))}}e.filenameToSteps=p,e.pathToSteps=d,e.dataToStr=function(t,e){return void 0===e&&(e=pi.ENCODING_UTF8),Qr.Buffer.isBuffer(t)?t.toString(e):t instanceof Uint8Array?Qr.bufferFrom(t).toString(e):String(t)},e.dataToBuffer=_,e.bufferToEncoding=g,e.toUnixTimestamp=S,t=function(){function t(t){void 0===t&&(t={}),this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.promisesApi=Io.default(this),this.statWatchers={},this.props=N({Node:Ri.Node,Link:Ri.Link,File:Ri.File},t),(t=this.createLink()).setNode(this.createNode(!0));var e=this;this.StatWatcher=function(t){function r(){return t.call(this,e)||this}return R(r,t),r}(ct),this.ReadStream=function(t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.apply(this,O([e],r))||this}return R(r,t),r}(v),this.WriteStream=function(t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.apply(this,O([e],r))||this}return R(r,t),r}(b),this.FSWatcher=function(t){function r(){return t.call(this,e)||this}return R(r,t),r}(pt),this.root=t}return t.fromJSON=function(e,r){var n=new t;return n.fromJSON(e,r),n},Object.defineProperty(t.prototype,"promises",{get:function(){if(null===this.promisesApi)throw Error("Promise is not supported in this environment.");return this.promisesApi},enumerable:!0,configurable:!0}),t.prototype.createLink=function(t,e,r,n){if(void 0===r&&(r=!1),!t)return new this.props.Link(this,null,"");if(!e)throw Error("createLink: name cannot be empty");return t.createChild(e,this.createNode(r,n))},t.prototype.deleteLink=function(t){var e=t.parent;return!!e&&(e.deleteChild(t),!0)},t.prototype.newInoNumber=function(){return this.releasedInos.pop()||(this.ino=(this.ino+1)%4294967295)},t.prototype.newFdNumber=function(){var e=this.releasedFds.pop();return"number"==typeof e?e:t.fd--},t.prototype.createNode=function(t,e){return void 0===t&&(t=!1),e=new this.props.Node(this.newInoNumber(),e),t&&e.setIsDirectory(),this.inodes[e.ino]=e},t.prototype.getNode=function(t){return this.inodes[t]},t.prototype.deleteNode=function(t){t.del(),delete this.inodes[t.ino],this.releasedInos.push(t.ino)},t.prototype.genRndStr=function(){var t=(Math.random()+1).toString(36).substr(2,6);return 6===t.length?t:this.genRndStr()},t.prototype.getLink=function(t){return this.root.walk(t)},t.prototype.getLinkOrThrow=function(t,e){var r=p(t);if(!(r=this.getLink(r)))throw s("ENOENT",e,t);return r},t.prototype.getResolvedLink=function(t){t="string"==typeof t?p(t):t;for(var e=this.root,r=0;r<t.length;){if(!(e=e.getChild(t[r])))return null;var n=e.getNode();n.isSymlink()?(t=n.symlink.concat(t.slice(r+1)),e=this.root,r=0):r++}return e},t.prototype.getResolvedLinkOrThrow=function(t,e){var r=this.getResolvedLink(t);if(!r)throw s("ENOENT",e,t);return r},t.prototype.resolveSymlinks=function(t){return this.getResolvedLink(t.steps.slice(1))},t.prototype.getLinkAsDirOrThrow=function(t,e){var r=this.getLinkOrThrow(t,e);if(!r.getNode().isDirectory())throw s("ENOTDIR",e,t);return r},t.prototype.getLinkParent=function(t){return this.root.walk(t,t.length-1)},t.prototype.getLinkParentAsDirOrThrow=function(t,e){t=t instanceof Array?t:p(t);var r=this.getLinkParent(t);if(!r)throw s("ENOENT",e,Y+t.join(Y));if(!r.getNode().isDirectory())throw s("ENOTDIR",e,Y+t.join(Y));return r},t.prototype.getFileByFd=function(t){return this.fds[String(t)]},t.prototype.getFileByFdOrThrow=function(t,e){if(t>>>0!==t)throw TypeError(K.FD);if(!(t=this.getFileByFd(t)))throw s("EBADF",e);return t},t.prototype.getNodeByIdOrCreate=function(t,e,r){if("number"==typeof t){if(!(t=this.getFileByFd(t)))throw Error("File nto found");return t.node}var n=d(t),i=this.getLink(n);if(i)return i.getNode();if(e&F&&(e=this.getLinkParent(n)))return(i=this.createLink(e,n[n.length-1],!1,r)).getNode();throw s("ENOENT","getNodeByIdOrCreate",c(t))},t.prototype.wrapAsync=function(t,e,r){var n=this;h(r),Ei.default((function(){try{r(null,t.apply(n,e))}catch(t){r(t)}}))},t.prototype._toJSON=function(t,e,r){var n;void 0===t&&(t=this.root),void 0===e&&(e={});var i=!0,o=t.children;for(var s in t.getNode().isFile()&&((n={})[t.getName()]=t.parent.getChild(t.getName()),o=n,t=t.parent),o){if(i=!1,!(o=t.getChild(s)))throw Error("_toJSON: unexpected undefined");(n=o.getNode()).isFile()?(o=o.getPath(),r&&(o=z(r,o)),e[o]=n.getString()):n.isDirectory()&&this._toJSON(o,e,r)}return t=t.getPath(),r&&(t=z(r,t)),t&&i&&(e[t]=null),e},t.prototype.toJSON=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=!1);var n=[];if(t){t instanceof Array||(t=[t]);for(var i=0;i<t.length;i++){var o=c(t[i]);(o=this.getResolvedLink(o))&&n.push(o)}}else n.push(this.root);if(!n.length)return e;for(i=0;i<n.length;i++)o=n[i],this._toJSON(o,e,r?o.getPath():"");return e},t.prototype.fromJSON=function(t,e){for(var n in void 0===e&&(e=Si.default.cwd()),t){var i=t[n];if("string"==typeof i){var o=p(n=r(n,e));1<o.length&&(o=Y+o.slice(0,o.length-1).join(Y),this.mkdirpBase(o,511)),this.writeFileSync(n,i)}else this.mkdirpBase(n,511)}},t.prototype.reset=function(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0))},t.prototype.mountSync=function(t,e){this.fromJSON(e,t)},t.prototype.openLink=function(t,e,r){if(void 0===r&&(r=!0),this.openFiles>=this.maxFiles)throw s("EMFILE","open",t.getPath());var n=t;if(r&&(n=this.resolveSymlinks(t)),!n)throw s("ENOENT","open",t.getPath());if((r=n.getNode()).isDirectory()){if((e&(P|B|W))!==P)throw s("EISDIR","open",t.getPath())}else if(e&x)throw s("ENOTDIR","open",t.getPath());if(!(e&W||r.canRead()))throw s("EACCES","open",t.getPath());return t=new this.props.File(t,r,e,this.newFdNumber()),this.fds[t.fd]=t,this.openFiles++,e&k&&t.truncate(),t},t.prototype.openFile=function(t,e,r,n){void 0===n&&(n=!0);var i=p(t),o=n?this.getResolvedLink(i):this.getLink(i);if(!o&&e&F){var a=this.getResolvedLink(i.slice(0,i.length-1));if(!a)throw s("ENOENT","open",Y+i.join(Y));e&F&&"number"==typeof r&&(o=this.createLink(a,i[i.length-1],!1,r))}if(o)return this.openLink(o,e,n);throw s("ENOENT","open",t)},t.prototype.openBase=function(t,e,r,n){if(void 0===n&&(n=!0),!(e=this.openFile(t,e,r,n)))throw s("ENOENT","open",t);return e.fd},t.prototype.openSync=function(t,e,r){return void 0===r&&(r=438),r=m(r),t=c(t),e=a(e),this.openBase(t,e,r)},t.prototype.open=function(t,e,r,n){var i=r;"function"==typeof r&&(i=438,n=r),r=m(i||438),t=c(t),e=a(e),this.wrapAsync(this.openBase,[t,e,r],n)},t.prototype.closeFile=function(t){this.fds[t.fd]&&(this.openFiles--,delete this.fds[t.fd],this.releasedFds.push(t.fd))},t.prototype.closeSync=function(t){E(t),t=this.getFileByFdOrThrow(t,"close"),this.closeFile(t)},t.prototype.close=function(t,e){E(t),this.wrapAsync(this.closeSync,[t],e)},t.prototype.openFileOrGetById=function(t,e,r){if("number"==typeof t){if(!(t=this.fds[t]))throw s("ENOENT");return t}return this.openFile(c(t),e,r)},t.prototype.readBase=function(t,e,r,n,i){return this.getFileByFdOrThrow(t).read(e,Number(r),Number(n),i)},t.prototype.readSync=function(t,e,r,n,i){return E(t),this.readBase(t,e,r,n,i)},t.prototype.read=function(t,e,r,n,i,o){var s=this;if(h(o),0===n)return Si.default.nextTick((function(){o&&o(null,0,e)}));Ei.default((function(){try{var a=s.readBase(t,e,r,n,i);o(null,a,e)}catch(t){o(t)}}))},t.prototype.readFileBase=function(t,e,r){var n="number"==typeof t&&t>>>0===t;if(!n){var i=c(t);if(i=p(i),(i=this.getResolvedLink(i))&&i.getNode().isDirectory())throw s("EISDIR","open",i.getPath());t=this.openSync(t,e)}try{var o=g(this.getFileByFdOrThrow(t).getBuffer(),r)}finally{n||this.closeSync(t)}return o},t.prototype.readFileSync=function(t,e){var r=a((e=X(e)).flag);return this.readFileBase(t,r,e.encoding)},t.prototype.readFile=function(t,e,r){e=(r=l(X)(e,r))[0],r=r[1];var n=a(e.flag);this.wrapAsync(this.readFileBase,[t,n,e.encoding],r)},t.prototype.writeBase=function(t,e,r,n,i){return this.getFileByFdOrThrow(t,"write").write(e,r,n,i)},t.prototype.writeSync=function(t,e,r,n,i){E(t);var o="string"!=typeof e;if(o){var s=0|(r||0),a=n;r=i}else var f=n;return e=_(e,f),o?void 0===a&&(a=e.length):(s=0,a=e.length),this.writeBase(t,e,s,a,r)},t.prototype.write=function(t,e,r,n,i,o){var s=this;E(t);var a=typeof e,f=typeof r,u=typeof n,l=typeof i;if("string"!==a)if("function"===f)var c=r;else if("function"===u){var p=0|r;c=n}else if("function"===l){p=0|r;var d=n;c=i}else{p=0|r,d=n;var g=i;c=o}else if("function"===f)c=r;else if("function"===u)g=r,c=n;else if("function"===l){g=r;var y=n;c=i}var m=_(e,y);"string"!==a?void 0===d&&(d=m.length):(p=0,d=m.length);var S=h(c);Ei.default((function(){try{var r=s.writeBase(t,m,p,d,g);S(null,r,"string"!==a?m:e)}catch(t){S(t)}}))},t.prototype.writeFileBase=function(t,e,r,n){var i="number"==typeof t;t=i?t:this.openBase(c(t),r,n),n=0;var o=e.length;r=r&U?void 0:0;try{for(;0<o;){var s=this.writeSync(t,e,n,o,r);n+=s,o-=s,void 0!==r&&(r+=s)}}finally{i||this.closeSync(t)}},t.prototype.writeFileSync=function(t,e,r){var n=$(r);r=a(n.flag);var i=m(n.mode);e=_(e,n.encoding),this.writeFileBase(t,e,r,i)},t.prototype.writeFile=function(t,e,r,n){var i=r;"function"==typeof r&&(i=J,n=r),r=h(n);var o=$(i);i=a(o.flag),n=m(o.mode),e=_(e,o.encoding),this.wrapAsync(this.writeFileBase,[t,e,i,n],r)},t.prototype.linkBase=function(t,e){var r=p(t),n=this.getLink(r);if(!n)throw s("ENOENT","link",t,e);var i=p(e);if(!(r=this.getLinkParent(i)))throw s("ENOENT","link",t,e);if(i=i[i.length-1],r.getChild(i))throw s("EEXIST","link",t,e);(t=n.getNode()).nlink++,r.createChild(i,t)},t.prototype.copyFileBase=function(t,e,r){var n=this.readFileSync(t);if(r&H&&this.existsSync(e))throw s("EEXIST","copyFile",t,e);if(r&j)throw s("ENOSYS","copyFile",t,e);this.writeFileBase(e,n,C.w,438)},t.prototype.copyFileSync=function(t,e,r){return t=c(t),e=c(e),this.copyFileBase(t,e,0|(r||0))},t.prototype.copyFile=function(t,e,r,n){if(t=c(t),e=c(e),"function"==typeof r)var i=0;else i=r,r=n;h(r),this.wrapAsync(this.copyFileBase,[t,e,i],r)},t.prototype.linkSync=function(t,e){t=c(t),e=c(e),this.linkBase(t,e)},t.prototype.link=function(t,e,r){t=c(t),e=c(e),this.wrapAsync(this.linkBase,[t,e],r)},t.prototype.unlinkBase=function(t){var e=p(t);if(!(e=this.getLink(e)))throw s("ENOENT","unlink",t);if(e.length)throw Error("Dir not empty...");this.deleteLink(e),(t=e.getNode()).nlink--,0>=t.nlink&&this.deleteNode(t)},t.prototype.unlinkSync=function(t){t=c(t),this.unlinkBase(t)},t.prototype.unlink=function(t,e){t=c(t),this.wrapAsync(this.unlinkBase,[t],e)},t.prototype.symlinkBase=function(t,e){var r=p(e),n=this.getLinkParent(r);if(!n)throw s("ENOENT","symlink",t,e);if(r=r[r.length-1],n.getChild(r))throw s("EEXIST","symlink",t,e);return(e=n.createChild(r)).getNode().makeSymlink(p(t)),e},t.prototype.symlinkSync=function(t,e){t=c(t),e=c(e),this.symlinkBase(t,e)},t.prototype.symlink=function(t,e,r,n){r=h("function"==typeof r?r:n),t=c(t),e=c(e),this.wrapAsync(this.symlinkBase,[t,e],r)},t.prototype.realpathBase=function(t,e){var r=p(t);if(!(r=this.getResolvedLink(r)))throw s("ENOENT","realpath",t);return pi.strToEncoding(r.getPath(),e)},t.prototype.realpathSync=function(t,e){return this.realpathBase(c(t),rt(e).encoding)},t.prototype.realpath=function(t,e,r){e=(r=nt(e,r))[0],r=r[1],t=c(t),this.wrapAsync(this.realpathBase,[t,e.encoding],r)},t.prototype.lstatBase=function(t,e){void 0===e&&(e=!1);var r=this.getLink(p(t));if(!r)throw s("ENOENT","lstat",t);return lr.default.build(r.getNode(),e)},t.prototype.lstatSync=function(t,e){return this.lstatBase(c(t),i(e).bigint)},t.prototype.lstat=function(t,e,r){e=(r=n(e,r))[0],r=r[1],this.wrapAsync(this.lstatBase,[c(t),e.bigint],r)},t.prototype.statBase=function(t,e){void 0===e&&(e=!1);var r=this.getResolvedLink(p(t));if(!r)throw s("ENOENT","stat",t);return lr.default.build(r.getNode(),e)},t.prototype.statSync=function(t,e){return this.statBase(c(t),i(e).bigint)},t.prototype.stat=function(t,e,r){e=(r=n(e,r))[0],r=r[1],this.wrapAsync(this.statBase,[c(t),e.bigint],r)},t.prototype.fstatBase=function(t,e){if(void 0===e&&(e=!1),!(t=this.getFileByFd(t)))throw s("EBADF","fstat");return lr.default.build(t.node,e)},t.prototype.fstatSync=function(t,e){return this.fstatBase(t,i(e).bigint)},t.prototype.fstat=function(t,e,r){e=n(e,r),this.wrapAsync(this.fstatBase,[t,e[0].bigint],e[1])},t.prototype.renameBase=function(t,e){var r=this.getLink(p(t));if(!r)throw s("ENOENT","rename",t,e);var n=p(e),i=this.getLinkParent(n);if(!i)throw s("ENOENT","rename",t,e);(t=r.parent)&&t.deleteChild(r),r.steps=O(i.steps,[n[n.length-1]]),i.setChild(r.getName(),r)},t.prototype.renameSync=function(t,e){t=c(t),e=c(e),this.renameBase(t,e)},t.prototype.rename=function(t,e,r){t=c(t),e=c(e),this.wrapAsync(this.renameBase,[t,e],r)},t.prototype.existsBase=function(t){return!!this.statBase(t)},t.prototype.existsSync=function(t){try{return this.existsBase(c(t))}catch(t){return!1}},t.prototype.exists=function(t,e){var r=this,n=c(t);if("function"!=typeof e)throw Error(K.CB);Ei.default((function(){try{e(r.existsBase(n))}catch(t){e(!1)}}))},t.prototype.accessBase=function(t){this.getLinkOrThrow(t,"access")},t.prototype.accessSync=function(t,e){void 0===e&&(e=G),t=c(t),this.accessBase(t,0|e)},t.prototype.access=function(t,e,r){var n=G;"function"!=typeof e&&(n=0|e,e=h(r)),t=c(t),this.wrapAsync(this.accessBase,[t,n],e)},t.prototype.appendFileSync=function(t,e,r){void 0===r&&(r=Q),(r=tt(r)).flag&&t>>>0!==t||(r.flag="a"),this.writeFileSync(t,e,r)},t.prototype.appendFile=function(t,e,r,n){r=(n=et(r,n))[0],n=n[1],r.flag&&t>>>0!==t||(r.flag="a"),this.writeFile(t,e,r,n)},t.prototype.readdirBase=function(t,e){var r=p(t);if(!(r=this.getResolvedLink(r)))throw s("ENOENT","readdir",t);if(!r.getNode().isDirectory())throw s("ENOTDIR","scandir",t);if(e.withFileTypes){var n=[];for(i in r.children)(t=r.getChild(i))&&n.push(di.default.build(t,e.encoding));return V||"buffer"===e.encoding||n.sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})),n}var i=[];for(n in r.children)i.push(pi.strToEncoding(n,e.encoding));return V||"buffer"===e.encoding||i.sort(),i},t.prototype.readdirSync=function(t,e){return e=st(e),t=c(t),this.readdirBase(t,e)},t.prototype.readdir=function(t,e,r){e=(r=at(e,r))[0],r=r[1],t=c(t),this.wrapAsync(this.readdirBase,[t,e],r)},t.prototype.readlinkBase=function(t,e){var r=this.getLinkOrThrow(t,"readlink").getNode();if(!r.isSymlink())throw s("EINVAL","readlink",t);return t=Y+r.symlink.join(Y),pi.strToEncoding(t,e)},t.prototype.readlinkSync=function(t,e){return e=q(e),t=c(t),this.readlinkBase(t,e.encoding)},t.prototype.readlink=function(t,e,r){e=(r=Z(e,r))[0],r=r[1],t=c(t),this.wrapAsync(this.readlinkBase,[t,e.encoding],r)},t.prototype.fsyncBase=function(t){this.getFileByFdOrThrow(t,"fsync")},t.prototype.fsyncSync=function(t){this.fsyncBase(t)},t.prototype.fsync=function(t,e){this.wrapAsync(this.fsyncBase,[t],e)},t.prototype.fdatasyncBase=function(t){this.getFileByFdOrThrow(t,"fdatasync")},t.prototype.fdatasyncSync=function(t){this.fdatasyncBase(t)},t.prototype.fdatasync=function(t,e){this.wrapAsync(this.fdatasyncBase,[t],e)},t.prototype.ftruncateBase=function(t,e){this.getFileByFdOrThrow(t,"ftruncate").truncate(e)},t.prototype.ftruncateSync=function(t,e){this.ftruncateBase(t,e)},t.prototype.ftruncate=function(t,e,r){var n="number"==typeof e?e:0;e=h("number"==typeof e?r:e),this.wrapAsync(this.ftruncateBase,[t,n],e)},t.prototype.truncateBase=function(t,e){t=this.openSync(t,"r+");try{this.ftruncateSync(t,e)}finally{this.closeSync(t)}},t.prototype.truncateSync=function(t,e){if(t>>>0===t)return this.ftruncateSync(t,e);this.truncateBase(t,e)},t.prototype.truncate=function(t,e,r){var n="number"==typeof e?e:0;if(e=h("number"==typeof e?r:e),t>>>0===t)return this.ftruncate(t,n,e);this.wrapAsync(this.truncateBase,[t,n],e)},t.prototype.futimesBase=function(t,e,r){(t=this.getFileByFdOrThrow(t,"futimes").node).atime=new Date(1e3*e),t.mtime=new Date(1e3*r)},t.prototype.futimesSync=function(t,e,r){this.futimesBase(t,S(e),S(r))},t.prototype.futimes=function(t,e,r,n){this.wrapAsync(this.futimesBase,[t,S(e),S(r)],n)},t.prototype.utimesBase=function(t,e,r){t=this.openSync(t,"r+");try{this.futimesBase(t,e,r)}finally{this.closeSync(t)}},t.prototype.utimesSync=function(t,e,r){this.utimesBase(c(t),S(e),S(r))},t.prototype.utimes=function(t,e,r,n){this.wrapAsync(this.utimesBase,[c(t),S(e),S(r)],n)},t.prototype.mkdirBase=function(t,e){var r=p(t);if(!r.length)throw s("EISDIR","mkdir",t);var n=this.getLinkParentAsDirOrThrow(t,"mkdir");if(r=r[r.length-1],n.getChild(r))throw s("EEXIST","mkdir",t);n.createChild(r,this.createNode(!0,e))},t.prototype.mkdirpBase=function(t,e){t=p(t);for(var r=this.root,n=0;n<t.length;n++){var i=t[n];if(!r.getNode().isDirectory())throw s("ENOTDIR","mkdir",r.getPath());var o=r.getChild(i);if(o){if(!o.getNode().isDirectory())throw s("ENOTDIR","mkdir",o.getPath());r=o}else r=r.createChild(i,this.createNode(!0,e))}},t.prototype.mkdirSync=function(t,e){var r=m((e=o(e)).mode,511);t=c(t),e.recursive?this.mkdirpBase(t,r):this.mkdirBase(t,r)},t.prototype.mkdir=function(t,e,r){var n=o(e);e=h("function"==typeof e?e:r),r=m(n.mode,511),t=c(t),n.recursive?this.wrapAsync(this.mkdirpBase,[t,r],e):this.wrapAsync(this.mkdirBase,[t,r],e)},t.prototype.mkdirpSync=function(t,e){this.mkdirSync(t,{mode:e,recursive:!0})},t.prototype.mkdirp=function(t,e,r){var n="function"==typeof e?void 0:e;e=h("function"==typeof e?e:r),this.mkdir(t,{mode:n,recursive:!0},e)},t.prototype.mkdtempBase=function(t,e,r){void 0===r&&(r=5);var n=t+this.genRndStr();try{return this.mkdirBase(n,511),pi.strToEncoding(n,e)}catch(n){if("EEXIST"===n.code){if(1<r)return this.mkdtempBase(t,e,r-1);throw Error("Could not create temp dir.")}throw n}},t.prototype.mkdtempSync=function(t,e){if(e=q(e).encoding,!t||"string"!=typeof t)throw new TypeError("filename prefix is required");return y(t),this.mkdtempBase(t,e)},t.prototype.mkdtemp=function(t,e,r){if(e=(r=Z(e,r))[0].encoding,r=r[1],!t||"string"!=typeof t)throw new TypeError("filename prefix is required");y(t)&&this.wrapAsync(this.mkdtempBase,[t,e],r)},t.prototype.rmdirBase=function(t,e){e=N({},ot,e);var r=this.getLinkAsDirOrThrow(t,"rmdir");if(r.length&&!e.recursive)throw s("ENOTEMPTY","rmdir",t);this.deleteLink(r)},t.prototype.rmdirSync=function(t,e){this.rmdirBase(c(t),e)},t.prototype.rmdir=function(t,e,r){var n=N({},ot,e);e=h("function"==typeof e?e:r),this.wrapAsync(this.rmdirBase,[c(t),n],e)},t.prototype.fchmodBase=function(t,e){this.getFileByFdOrThrow(t,"fchmod").chmod(e)},t.prototype.fchmodSync=function(t,e){this.fchmodBase(t,m(e))},t.prototype.fchmod=function(t,e,r){this.wrapAsync(this.fchmodBase,[t,m(e)],r)},t.prototype.chmodBase=function(t,e){t=this.openSync(t,"r+");try{this.fchmodBase(t,e)}finally{this.closeSync(t)}},t.prototype.chmodSync=function(t,e){e=m(e),t=c(t),this.chmodBase(t,e)},t.prototype.chmod=function(t,e,r){e=m(e),t=c(t),this.wrapAsync(this.chmodBase,[t,e],r)},t.prototype.lchmodBase=function(t,e){t=this.openBase(t,B,0,!1);try{this.fchmodBase(t,e)}finally{this.closeSync(t)}},t.prototype.lchmodSync=function(t,e){e=m(e),t=c(t),this.lchmodBase(t,e)},t.prototype.lchmod=function(t,e,r){e=m(e),t=c(t),this.wrapAsync(this.lchmodBase,[t,e],r)},t.prototype.fchownBase=function(t,e,r){this.getFileByFdOrThrow(t,"fchown").chown(e,r)},t.prototype.fchownSync=function(t,e,r){I(e),w(r),this.fchownBase(t,e,r)},t.prototype.fchown=function(t,e,r,n){I(e),w(r),this.wrapAsync(this.fchownBase,[t,e,r],n)},t.prototype.chownBase=function(t,e,r){this.getResolvedLinkOrThrow(t,"chown").getNode().chown(e,r)},t.prototype.chownSync=function(t,e,r){I(e),w(r),this.chownBase(c(t),e,r)},t.prototype.chown=function(t,e,r,n){I(e),w(r),this.wrapAsync(this.chownBase,[c(t),e,r],n)},t.prototype.lchownBase=function(t,e,r){this.getLinkOrThrow(t,"lchown").getNode().chown(e,r)},t.prototype.lchownSync=function(t,e,r){I(e),w(r),this.lchownBase(c(t),e,r)},t.prototype.lchown=function(t,e,r,n){I(e),w(r),this.wrapAsync(this.lchownBase,[c(t),e,r],n)},t.prototype.watchFile=function(t,e,r){t=c(t);var n=e;if("function"==typeof n&&(r=e,n=null),"function"!=typeof r)throw Error('"watchFile()" requires a listener function');e=5007;var i=!0;return n&&"object"==typeof n&&("number"==typeof n.interval&&(e=n.interval),"boolean"==typeof n.persistent&&(i=n.persistent)),(n=this.statWatchers[t])||((n=new this.StatWatcher).start(t,i,e),this.statWatchers[t]=n),n.addListener("change",r),n},t.prototype.unwatchFile=function(t,e){t=c(t);var r=this.statWatchers[t];r&&("function"==typeof e?r.removeListener("change",e):r.removeAllListeners("change"),0===r.listenerCount("change")&&(r.stop(),delete this.statWatchers[t]))},t.prototype.createReadStream=function(t,e){return new this.ReadStream(t,e)},t.prototype.createWriteStream=function(t,e){return new this.WriteStream(t,e)},t.prototype.watch=function(t,e,r){t=c(t);var n=e;"function"==typeof e&&(r=e,n=null);var i=q(n);e=i.persistent,n=i.recursive,i=i.encoding,void 0===e&&(e=!0),void 0===n&&(n=!1);var o=new this.FSWatcher;return o.start(t,e,n,i),r&&o.addListener("change",r),o},t.fd=2147483647,t}(),e.Volume=t;var lt,ct=function(t){function e(e){var r=t.call(this)||this;return r.onInterval=function(){try{var t=r.vol.statSync(r.filename);r.hasChanged(t)&&(r.emit("change",t,r.prev),r.prev=t)}finally{r.loop()}},r.vol=e,r}return R(e,t),e.prototype.loop=function(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)},e.prototype.hasChanged=function(t){return t.mtimeMs>this.prev.mtimeMs||t.nlink!==this.prev.nlink},e.prototype.start=function(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=5007),this.filename=c(t),this.setTimeout=e?setTimeout:Ci.default,this.interval=r,this.prev=this.vol.statSync(this.filename),this.loop()},e.prototype.stop=function(){clearTimeout(this.timeoutRef),Si.default.nextTick(A,this)},e}(wi.EventEmitter);e.StatWatcher=ct,Vn.inherits(v,mo.Readable),e.ReadStream=v,v.prototype.open=function(){var t=this;this._vol.open(this.path,this.flags,this.mode,(function(e,r){e?(t.autoClose&&t.destroy&&t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r),t.read())}))},v.prototype._read=function(t){if("number"!=typeof this.fd)return this.once("open",(function(){this._read(t)}));if(!this.destroyed){(!lt||128>lt.length-lt.used)&&((lt=Qr.bufferAllocUnsafe(this._readableState.highWaterMark)).used=0);var e=lt,r=Math.min(lt.length-lt.used,t),n=lt.used;if(void 0!==this.pos&&(r=Math.min(this.end-this.pos+1,r)),0>=r)return this.push(null);var i=this;this._vol.read(this.fd,lt,lt.used,r,this.pos,(function(t,r){t?(i.autoClose&&i.destroy&&i.destroy(),i.emit("error",t)):(t=null,0<r&&(i.bytesRead+=r,t=e.slice(n,n+r)),i.push(t))})),void 0!==this.pos&&(this.pos+=r),lt.used+=r}},v.prototype._destroy=function(t,e){this.close((function(r){e(t||r)}))},v.prototype.close=function(t){var e=this;if(t&&this.once("close",t),this.closed||"number"!=typeof this.fd)return"number"!=typeof this.fd?void this.once("open",T):Si.default.nextTick((function(){return e.emit("close")}));this.closed=!0,this._vol.close(this.fd,(function(t){t?e.emit("error",t):e.emit("close")})),this.fd=null},Vn.inherits(b,mo.Writable),e.WriteStream=b,b.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(t,e){t?(this.autoClose&&this.destroy&&this.destroy(),this.emit("error",t)):(this.fd=e,this.emit("open",e))}.bind(this))},b.prototype._write=function(t,e,r){if(!(t instanceof Qr.Buffer))return this.emit("error",Error("Invalid data"));if("number"!=typeof this.fd)return this.once("open",(function(){this._write(t,e,r)}));var n=this;this._vol.write(this.fd,t,0,t.length,this.pos,(function(t,e){if(t)return n.autoClose&&n.destroy&&n.destroy(),r(t);n.bytesWritten+=e,r()})),void 0!==this.pos&&(this.pos+=t.length)},b.prototype._writev=function(t,e){if("number"!=typeof this.fd)return this.once("open",(function(){this._writev(t,e)}));for(var r=this,n=t.length,i=Array(n),o=0,s=0;s<n;s++){var a=t[s].chunk;i[s]=a,o+=a.length}n=Qr.Buffer.concat(i),this._vol.write(this.fd,n,0,n.length,this.pos,(function(t,n){if(t)return r.destroy&&r.destroy(),e(t);r.bytesWritten+=n,e()})),void 0!==this.pos&&(this.pos+=o)},b.prototype._destroy=v.prototype._destroy,b.prototype.close=v.prototype.close,b.prototype.destroySoon=b.prototype.end;var pt=function(t){function e(e){var r=t.call(this)||this;return r._filename="",r._filenameEncoded="",r._recursive=!1,r._encoding=pi.ENCODING_UTF8,r._onNodeChange=function(){r._emit("change")},r._onParentChild=function(t){t.getName()===r._getName()&&r._emit("rename")},r._emit=function(t){r.emit("change",t,r._filenameEncoded)},r._persist=function(){r._timer=setTimeout(r._persist,1e6)},r._vol=e,r}return R(e,t),e.prototype._getName=function(){return this._steps[this._steps.length-1]},e.prototype.start=function(t,e,r,n){void 0===e&&(e=!0),void 0===r&&(r=!1),void 0===n&&(n=pi.ENCODING_UTF8),this._filename=c(t),this._steps=p(this._filename),this._filenameEncoded=pi.strToEncoding(this._filename),this._recursive=r,this._encoding=n;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(t){throw(e=Error("watch "+this._filename+" "+t.code)).code=t.code,e.errno=t.code,e}this._link.getNode().on("change",this._onNodeChange),this._link.on("child:add",this._onNodeChange),this._link.on("child:delete",this._onNodeChange),(t=this._link.parent)&&(t.setMaxListeners(t.getMaxListeners()+1),t.on("child:delete",this._onParentChild)),e&&this._persist()},e.prototype.close=function(){clearTimeout(this._timer),this._link.getNode().removeListener("change",this._onNodeChange);var t=this._link.parent;t&&t.removeListener("child:delete",this._onParentChild)},e}(wi.EventEmitter);e.FSWatcher=pt}));ar(Qo);var ts=Qo.pathToFilename,es=Qo.filenameToSteps,rs=Qo.Volume,ns=fr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fsProps="constants F_OK R_OK W_OK X_OK Stats".split(" "),e.fsSyncMethods="renameSync ftruncateSync truncateSync chownSync fchownSync lchownSync chmodSync fchmodSync lchmodSync statSync lstatSync fstatSync linkSync symlinkSync readlinkSync realpathSync unlinkSync rmdirSync mkdirSync mkdirpSync readdirSync closeSync openSync utimesSync futimesSync fsyncSync writeSync readSync readFileSync writeFileSync appendFileSync existsSync accessSync fdatasyncSync mkdtempSync copyFileSync createReadStream createWriteStream".split(" "),e.fsAsyncMethods="rename ftruncate truncate chown fchown lchown chmod fchmod lchmod stat lstat fstat link symlink readlink realpath unlink rmdir mkdir mkdirp readdir close open utimes futimes fsync write read readFile writeFile appendFile exists access fdatasync mkdtemp copyFile watchFile unwatchFile watch".split(" ")}));ar(ns);var is=fr((function(t,e){function r(t){for(var e={F_OK:s,R_OK:a,W_OK:f,X_OK:u,constants:ur.constants,Stats:lr.default,Dirent:di.default},r=0,n=i;r<n.length;r++){var h=n[r];"function"==typeof t[h]&&(e[h]=t[h].bind(t))}for(r=0,n=o;r<n.length;r++)"function"==typeof t[h=n[r]]&&(e[h]=t[h].bind(t));return e.StatWatcher=t.StatWatcher,e.FSWatcher=t.FSWatcher,e.WriteStream=t.WriteStream,e.ReadStream=t.ReadStream,e.promises=t.promises,e._toUnixTimestamp=Qo.toUnixTimestamp,e}var n=sr&&sr.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=ns.fsSyncMethods,o=ns.fsAsyncMethods,s=ur.constants.F_OK,a=ur.constants.R_OK,f=ur.constants.W_OK,u=ur.constants.X_OK;e.Volume=Qo.Volume,e.vol=new Qo.Volume,e.createFsFromVolume=r,e.fs=r(e.vol),t.exports=n(n({},t.exports),e.fs),t.exports.semantic=!0}));ar(is);var os=is.createFsFromVolume;Oi.prototype.emit=function(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];i=this.listeners(t);try{for(var o=nr(i),s=o.next();!s.done;s=o.next()){var a=s.value;try{a.apply(void 0,or(n))}catch(t){console.error(t)}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return 0<i.length};var ss=function(){function t(){this.volume=new rs,this.fs=os(this.volume),this.fromJSON({"/dev/stdin":"","/dev/stdout":"","/dev/stderr":""})}return t.prototype._toJSON=function(t,e,r){void 0===e&&(e={});var n,i=!0;for(n in t.children){i=!1;var o=t.getChild(n);if(o){var s=o.getNode();s&&s.isFile()?(o=o.getPath(),r&&(o=gi(r,o)),e[o]=s.getBuffer()):s&&s.isDirectory()&&this._toJSON(o,e,r)}}return t=t.getPath(),r&&(t=gi(r,t)),t&&i&&(e[t]=null),e},t.prototype.toJSON=function(t,e,r){var n,i;void 0===e&&(e={}),void 0===r&&(r=!1);var o=[];if(t){t instanceof Array||(t=[t]);try{for(var s=nr(t),a=s.next();!a.done;a=s.next()){var f=ts(a.value),u=this.volume.getResolvedLink(f);u&&o.push(u)}}catch(t){var h={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(h)throw h.error}}}else o.push(this.volume.root);if(!o.length)return e;try{for(var l=nr(o),c=l.next();!c.done;c=l.next())u=c.value,this._toJSON(u,e,r?u.getPath():"")}catch(t){var p={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(p)throw p.error}}return e},t.prototype.fromJSONFixed=function(t,e){for(var r in e){var n=e[r];if(n?null!==Object.getPrototypeOf(n):null!==n){var i=es(r);1<i.length&&(i="/"+i.slice(0,i.length-1).join("/"),t.mkdirpBase(i,511)),t.writeFileSync(r,n||"")}else t.mkdirpBase(r,511)}},t.prototype.fromJSON=function(t){this.volume=new rs,this.fromJSONFixed(this.volume,t),this.fs=os(this.volume),this.volume.releasedFds=[0,1,2],t=this.volume.openSync("/dev/stderr","w");var e=this.volume.openSync("/dev/stdout","w"),r=this.volume.openSync("/dev/stdin","r");if(2!==t)throw Error("invalid handle for stderr: "+t);if(1!==e)throw Error("invalid handle for stdout: "+e);if(0!==r)throw Error("invalid handle for stdin: "+r)},t.prototype.getStdOut=function(){return function(t,e,r,n){return new(r||(r=Promise))((function(e,i){function o(t){try{a(n.next(t))}catch(t){i(t)}}function s(t){try{a(n.throw(t))}catch(t){i(t)}}function a(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(o,s)}a((n=n.apply(t,[])).next())}))}(this,0,void 0,(function(){var t=this;return function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;f;)try{if(i=1,o&&(s=2&r[0]?o.return:r[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,r[1])).done)return s;switch(o=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return f.label++,{value:r[1],done:!1};case 5:f.label++,o=r[1],r=[0];continue;case 7:r=f.ops.pop(),f.trys.pop();continue;default:if(!((s=0<(s=f.trys).length&&s[s.length-1])||6!==r[0]&&2!==r[0])){f=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3]))f.label=r[1];else if(6===r[0]&&f.label<s[1])f.label=s[1],s=r;else{if(!(s&&f.label<s[2])){s[2]&&f.ops.pop(),f.trys.pop();continue}f.label=s[2],f.ops.push(r)}}r=e.call(t,f)}catch(t){r=[6,t],o=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,o,s,a,f={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}(this,(function(){return[2,new Promise((function(e){e(t.fs.readFileSync("/dev/stdout","utf8"))}))]}))}))},t}();const as=class{programName;wasmModule;constructor(t,e){this.programName=t,this.wasmModule=e}run(t,e,r,n,i,o,s,a,f){console.log("wasmer runnable run:",this.programName,t),"function"!=typeof e&&(e=()=>{}),"function"!=typeof r&&(r=()=>{}),"function"!=typeof n&&(n=()=>{}),i instanceof Array||(i=[]),"function"!=typeof o&&(o=()=>{}),"function"!=typeof s&&(s=t=>{console.error(t)}),"function"!=typeof a&&(a=()=>{});const u=new ss;if(this._writeFilesToFS(u,i),u.volume.fds[0].node.read=e,f){"string"!=typeof f&&(f=(f||"").toString());let t=0;u.volume.fds[0].node.read=e=>{if(t%2!=0)return t++,0;for(let t=0;t<f.length;t++)e[t]=f.charCodeAt(t);return t++,f.length}}u.volume.fds[1].node.write=(t,e,n,i)=>(r(new TextDecoder("utf-8").decode(t)),t.length),u.volume.fds[2].node.write=(t,e,r,i)=>(n(new TextDecoder("utf-8").decode(t)),t.length);const h=u.volume.openSync("/dev/tty","w+");u.volume.fds[h].node.read=u.volume.fds[0].node.read,u.volume.fds[h].node.write=u.volume.fds[1].node.write;let l=new er({args:[this.programName,...t],env:{},bindings:{...rr.A,fs:u.fs},preopens:{".":".","/":"/"}});const c=l.getImports(this.wasmModule);WebAssembly.instantiate(this.wasmModule,{...c}).then((t=>{let e;try{this._writeFilesToFS(u,i);try{l.start(t)}catch(t){0!=t.code&&rr.A.exit(t.code)}e=this._readFilesFromFS(u),a(e)}catch(t){s(t.message)}finally{o(e||i)}}))}runHeadless(t,e,r,n,i,o){console.log("wasmer runnable run headless:",this.programName,t),"function"!=typeof r&&(r=()=>{});let s="",a="",f="";this.run(t,(()=>(console.log("called runHeadless stdin"),0)),(t=>(s+=t,a+=t,t.length)),(t=>(s+=t,f+=t,t.length)),e,(()=>r({output:s,stdout:a,stderr:f})),n,i,o)}_readFilesFromFS(t,e="/"){const r=t.volume.toJSON(e),n=["/dev/stdin","/dev/stdout","/dev/stderr","/dev/tty"];return Object.entries(r).filter((([t,e])=>!n.includes(t))).map((([t,e])=>({name:t,timestamp:Date.now(),bytes:(new TextEncoder).encode(e)})))}_writeFilesToFS(t,e=[]){e.forEach((e=>{try{if(e.bytes instanceof Uint8Array){const r=e.name.split("/").slice(0,-1).join("/");t.fs.mkdirSync(r,{recursive:!0}),t.fs.writeFileSync(e.name,e.bytes)}}catch(t){console.error(t.name+": "+t.message)}}))}},fs=class{outputBuffer;constructor(){this.outputBuffer=""}runCommand(t,e,r,n,i,o,s,a,f,u,h,l,c){"function"!=typeof f&&(f=()=>{}),"function"!=typeof u&&(u=t=>{console.error(t)}),"function"!=typeof h&&(h=()=>{});const p=t=>{this.outputBuffer+="number"==typeof t?String.fromCharCode(t):t},d=t=>(p(t),o(t)),_=t=>(p(t),s(t));if("emscripten"==r){console.log("wasm runner creates new emscr runnable");const r=t=>this._onEmscrStdinCall(t,i,d,_);new k(t,e,c).run(n,r,d,_,a,f,u,h,l)}else{if("wasmer"!=r)throw new Error("Unknown wasm module type (can only handle emscripten or wasmer)");{console.log("wasm runner creates new wasmer runnable");let r=new as(t,e);this._wasmerStdinCallCounter=0;const o=t=>this._onWasmerStdinCall(t,i,d,_);r.run(n,o,d,_,a,f,u,h,l)}}}runCommandHeadless(t,e,r,n,i,o,s,a,f,u){if("function"!=typeof o&&(o=()=>{}),"function"!=typeof s&&(s=t=>{console.error(t)}),"function"!=typeof a&&(a=()=>{}),"emscripten"==r)console.log("wasm runner creates new emscr runnable"),new k(t,e,u).runHeadless(n,i,o,s,a,f);else{if("wasmer"!=r)throw new Error("Unknown wasm module type (can only handle emscripten or wasmer)");new as(t,e).runHeadless(n,i,o,s,a,f)}}_onEmscrStdinCall(t,e,r,n){if(0==t.input.length){const e=this.outputBuffer.split(/\r?\n/g).pop(),n=window.prompt(e);if(null==n)return null;r(n+"\r\n"),t.input=(n+"\n").split("").map((t=>t.charCodeAt(0))),t.input.push(null)}return t.input.shift()}_wasmerStdinCallCounter=0;_onWasmerStdinCall(t,e,r,n){if(this._wasmerStdinCallCounter%2!=0)return this._wasmerStdinCallCounter++,0;const i=this.outputBuffer.split(/\r?\n/g).pop(),o=window.prompt(i);return null==o?0:(r(o+"\r\n"),Array.from(o).forEach(((e,r)=>t[r]=e.charCodeAt(0))),this._wasmerStdinCallCounter++,o.length)}};function us(t){let e=t.length;for(;--e>=0;)t[e]=0}const hs=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ls=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),cs=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ps=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ds=new Array(576);us(ds);const _s=new Array(60);us(_s);const gs=new Array(512);us(gs);const ys=new Array(256);us(ys);const ms=new Array(29);us(ms);const Es=new Array(30);function Ss(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let Is,ws,As;function vs(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}us(Es);const Ts=t=>t<256?gs[t]:gs[256+(t>>>7)],bs=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},Rs=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,bs(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},Os=(t,e,r)=>{Rs(t,r[2*e],r[2*e+1])},Cs=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},Ns=(t,e,r)=>{const n=new Array(16);let i,o,s=0;for(i=1;i<=15;i++)s=s+r[i-1]<<1,n[i]=s;for(o=0;o<=e;o++){let e=t[2*o+1];0!==e&&(t[2*o]=Cs(n[e]++,e))}},Ls=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Ps=t=>{t.bi_valid>8?bs(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Ws=(t,e,r,n)=>{const i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]},Bs=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&Ws(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!Ws(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},Fs=(t,e,r)=>{let n,i,o,s,a=0;if(0!==t.sym_next)do{n=255&t.pending_buf[t.sym_buf+a++],n+=(255&t.pending_buf[t.sym_buf+a++])<<8,i=t.pending_buf[t.sym_buf+a++],0===n?Os(t,i,e):(o=ys[i],Os(t,o+256+1,e),s=hs[o],0!==s&&(i-=ms[o],Rs(t,i,s)),n--,o=Ts(n),Os(t,o,r),s=ls[o],0!==s&&(n-=Es[o],Rs(t,n,s)))}while(a<t.sym_next);Os(t,256,e)},Ds=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,a,f,u=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<o;s++)0!==r[2*s]?(t.heap[++t.heap_len]=u=s,t.depth[s]=0):r[2*s+1]=0;for(;t.heap_len<2;)f=t.heap[++t.heap_len]=u<2?++u:0,r[2*f]=1,t.depth[f]=0,t.opt_len--,i&&(t.static_len-=n[2*f+1]);for(e.max_code=u,s=t.heap_len>>1;s>=1;s--)Bs(t,r,s);f=o;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Bs(t,r,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,r[2*f]=r[2*s]+r[2*a],t.depth[f]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,r[2*s+1]=r[2*a+1]=f,t.heap[1]=f++,Bs(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,f=e.stat_desc.max_length;let u,h,l,c,p,d,_=0;for(c=0;c<=15;c++)t.bl_count[c]=0;for(r[2*t.heap[t.heap_max]+1]=0,u=t.heap_max+1;u<573;u++)h=t.heap[u],c=r[2*r[2*h+1]+1]+1,c>f&&(c=f,_++),r[2*h+1]=c,h>n||(t.bl_count[c]++,p=0,h>=a&&(p=s[h-a]),d=r[2*h],t.opt_len+=d*(c+p),o&&(t.static_len+=d*(i[2*h+1]+p)));if(0!==_){do{for(c=f-1;0===t.bl_count[c];)c--;t.bl_count[c]--,t.bl_count[c+1]+=2,t.bl_count[f]--,_-=2}while(_>0);for(c=f;0!==c;c--)for(h=t.bl_count[c];0!==h;)l=t.heap[--u],l>n||(r[2*l+1]!==c&&(t.opt_len+=(c-r[2*l+1])*r[2*l],r[2*l+1]=c),h--)}})(t,e),Ns(r,u,t.bl_count)},ks=(t,e,r)=>{let n,i,o=-1,s=e[1],a=0,f=7,u=4;for(0===s&&(f=138,u=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=e[2*(n+1)+1],++a<f&&i===s||(a<u?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=i,0===s?(f=138,u=3):i===s?(f=6,u=3):(f=7,u=4))},Us=(t,e,r)=>{let n,i,o=-1,s=e[1],a=0,f=7,u=4;for(0===s&&(f=138,u=3),n=0;n<=r;n++)if(i=s,s=e[2*(n+1)+1],!(++a<f&&i===s)){if(a<u)do{Os(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(Os(t,i,t.bl_tree),a--),Os(t,16,t.bl_tree),Rs(t,a-3,2)):a<=10?(Os(t,17,t.bl_tree),Rs(t,a-3,3)):(Os(t,18,t.bl_tree),Rs(t,a-11,7));a=0,o=i,0===s?(f=138,u=3):i===s?(f=6,u=3):(f=7,u=4)}};let Ms=!1;const xs=(t,e,r,n)=>{Rs(t,0+(n?1:0),3),Ps(t),bs(t,r),bs(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r};var Gs={_tr_init:t=>{Ms||((()=>{let t,e,r,n,i;const o=new Array(16);for(r=0,n=0;n<28;n++)for(ms[n]=r,t=0;t<1<<hs[n];t++)ys[r++]=n;for(ys[r-1]=n,i=0,n=0;n<16;n++)for(Es[n]=i,t=0;t<1<<ls[n];t++)gs[i++]=n;for(i>>=7;n<30;n++)for(Es[n]=i<<7,t=0;t<1<<ls[n]-7;t++)gs[256+i++]=n;for(e=0;e<=15;e++)o[e]=0;for(t=0;t<=143;)ds[2*t+1]=8,t++,o[8]++;for(;t<=255;)ds[2*t+1]=9,t++,o[9]++;for(;t<=279;)ds[2*t+1]=7,t++,o[7]++;for(;t<=287;)ds[2*t+1]=8,t++,o[8]++;for(Ns(ds,287,o),t=0;t<30;t++)_s[2*t+1]=5,_s[2*t]=Cs(t,5);Is=new Ss(ds,hs,257,286,15),ws=new Ss(_s,ls,0,30,15),As=new Ss(new Array(0),cs,0,19,7)})(),Ms=!0),t.l_desc=new vs(t.dyn_ltree,Is),t.d_desc=new vs(t.dyn_dtree,ws),t.bl_desc=new vs(t.bl_tree,As),t.bi_buf=0,t.bi_valid=0,Ls(t)},_tr_stored_block:xs,_tr_flush_block:(t,e,r,n)=>{let i,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),Ds(t,t.l_desc),Ds(t,t.d_desc),s=(t=>{let e;for(ks(t,t.dyn_ltree,t.l_desc.max_code),ks(t,t.dyn_dtree,t.d_desc.max_code),Ds(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*ps[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==e?xs(t,e,r,n):4===t.strategy||o===i?(Rs(t,2+(n?1:0),3),Fs(t,ds,_s)):(Rs(t,4+(n?1:0),3),((t,e,r,n)=>{let i;for(Rs(t,e-257,5),Rs(t,r-1,5),Rs(t,n-4,4),i=0;i<n;i++)Rs(t,t.bl_tree[2*ps[i]+1],3);Us(t,t.dyn_ltree,e-1),Us(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),Fs(t,t.dyn_ltree,t.dyn_dtree)),Ls(t),n&&Ps(t)},_tr_tally:(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(ys[r]+256+1)]++,t.dyn_dtree[2*Ts(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{Rs(t,2,3),Os(t,256,ds),(t=>{16===t.bi_valid?(bs(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},Hs=(t,e,r,n)=>{let i=65535&t,o=t>>>16&65535,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do{i=i+e[n++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16};const js=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());var Ys=(t,e,r,n)=>{const i=js,o=n+r;t^=-1;for(let r=n;r<o;r++)t=t>>>8^i[255&(t^e[r])];return~t},zs={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Vs={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ks,_tr_stored_block:qs,_tr_flush_block:Zs,_tr_tally:Xs,_tr_align:Js}=Gs,{Z_NO_FLUSH:$s,Z_PARTIAL_FLUSH:Qs,Z_FULL_FLUSH:ta,Z_FINISH:ea,Z_BLOCK:ra,Z_OK:na,Z_STREAM_END:ia,Z_STREAM_ERROR:oa,Z_DATA_ERROR:sa,Z_BUF_ERROR:aa,Z_DEFAULT_COMPRESSION:fa,Z_FILTERED:ua,Z_HUFFMAN_ONLY:ha,Z_RLE:la,Z_FIXED:ca,Z_DEFAULT_STRATEGY:pa,Z_UNKNOWN:da,Z_DEFLATED:_a}=Vs,ga=258,ya=262,ma=42,Ea=113,Sa=666,Ia=(t,e)=>(t.msg=zs[e],e),wa=t=>2*t-(t>4?9:0),Aa=t=>{let e=t.length;for(;--e>=0;)t[e]=0},va=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do{r=t.head[--n],t.head[n]=r>=i?r-i:0}while(--e);e=i,n=e;do{r=t.prev[--n],t.prev[n]=r>=i?r-i:0}while(--e)};let Ta=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask;const ba=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},Ra=(t,e)=>{Zs(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ba(t.strm)},Oa=(t,e)=>{t.pending_buf[t.pending++]=e},Ca=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Na=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=Hs(t.adler,e,i,r):2===t.state.wrap&&(t.adler=Ys(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},La=(t,e)=>{let r,n,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match;const f=t.strstart>t.w_size-ya?t.strstart-(t.w_size-ya):0,u=t.window,h=t.w_mask,l=t.prev,c=t.strstart+ga;let p=u[o+s-1],d=u[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(r=e,u[r+s]===d&&u[r+s-1]===p&&u[r]===u[o]&&u[++r]===u[o+1]){o+=2,r++;do{}while(u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&o<c);if(n=ga-(c-o),o=c-ga,n>s){if(t.match_start=e,s=n,n>=a)break;p=u[o+s-1],d=u[o+s]}}}while((e=l[e&h])>f&&0!=--i);return s<=t.lookahead?s:t.lookahead},Pa=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-ya)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),va(t),n+=e),0===t.strm.avail_in)break;if(r=Na(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Ta(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Ta(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<ya&&0!==t.strm.avail_in)},Wa=(t,e)=>{let r,n,i,o=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s=0,a=t.strm.avail_in;do{if(r=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,n=t.strstart-t.block_start,r>n+t.strm.avail_in&&(r=n+t.strm.avail_in),r>i&&(r=i),r<o&&(0===r&&e!==ea||e===$s||r!==n+t.strm.avail_in))break;s=e===ea&&r===n+t.strm.avail_in?1:0,qs(t,0,0,s),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,ba(t.strm),n&&(n>r&&(n=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+n),t.strm.next_out),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n,t.block_start+=n,r-=n),r&&(Na(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(0===s);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?4:e!==$s&&e!==ea&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(Na(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,o=i>t.w_size?t.w_size:i,n=t.strstart-t.block_start,(n>=o||(n||e===ea)&&e!==$s&&0===t.strm.avail_in&&n<=i)&&(r=n>i?i:n,s=e===ea&&0===t.strm.avail_in&&r===n?1:0,qs(t,t.block_start,r,s),t.block_start+=r,ba(t.strm)),s?3:1)},Ba=(t,e)=>{let r,n;for(;;){if(t.lookahead<ya){if(Pa(t),t.lookahead<ya&&e===$s)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=Ta(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-ya&&(t.match_length=La(t,r)),t.match_length>=3)if(n=Xs(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Ta(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Ta(t,t.ins_h,t.window[t.strstart+1]);else n=Xs(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Ra(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===ea?(Ra(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Ra(t,!1),0===t.strm.avail_out)?1:2},Fa=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<ya){if(Pa(t),t.lookahead<ya&&e===$s)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=Ta(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-ya&&(t.match_length=La(t,r),t.match_length<=5&&(t.strategy===ua||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=Xs(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=Ta(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Ra(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=Xs(t,0,t.window[t.strstart-1]),n&&Ra(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Xs(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===ea?(Ra(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Ra(t,!1),0===t.strm.avail_out)?1:2};function Da(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const ka=[new Da(0,0,0,0,Wa),new Da(4,4,8,4,Ba),new Da(4,5,16,8,Ba),new Da(4,6,32,32,Ba),new Da(4,4,16,16,Fa),new Da(8,16,32,32,Fa),new Da(8,16,128,128,Fa),new Da(8,32,128,256,Fa),new Da(32,128,258,1024,Fa),new Da(32,258,258,4096,Fa)];function Ua(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_a,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Aa(this.dyn_ltree),Aa(this.dyn_dtree),Aa(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Aa(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Aa(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ma=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==ma&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==Ea&&e.status!==Sa?1:0},xa=t=>{if(Ma(t))return Ia(t,oa);t.total_in=t.total_out=0,t.data_type=da;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?ma:Ea,t.adler=2===e.wrap?0:1,e.last_flush=-2,Ks(e),na},Ga=t=>{const e=xa(t);var r;return e===na&&((r=t.state).window_size=2*r.w_size,Aa(r.head),r.max_lazy_match=ka[r.level].max_lazy,r.good_match=ka[r.level].good_length,r.nice_match=ka[r.level].nice_length,r.max_chain_length=ka[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),e},Ha=(t,e,r,n,i,o)=>{if(!t)return oa;let s=1;if(e===fa&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||r!==_a||n<8||n>15||e<0||e>9||o<0||o>ca||8===n&&1!==s)return Ia(t,oa);8===n&&(n=9);const a=new Ua;return t.state=a,a.strm=t,a.status=ma,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=o,a.method=r,Ga(t)};var ja={deflateInit:(t,e)=>Ha(t,e,_a,15,8,pa),deflateInit2:Ha,deflateReset:Ga,deflateResetKeep:xa,deflateSetHeader:(t,e)=>Ma(t)||2!==t.state.wrap?oa:(t.state.gzhead=e,na),deflate:(t,e)=>{if(Ma(t)||e>ra||e<0)return t?Ia(t,oa):oa;const r=t.state;if(!t.output||0!==t.avail_in&&!t.input||r.status===Sa&&e!==ea)return Ia(t,0===t.avail_out?aa:oa);const n=r.last_flush;if(r.last_flush=e,0!==r.pending){if(ba(t),0===t.avail_out)return r.last_flush=-1,na}else if(0===t.avail_in&&wa(e)<=wa(n)&&e!==ea)return Ia(t,aa);if(r.status===Sa&&0!==t.avail_in)return Ia(t,aa);if(r.status===ma&&0===r.wrap&&(r.status=Ea),r.status===ma){let e=_a+(r.w_bits-8<<4)<<8,n=-1;if(n=r.strategy>=ha||r.level<2?0:r.level<6?1:6===r.level?2:3,e|=n<<6,0!==r.strstart&&(e|=32),e+=31-e%31,Ca(r,e),0!==r.strstart&&(Ca(r,t.adler>>>16),Ca(r,65535&t.adler)),t.adler=1,r.status=Ea,ba(t),0!==r.pending)return r.last_flush=-1,na}if(57===r.status)if(t.adler=0,Oa(r,31),Oa(r,139),Oa(r,8),r.gzhead)Oa(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Oa(r,255&r.gzhead.time),Oa(r,r.gzhead.time>>8&255),Oa(r,r.gzhead.time>>16&255),Oa(r,r.gzhead.time>>24&255),Oa(r,9===r.level?2:r.strategy>=ha||r.level<2?4:0),Oa(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Oa(r,255&r.gzhead.extra.length),Oa(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=Ys(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(Oa(r,0),Oa(r,0),Oa(r,0),Oa(r,0),Oa(r,0),Oa(r,9===r.level?2:r.strategy>=ha||r.level<2?4:0),Oa(r,3),r.status=Ea,ba(t),0!==r.pending)return r.last_flush=-1,na;if(69===r.status){if(r.gzhead.extra){let e=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>e&&(t.adler=Ys(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex+=i,ba(t),0!==r.pending)return r.last_flush=-1,na;e=0,n-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>e&&(t.adler=Ys(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=Ys(t.adler,r.pending_buf,r.pending-n,n)),ba(t),0!==r.pending)return r.last_flush=-1,na;n=0}e=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Oa(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=Ys(t.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=Ys(t.adler,r.pending_buf,r.pending-n,n)),ba(t),0!==r.pending)return r.last_flush=-1,na;n=0}e=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Oa(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=Ys(t.adler,r.pending_buf,r.pending-n,n))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(ba(t),0!==r.pending))return r.last_flush=-1,na;Oa(r,255&t.adler),Oa(r,t.adler>>8&255),t.adler=0}if(r.status=Ea,ba(t),0!==r.pending)return r.last_flush=-1,na}if(0!==t.avail_in||0!==r.lookahead||e!==$s&&r.status!==Sa){let n=0===r.level?Wa(r,e):r.strategy===ha?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(Pa(t),0===t.lookahead)){if(e===$s)return 1;break}if(t.match_length=0,r=Xs(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(Ra(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===ea?(Ra(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Ra(t,!1),0===t.strm.avail_out)?1:2})(r,e):r.strategy===la?((t,e)=>{let r,n,i,o;const s=t.window;for(;;){if(t.lookahead<=ga){if(Pa(t),t.lookahead<=ga&&e===$s)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){o=t.strstart+ga;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);t.match_length=ga-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=Xs(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Xs(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(Ra(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===ea?(Ra(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Ra(t,!1),0===t.strm.avail_out)?1:2})(r,e):ka[r.level].func(r,e);if(3!==n&&4!==n||(r.status=Sa),1===n||3===n)return 0===t.avail_out&&(r.last_flush=-1),na;if(2===n&&(e===Qs?Js(r):e!==ra&&(qs(r,0,0,!1),e===ta&&(Aa(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),ba(t),0===t.avail_out))return r.last_flush=-1,na}return e!==ea?na:r.wrap<=0?ia:(2===r.wrap?(Oa(r,255&t.adler),Oa(r,t.adler>>8&255),Oa(r,t.adler>>16&255),Oa(r,t.adler>>24&255),Oa(r,255&t.total_in),Oa(r,t.total_in>>8&255),Oa(r,t.total_in>>16&255),Oa(r,t.total_in>>24&255)):(Ca(r,t.adler>>>16),Ca(r,65535&t.adler)),ba(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?na:ia)},deflateEnd:t=>{if(Ma(t))return oa;const e=t.state.status;return t.state=null,e===Ea?Ia(t,sa):na},deflateSetDictionary:(t,e)=>{let r=e.length;if(Ma(t))return oa;const n=t.state,i=n.wrap;if(2===i||1===i&&n.status!==ma||n.lookahead)return oa;if(1===i&&(t.adler=Hs(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(Aa(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(r-n.w_size,r),0),e=t,r=n.w_size}const o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,Pa(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=Ta(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,Pa(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,n.wrap=i,na},deflateInfo:"pako deflate (from Nodeca project)"};const Ya=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var za={assign:function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const e in r)Ya(r,e)&&(t[e]=r[e])}}return t},flattenChunks:t=>{let e=0;for(let r=0,n=t.length;r<n;r++)e+=t[r].length;const r=new Uint8Array(e);for(let e=0,n=0,i=t.length;e<i;e++){let i=t[e];r.set(i,n),n+=i.length}return r}};let Va=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Va=!1}const Ka=new Uint8Array(256);for(let t=0;t<256;t++)Ka[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Ka[254]=Ka[254]=1;var qa={string2buf:t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,r,n,i,o,s=t.length,a=0;for(i=0;i<s;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<s&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<s&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|63&r):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|63&r):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|63&r);return e},buf2string:(t,e)=>{const r=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,i;const o=new Array(2*r);for(i=0,n=0;n<r;){let e=t[n++];if(e<128){o[i++]=e;continue}let s=Ka[e];if(s>4)o[i++]=65533,n+=s-1;else{for(e&=2===s?31:3===s?15:7;s>1&&n<r;)e=e<<6|63&t[n++],s--;s>1?o[i++]=65533:e<65536?o[i++]=e:(e-=65536,o[i++]=55296|e>>10&1023,o[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Va)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r})(o,i)},utf8border:(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+Ka[t[r]]>e?r:e}},Za=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Xa=Object.prototype.toString,{Z_NO_FLUSH:Ja,Z_SYNC_FLUSH:$a,Z_FULL_FLUSH:Qa,Z_FINISH:tf,Z_OK:ef,Z_STREAM_END:rf,Z_DEFAULT_COMPRESSION:nf,Z_DEFAULT_STRATEGY:of,Z_DEFLATED:sf}=Vs;function af(t){this.options=za.assign({level:nf,method:sf,chunkSize:16384,windowBits:15,memLevel:8,strategy:of},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Za,this.strm.avail_out=0;let r=ja.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==ef)throw new Error(zs[r]);if(e.header&&ja.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?qa.string2buf(e.dictionary):"[object ArrayBuffer]"===Xa.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=ja.deflateSetDictionary(this.strm,t),r!==ef)throw new Error(zs[r]);this._dict_set=!0}}function ff(t,e){const r=new af(e);if(r.push(t,!0),r.err)throw r.msg||zs[r.err];return r.result}af.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?tf:Ja,"string"==typeof t?r.input=qa.string2buf(t):"[object ArrayBuffer]"===Xa.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(o===$a||o===Qa)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=ja.deflate(r,o),i===rf)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=ja.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===ef;if(0!==r.avail_out){if(o>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},af.prototype.onData=function(t){this.chunks.push(t)},af.prototype.onEnd=function(t){t===ef&&(this.result=za.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var uf={Deflate:af,deflate:ff,deflateRaw:function(t,e){return(e=e||{}).raw=!0,ff(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,ff(t,e)},constants:Vs};const hf=16209;var lf=function(t,e){let r,n,i,o,s,a,f,u,h,l,c,p,d,_,g,y,m,E,S,I,w,A,v,T;const b=t.state;r=t.next_in,v=t.input,n=r+(t.avail_in-5),i=t.next_out,T=t.output,o=i-(e-t.avail_out),s=i+(t.avail_out-257),a=b.dmax,f=b.wsize,u=b.whave,h=b.wnext,l=b.window,c=b.hold,p=b.bits,d=b.lencode,_=b.distcode,g=(1<<b.lenbits)-1,y=(1<<b.distbits)-1;t:do{p<15&&(c+=v[r++]<<p,p+=8,c+=v[r++]<<p,p+=8),m=d[c&g];e:for(;;){if(E=m>>>24,c>>>=E,p-=E,E=m>>>16&255,0===E)T[i++]=65535&m;else{if(!(16&E)){if(64&E){if(32&E){b.mode=16191;break t}t.msg="invalid literal/length code",b.mode=hf;break t}m=d[(65535&m)+(c&(1<<E)-1)];continue e}for(S=65535&m,E&=15,E&&(p<E&&(c+=v[r++]<<p,p+=8),S+=c&(1<<E)-1,c>>>=E,p-=E),p<15&&(c+=v[r++]<<p,p+=8,c+=v[r++]<<p,p+=8),m=_[c&y];;){if(E=m>>>24,c>>>=E,p-=E,E=m>>>16&255,16&E){if(I=65535&m,E&=15,p<E&&(c+=v[r++]<<p,p+=8,p<E&&(c+=v[r++]<<p,p+=8)),I+=c&(1<<E)-1,I>a){t.msg="invalid distance too far back",b.mode=hf;break t}if(c>>>=E,p-=E,E=i-o,I>E){if(E=I-E,E>u&&b.sane){t.msg="invalid distance too far back",b.mode=hf;break t}if(w=0,A=l,0===h){if(w+=f-E,E<S){S-=E;do{T[i++]=l[w++]}while(--E);w=i-I,A=T}}else if(h<E){if(w+=f+h-E,E-=h,E<S){S-=E;do{T[i++]=l[w++]}while(--E);if(w=0,h<S){E=h,S-=E;do{T[i++]=l[w++]}while(--E);w=i-I,A=T}}}else if(w+=h-E,E<S){S-=E;do{T[i++]=l[w++]}while(--E);w=i-I,A=T}for(;S>2;)T[i++]=A[w++],T[i++]=A[w++],T[i++]=A[w++],S-=3;S&&(T[i++]=A[w++],S>1&&(T[i++]=A[w++]))}else{w=i-I;do{T[i++]=T[w++],T[i++]=T[w++],T[i++]=T[w++],S-=3}while(S>2);S&&(T[i++]=T[w++],S>1&&(T[i++]=T[w++]))}break}if(64&E){t.msg="invalid distance code",b.mode=hf;break t}m=_[(65535&m)+(c&(1<<E)-1)]}}break}}while(r<n&&i<s);S=p>>3,r-=S,p-=S<<3,c&=(1<<p)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<s?s-i+257:257-(i-s),b.hold=c,b.bits=p};const cf=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),pf=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),df=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),_f=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var gf=(t,e,r,n,i,o,s,a)=>{const f=a.bits;let u,h,l,c,p,d,_=0,g=0,y=0,m=0,E=0,S=0,I=0,w=0,A=0,v=0,T=null;const b=new Uint16Array(16),R=new Uint16Array(16);let O,C,N,L=null;for(_=0;_<=15;_++)b[_]=0;for(g=0;g<n;g++)b[e[r+g]]++;for(E=f,m=15;m>=1&&0===b[m];m--);if(E>m&&(E=m),0===m)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(y=1;y<m&&0===b[y];y++);for(E<y&&(E=y),w=1,_=1;_<=15;_++)if(w<<=1,w-=b[_],w<0)return-1;if(w>0&&(0===t||1!==m))return-1;for(R[1]=0,_=1;_<15;_++)R[_+1]=R[_]+b[_];for(g=0;g<n;g++)0!==e[r+g]&&(s[R[e[r+g]]++]=g);if(0===t?(T=L=s,d=20):1===t?(T=cf,L=pf,d=257):(T=df,L=_f,d=0),v=0,g=0,_=y,p=o,S=E,I=0,l=-1,A=1<<E,c=A-1,1===t&&A>852||2===t&&A>592)return 1;for(;;){O=_-I,s[g]+1<d?(C=0,N=s[g]):s[g]>=d?(C=L[s[g]-d],N=T[s[g]-d]):(C=96,N=0),u=1<<_-I,h=1<<S,y=h;do{h-=u,i[p+(v>>I)+h]=O<<24|C<<16|N}while(0!==h);for(u=1<<_-1;v&u;)u>>=1;if(0!==u?(v&=u-1,v+=u):v=0,g++,0==--b[_]){if(_===m)break;_=e[r+s[g]]}if(_>E&&(v&c)!==l){for(0===I&&(I=E),p+=y,S=_-I,w=1<<S;S+I<m&&(w-=b[S+I],!(w<=0));)S++,w<<=1;if(A+=1<<S,1===t&&A>852||2===t&&A>592)return 1;l=v&c,i[l]=E<<24|S<<16|p-o}}return 0!==v&&(i[p+v]=_-I<<24|64<<16),a.bits=E,0};const{Z_FINISH:yf,Z_BLOCK:mf,Z_TREES:Ef,Z_OK:Sf,Z_STREAM_END:If,Z_NEED_DICT:wf,Z_STREAM_ERROR:Af,Z_DATA_ERROR:vf,Z_MEM_ERROR:Tf,Z_BUF_ERROR:bf,Z_DEFLATED:Rf}=Vs,Of=16180,Cf=16190,Nf=16191,Lf=16192,Pf=16194,Wf=16199,Bf=16200,Ff=16206,Df=16209,kf=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Uf(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Mf=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Of||e.mode>16211?1:0},xf=t=>{if(Mf(t))return Af;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Of,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Sf},Gf=t=>{if(Mf(t))return Af;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,xf(t)},Hf=(t,e)=>{let r;if(Mf(t))return Af;const n=t.state;return e<0?(r=0,e=-e):(r=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Af:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Gf(t))},jf=(t,e)=>{if(!t)return Af;const r=new Uf;t.state=r,r.strm=t,r.window=null,r.mode=Of;const n=Hf(t,e);return n!==Sf&&(t.state=null),n};let Yf,zf,Vf=!0;const Kf=t=>{if(Vf){Yf=new Int32Array(512),zf=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(gf(1,t.lens,0,288,Yf,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;gf(2,t.lens,0,32,zf,0,t.work,{bits:5}),Vf=!1}t.lencode=Yf,t.lenbits=9,t.distcode=zf,t.distbits=5},qf=(t,e,r,n)=>{let i;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(e.subarray(r-n,r-n+i),o.wnext),(n-=i)?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var Zf={inflateReset:Gf,inflateReset2:Hf,inflateResetKeep:xf,inflateInit:t=>jf(t,15),inflateInit2:jf,inflate:(t,e)=>{let r,n,i,o,s,a,f,u,h,l,c,p,d,_,g,y,m,E,S,I,w,A,v=0;const T=new Uint8Array(4);let b,R;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Mf(t)||!t.output||!t.input&&0!==t.avail_in)return Af;r=t.state,r.mode===Nf&&(r.mode=Lf),s=t.next_out,i=t.output,f=t.avail_out,o=t.next_in,n=t.input,a=t.avail_in,u=r.hold,h=r.bits,l=a,c=f,A=Sf;t:for(;;)switch(r.mode){case Of:if(0===r.wrap){r.mode=Lf;break}for(;h<16;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if(2&r.wrap&&35615===u){0===r.wbits&&(r.wbits=15),r.check=0,T[0]=255&u,T[1]=u>>>8&255,r.check=Ys(r.check,T,2,0),u=0,h=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Df;break}if((15&u)!==Rf){t.msg="unknown compression method",r.mode=Df;break}if(u>>>=4,h-=4,w=8+(15&u),0===r.wbits&&(r.wbits=w),w>15||w>r.wbits){t.msg="invalid window size",r.mode=Df;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=512&u?16189:Nf,u=0,h=0;break;case 16181:for(;h<16;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if(r.flags=u,(255&r.flags)!==Rf){t.msg="unknown compression method",r.mode=Df;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=Df;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&4&r.wrap&&(T[0]=255&u,T[1]=u>>>8&255,r.check=Ys(r.check,T,2,0)),u=0,h=0,r.mode=16182;case 16182:for(;h<32;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}r.head&&(r.head.time=u),512&r.flags&&4&r.wrap&&(T[0]=255&u,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,r.check=Ys(r.check,T,4,0)),u=0,h=0,r.mode=16183;case 16183:for(;h<16;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&4&r.wrap&&(T[0]=255&u,T[1]=u>>>8&255,r.check=Ys(r.check,T,2,0)),u=0,h=0,r.mode=16184;case 16184:if(1024&r.flags){for(;h<16;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&4&r.wrap&&(T[0]=255&u,T[1]=u>>>8&255,r.check=Ys(r.check,T,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&(p=r.length,p>a&&(p=a),p&&(r.head&&(w=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+p),w)),512&r.flags&&4&r.wrap&&(r.check=Ys(r.check,n,p,o)),a-=p,o+=p,r.length-=p),r.length))break t;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===a)break t;p=0;do{w=n[o+p++],r.head&&w&&r.length<65536&&(r.head.name+=String.fromCharCode(w))}while(w&&p<a);if(512&r.flags&&4&r.wrap&&(r.check=Ys(r.check,n,p,o)),a-=p,o+=p,w)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===a)break t;p=0;do{w=n[o+p++],r.head&&w&&r.length<65536&&(r.head.comment+=String.fromCharCode(w))}while(w&&p<a);if(512&r.flags&&4&r.wrap&&(r.check=Ys(r.check,n,p,o)),a-=p,o+=p,w)break t}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;h<16;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if(4&r.wrap&&u!==(65535&r.check)){t.msg="header crc mismatch",r.mode=Df;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Nf;break;case 16189:for(;h<32;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}t.adler=r.check=kf(u),u=0,h=0,r.mode=Cf;case Cf:if(0===r.havedict)return t.next_out=s,t.avail_out=f,t.next_in=o,t.avail_in=a,r.hold=u,r.bits=h,wf;t.adler=r.check=1,r.mode=Nf;case Nf:if(e===mf||e===Ef)break t;case Lf:if(r.last){u>>>=7&h,h-=7&h,r.mode=Ff;break}for(;h<3;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}switch(r.last=1&u,u>>>=1,h-=1,3&u){case 0:r.mode=16193;break;case 1:if(Kf(r),r.mode=Wf,e===Ef){u>>>=2,h-=2;break t}break;case 2:r.mode=16196;break;case 3:t.msg="invalid block type",r.mode=Df}u>>>=2,h-=2;break;case 16193:for(u>>>=7&h,h-=7&h;h<32;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Df;break}if(r.length=65535&u,u=0,h=0,r.mode=Pf,e===Ef)break t;case Pf:r.mode=16195;case 16195:if(p=r.length,p){if(p>a&&(p=a),p>f&&(p=f),0===p)break t;i.set(n.subarray(o,o+p),s),a-=p,o+=p,f-=p,s+=p,r.length-=p;break}r.mode=Nf;break;case 16196:for(;h<14;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if(r.nlen=257+(31&u),u>>>=5,h-=5,r.ndist=1+(31&u),u>>>=5,h-=5,r.ncode=4+(15&u),u>>>=4,h-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Df;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;h<3;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}r.lens[O[r.have++]]=7&u,u>>>=3,h-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,b={bits:r.lenbits},A=gf(0,r.lens,0,19,r.lencode,0,r.work,b),r.lenbits=b.bits,A){t.msg="invalid code lengths set",r.mode=Df;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],g=v>>>24,y=v>>>16&255,m=65535&v,!(g<=h);){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if(m<16)u>>>=g,h-=g,r.lens[r.have++]=m;else{if(16===m){for(R=g+2;h<R;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if(u>>>=g,h-=g,0===r.have){t.msg="invalid bit length repeat",r.mode=Df;break}w=r.lens[r.have-1],p=3+(3&u),u>>>=2,h-=2}else if(17===m){for(R=g+3;h<R;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}u>>>=g,h-=g,w=0,p=3+(7&u),u>>>=3,h-=3}else{for(R=g+7;h<R;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}u>>>=g,h-=g,w=0,p=11+(127&u),u>>>=7,h-=7}if(r.have+p>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Df;break}for(;p--;)r.lens[r.have++]=w}}if(r.mode===Df)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=Df;break}if(r.lenbits=9,b={bits:r.lenbits},A=gf(1,r.lens,0,r.nlen,r.lencode,0,r.work,b),r.lenbits=b.bits,A){t.msg="invalid literal/lengths set",r.mode=Df;break}if(r.distbits=6,r.distcode=r.distdyn,b={bits:r.distbits},A=gf(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,b),r.distbits=b.bits,A){t.msg="invalid distances set",r.mode=Df;break}if(r.mode=Wf,e===Ef)break t;case Wf:r.mode=Bf;case Bf:if(a>=6&&f>=258){t.next_out=s,t.avail_out=f,t.next_in=o,t.avail_in=a,r.hold=u,r.bits=h,lf(t,c),s=t.next_out,i=t.output,f=t.avail_out,o=t.next_in,n=t.input,a=t.avail_in,u=r.hold,h=r.bits,r.mode===Nf&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],g=v>>>24,y=v>>>16&255,m=65535&v,!(g<=h);){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if(y&&!(240&y)){for(E=g,S=y,I=m;v=r.lencode[I+((u&(1<<E+S)-1)>>E)],g=v>>>24,y=v>>>16&255,m=65535&v,!(E+g<=h);){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}u>>>=E,h-=E,r.back+=E}if(u>>>=g,h-=g,r.back+=g,r.length=m,0===y){r.mode=16205;break}if(32&y){r.back=-1,r.mode=Nf;break}if(64&y){t.msg="invalid literal/length code",r.mode=Df;break}r.extra=15&y,r.mode=16201;case 16201:if(r.extra){for(R=r.extra;h<R;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;v=r.distcode[u&(1<<r.distbits)-1],g=v>>>24,y=v>>>16&255,m=65535&v,!(g<=h);){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if(!(240&y)){for(E=g,S=y,I=m;v=r.distcode[I+((u&(1<<E+S)-1)>>E)],g=v>>>24,y=v>>>16&255,m=65535&v,!(E+g<=h);){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}u>>>=E,h-=E,r.back+=E}if(u>>>=g,h-=g,r.back+=g,64&y){t.msg="invalid distance code",r.mode=Df;break}r.offset=m,r.extra=15&y,r.mode=16203;case 16203:if(r.extra){for(R=r.extra;h<R;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Df;break}r.mode=16204;case 16204:if(0===f)break t;if(p=c-f,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Df;break}p>r.wnext?(p-=r.wnext,d=r.wsize-p):d=r.wnext-p,p>r.length&&(p=r.length),_=r.window}else _=i,d=s-r.offset,p=r.length;p>f&&(p=f),f-=p,r.length-=p;do{i[s++]=_[d++]}while(--p);0===r.length&&(r.mode=Bf);break;case 16205:if(0===f)break t;i[s++]=r.length,f--,r.mode=Bf;break;case Ff:if(r.wrap){for(;h<32;){if(0===a)break t;a--,u|=n[o++]<<h,h+=8}if(c-=f,t.total_out+=c,r.total+=c,4&r.wrap&&c&&(t.adler=r.check=r.flags?Ys(r.check,i,c,s-c):Hs(r.check,i,c,s-c)),c=f,4&r.wrap&&(r.flags?u:kf(u))!==r.check){t.msg="incorrect data check",r.mode=Df;break}u=0,h=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;h<32;){if(0===a)break t;a--,u+=n[o++]<<h,h+=8}if(4&r.wrap&&u!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=Df;break}u=0,h=0}r.mode=16208;case 16208:A=If;break t;case Df:A=vf;break t;case 16210:return Tf;default:return Af}return t.next_out=s,t.avail_out=f,t.next_in=o,t.avail_in=a,r.hold=u,r.bits=h,(r.wsize||c!==t.avail_out&&r.mode<Df&&(r.mode<Ff||e!==yf))&&qf(t,t.output,t.next_out,c-t.avail_out),l-=t.avail_in,c-=t.avail_out,t.total_in+=l,t.total_out+=c,r.total+=c,4&r.wrap&&c&&(t.adler=r.check=r.flags?Ys(r.check,i,c,t.next_out-c):Hs(r.check,i,c,t.next_out-c)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Nf?128:0)+(r.mode===Wf||r.mode===Pf?256:0),(0===l&&0===c||e===yf)&&A===Sf&&(A=bf),A},inflateEnd:t=>{if(Mf(t))return Af;let e=t.state;return e.window&&(e.window=null),t.state=null,Sf},inflateGetHeader:(t,e)=>{if(Mf(t))return Af;const r=t.state;return 2&r.wrap?(r.head=e,e.done=!1,Sf):Af},inflateSetDictionary:(t,e)=>{const r=e.length;let n,i,o;return Mf(t)?Af:(n=t.state,0!==n.wrap&&n.mode!==Cf?Af:n.mode===Cf&&(i=1,i=Hs(i,e,r,0),i!==n.check)?vf:(o=qf(t,e,r,r),o?(n.mode=16210,Tf):(n.havedict=1,Sf)))},inflateInfo:"pako inflate (from Nodeca project)"},Xf=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Jf=Object.prototype.toString,{Z_NO_FLUSH:$f,Z_FINISH:Qf,Z_OK:tu,Z_STREAM_END:eu,Z_NEED_DICT:ru,Z_STREAM_ERROR:nu,Z_DATA_ERROR:iu,Z_MEM_ERROR:ou}=Vs;function su(t){this.options=za.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Za,this.strm.avail_out=0;let r=Zf.inflateInit2(this.strm,e.windowBits);if(r!==tu)throw new Error(zs[r]);if(this.header=new Xf,Zf.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=qa.string2buf(e.dictionary):"[object ArrayBuffer]"===Jf.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Zf.inflateSetDictionary(this.strm,e.dictionary),r!==tu)))throw new Error(zs[r])}function au(t,e){const r=new su(e);if(r.push(t),r.err)throw r.msg||zs[r.err];return r.result}su.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Qf:$f,"[object ArrayBuffer]"===Jf.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=Zf.inflate(r,s),o===ru&&i&&(o=Zf.inflateSetDictionary(r,i),o===tu?o=Zf.inflate(r,s):o===iu&&(o=ru));r.avail_in>0&&o===eu&&r.state.wrap>0&&0!==t[r.next_in];)Zf.inflateReset(r),o=Zf.inflate(r,s);switch(o){case nu:case iu:case ru:case ou:return this.onEnd(o),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(0===r.avail_out||o===eu))if("string"===this.options.to){let t=qa.utf8border(r.output,r.next_out),e=r.next_out-t,i=qa.buf2string(r.output,t);r.next_out=e,r.avail_out=n-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(o!==tu||0!==a){if(o===eu)return o=Zf.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},su.prototype.onData=function(t){this.chunks.push(t)},su.prototype.onEnd=function(t){t===tu&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=za.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var fu={Inflate:su,inflate:au,inflateRaw:function(t,e){return(e=e||{}).raw=!0,au(t,e)},ungzip:au,constants:Vs};const{Deflate:uu,deflate:hu,deflateRaw:lu,gzip:cu}=uf,{Inflate:pu,inflate:du,inflateRaw:_u,ungzip:gu}=fu;var yu={Deflate:uu,deflate:hu,deflateRaw:lu,gzip:cu,Inflate:pu,inflate:du,inflateRaw:_u,ungzip:gu,constants:Vs},mu=r(13),Eu=r.n(mu);class Su{static WAPM_GRAPHQL_QUERY="query shellGetCommandQuery($command: String!) {\n        command: getCommand(name: $command) {\n            command\n            module {\n                name\n                abi\n                source\n            }\n            packageVersion {\n                version\n                package {\n                    name\n                    displayName\n                }\n                filesystem {\n                    wasm\n                    host\n                }\n                distribution {\n                    downloadUrl\n                }\n                modules {\n                    name\n                    publicUrl\n                    abi\n                }\n                commands {\n                    command\n                    module {\n                        name\n                        abi\n                        source\n                    }\n                }\n            }\n        }\n    }";static getCommandFromWAPM=async t=>{const e=await fetch("https://registry.wapm.io/graphql",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({operationName:"shellGetCommandQuery",query:Su.WAPM_GRAPHQL_QUERY,variables:{command:t}})}),r=await e.json();if(r&&r.data&&r.data.command)return r.data.command;throw new Error(`command not found ${t}`)};static fetchCommandFromWAPM=async({args:t,env:e})=>{const r=t[0],n=await Su.getCommandFromWAPM(r);if("wasi"!==n.module.abi)throw new Error(`Only WASI modules are supported. The "${r}" command is using the "${n.module.abi}" ABI.`);return n};static WAPM_PACKAGE_QUERY="query shellGetPackageQuery($name: String!, $version: String) {\n        packageVersion: getPackageVersion(name: $name, version: $version) {\n            version\n            package {\n                name\n                displayName\n            }\n            filesystem {\n                wasm\n                host\n            }\n            distribution {\n                downloadUrl\n            }\n            modules {\n                name\n                publicUrl\n                abi\n            }\n            commands {\n                command\n                module {\n                    name\n                    abi\n                    source\n                }\n            }\n        }\n    }";static execWapmQuery=async(t,e)=>{const r=await fetch("https://registry.wapm.io/graphql",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:t,variables:e})}),n=await r.json();if(n&&n.data)return n.data};static getBinaryFromUrl=async t=>{const e=await fetch(t),r=await e.arrayBuffer();return new Uint8Array(r)};static getWAPMPackageFromPackageName=async t=>{let e;if(t.indexOf("@")>-1){const r=t.split("@");t=r[0],e=r[1]}let r=await Su.execWapmQuery(Su.WAPM_PACKAGE_QUERY,{name:t,version:e});if(r&&r.packageVersion)return r.packageVersion;throw new Error(`Package not found in the registry ${t}`)};static getWasmBinaryFromUrl=async t=>{const e=await fetch(t),r=await e.arrayBuffer();return new Uint8Array(r)};static getWasmBinaryFromCommand=async t=>{const e=await Su.fetchCommandFromWAPM({args:[t]}),r=await Su.getBinaryFromUrl(e.packageVersion.distribution.downloadUrl),n=yu.inflate(r),i=(await Eu()(n.buffer)).filter((t=>t.name.split("/").pop().endsWith(".wasm")));if(i.length>1)throw Error("more than 1 wasm file, don't know what to do :D");return i[0].buffer}}const Iu=Su,wu=class{isRunningCommand;onActivated;onDisposed;onFileSystemUpdate;onBeforeCommandRun;onCommandRunFinish;_xterm;_xtermEcho;_xtermPrompt;_worker;_wasmRunner;_jsCommands;_wasmModules;_wasmFsFiles;_stdoutBuffer;_stderrBuffer;_outputBuffer;_lastOutputTime;constructor(t){this.wasmBinaryPath=t,this._jsCommands=new Map,this.isRunningCommand=!1,this._worker=!1,this._wasmModules=[],this._wasmFsFiles=[],this._outputBuffer="",this._lastOutputTime=0,this.onActivated=()=>{},this.onDisposed=()=>{},this.onFileSystemUpdate=()=>{},this.onBeforeCommandRun=()=>{},this.onCommandRunFinish=()=>{},[typeof Worker,typeof SharedArrayBuffer,typeof Atomics].includes("undefined")?this._wasmRunner=new fs:this._initWorker(),this._suppressOutputs=!1,window.term=this}async activate(t){this._xterm=t,this._xtermFitAddon=new A.FitAddon,this._xtermFitAddon.activate(this._xterm),setTimeout((()=>this._xtermFitAddon.fit()),1),window.addEventListener("resize",(()=>{this._xtermFitAddon.fit()})),setTimeout((()=>this._initWasmModuleDragAndDrop()),1),this._xtermPrompt=async()=>"$ ",this._xtermEcho=new W,this._xtermEcho.activate(this._xterm),this.registerJsCommand("help",(async function*(t){yield"todo: show helping things\n"})),this.registerJsCommand("about",(async t=>"Wasm-WebTerm version 0.0.7.\nBackend: "+(this._worker?"WebWorker":"Prompts Fallback")+".\n")),this.registerJsCommand("clear",(async t=>await this.printWelcomeMessagePlusControlSequences())),this._worker instanceof Promise&&await this._worker,this._xterm.onData((t=>this._onXtermData(t))),await this.onActivated(),this._xterm.writeln(await this.printWelcomeMessagePlusControlSequences(),(()=>{this.repl(),setTimeout((()=>this._xterm.focus()),1)}))}async dispose(){await this._xtermEcho.dispose(),await this._xtermFitAddon.dispose(),this._worker&&this._terminateWorker(),await this.onDisposed()}registerJsCommand(t,e,r){return this._jsCommands.set(t,{name:t,callback:e,autocomplete:r}),this}unregisterJsCommand(t){return this._jsCommands.delete(t)}get jsCommands(){return this._jsCommands}async repl(){try{const t=await this._xtermPrompt(),e=await this._xtermEcho.read(t);if(""==e.trim())return this.repl();await this.onBeforeCommandRun(),this._xterm.write("\r\n"),await this.runLine(e),"\n"!=this._outputBuffer.slice(-1)&&this._xterm.write("\r\n"),this._xterm.write("\r\n"),await this.onCommandRunFinish(),this.repl()}catch(t){}}_parseCommands(t){let e=!1,r=!1;const n=F()(t,(t=>{e=!0})),i=[];let o=[];t:for(let t=0;t<n.length;++t){const s=n[t];if("string"==typeof s){if(0===o.length&&s.match(/^\w+=.*$/)){e=!0;continue}o.push(s)}else{if("|"!==s.op){r=!0,console.error("Unsupported shell operator:",s.op);break t}i.push(o),o=[]}}return i.push(o),e&&this._stderr("[1m[[33mWARN[39m][0m Environment variables are not supported!\n"),r&&this._stderr("[1m[[33mWARN[39m][0m Advanced bash features are not supported! Only the pipe '|' works for now.\n"),i}async runLine(t){try{let e=null;this._suppressOutputs=!1;const r=this._parseCommands(t);for(const[t,n]of r.entries()){const i=n.shift(),o=this._jsCommands.get(i);if("function"==typeof o?.callback){const i=o.callback(n,e);let s;if(i.then)s=(await i||"").toString();else if(i.next)for await(let t of i)s=null==s?t:s+t;else s=i.toString();t==r.length-1?this._stdout(s):e=s||null}else null==o?t<r.length-1?e=(await this.runWasmCommandHeadless(i,n,e)).stdout:(await this.runWasmCommand(i,n,e),e=null):console.error("command is defined but has no function:",i)}}catch(t){"\n"!=this._outputBuffer.slice(-1)&&this._stderr("\n"),this._stderr(`[1m[[31mERROR[39m][0m ${t.toString()}\n`),console.error("Error running line:",t)}}runWasmCommand(t,e,r,n){if(console.log("called runWasmCommand:",t,e),this.isRunningCommand)throw"WasmWebTerm is already running a command";this.isRunningCommand=!0,this._suppressOutputs=!1,this._outputBuffer="";const i=E((async r=>{console.log("command finished:",t,e),this.isRunningCommand=!1,this._wasmFsFiles=r,await this.onFileSystemUpdate(this._wasmFsFiles),this._stdoutBuffer.flush(),this._stderrBuffer.flush(),this._waitForOutputPause().then((()=>{"function"==typeof n&&n(),this._runWasmCommandPromise?.resolve()}))})),o=E((t=>this._stderr(t+"\n")));return this._stdout("loading web assembly ..."),this._getOrFetchWasmModule(t).then((n=>{this._xterm.write("[2K\r"),this._worker?this._worker.runCommand(t,n.module,n.type,e,this._stdinProxy,this._stdoutProxy,this._stderrProxy,this._wasmFsFiles,i,o,null,r,n.runtime):this._wasmRunner.runCommand(t,n.module,n.type,e,null,this._stdoutProxy,this._stderrProxy,this._wasmFsFiles,i,o,null,r,n.runtime)})).catch((t=>{this.isRunningCommand=!1,this._runWasmCommandPromise?.reject(t)})),new Promise(((t,e)=>this._runWasmCommandPromise={resolve:t,reject:e}))}runWasmCommandHeadless(t,e,r,n){if(this.isRunningCommand)throw"WasmWebTerm is already running a command";this.isRunningCommand=!0;let i={resolve:()=>{},reject:()=>{}};const o=E((t=>{this.isRunningCommand=!1,this._stdoutBuffer.flush(),this._stderrBuffer.flush(),"function"==typeof n&&n(t),i.resolve(t)})),s=E((t=>this._stderr(t+"\n"))),a=E((()=>{}));return this._getOrFetchWasmModule(t).then((n=>{this._worker?this._worker.runCommandHeadless(t,n.module,n.type,e,this._wasmFsFiles,o,s,a,r,n.runtime):this._wasmRunner.runCommandHeadless(t,n.module,n.type,e,this._wasmFsFiles,o,s,a,r,n.runtime)})).catch((t=>{this.isRunningCommand=!1,i.reject(t)})),new Promise(((t,e)=>i={resolve:t,reject:e}))}_getOrFetchWasmModule(t){return new Promise((async(e,r)=>{let n,i,o=!1;if(this._wasmModules.forEach((e=>{e.name==t&&(n=e)})),n?.module instanceof WebAssembly.Module)e(n);else try{if(n={name:t,type:"emscripten",module:void 0},null!=this.wasmBinaryPath){const e=await fetch(this.wasmBinaryPath+"/"+t+".wasm");if(i=await e.arrayBuffer(),e?.ok&&WebAssembly.validate(i)){const e=await fetch(this.wasmBinaryPath+"/"+t+".js");if(e?.ok){const t=await e.arrayBuffer();"<"!=String.fromCharCode(new Uint8Array(t).subarray(0,1).toString())&&(n.runtime=t)}n.runtime||(n.type="wasmer"),o=!0}else{const e=await fetch(this.wasmBinaryPath+"/"+t+".lnk");if(e?.ok){const t=await e.text(),r=this.wasmBinaryPath+"/"+t+".wasm",s=await fetch(r);if(s?.ok&&(i=await s.arrayBuffer(),WebAssembly.validate(i))){const e=await fetch(this.wasmBinaryPath+"/"+t+".js");if(e?.ok){const t=await e.arrayBuffer();"<"!=String.fromCharCode(new Uint8Array(t).subarray(0,1).toString())&&(n.runtime=t)}n.runtime||(n.type="wasmer"),o=!0}}}}o||(i=await Iu.getWasmBinaryFromCommand(t),n.type="wasmer"),n.module=await WebAssembly.compile(i),this._wasmModules.push(n),e(n)}catch(t){r(t)}}))}_initWasmModuleDragAndDrop(){this._xterm.element.addEventListener("dragenter",(t=>{this._xterm.element.style.opacity="0.8"})),this._xterm.element.addEventListener("dragover",(t=>{t.preventDefault(),this._xterm.element.style.opacity="0.8"})),this._xterm.element.addEventListener("dragleave",(t=>{this._xterm.element.style.opacity=""})),this._xterm.element.addEventListener("drop",(async t=>{t.preventDefault();let e=[];if(t.dataTransfer.items)for(let r=0;r<t.dataTransfer.items.length;r++)if("file"==t.dataTransfer.items[r].kind)e.push(t.dataTransfer.items[r].getAsFile());else for(let r=0;r<t.dataTransfer.files.length;r++)e.push(t.dataTransfer.files[r]);for(let t=0;t<e.length;t++){const r=e[t];if(r.name.endsWith(".wasm")){const t=r.name.replace(/\.wasm$/,"");if(this._wasmModules=this._wasmModules.filter((e=>e.name!=t)),e.some((e=>e.name==t+".js"))){const n=e.find((e=>e.name==t+".js")),i=await WebAssembly.compile(await r.arrayBuffer());this._wasmModules.push({name:t,type:"emscripten",runtime:await n.arrayBuffer(),module:i}),alert("Emscripten Wasm Module added: "+t)}else{const e=await WebAssembly.compile(await r.arrayBuffer());this._wasmModules.push({name:t,type:"wasmer",module:e}),alert("WASI Module added: "+t)}}}this._xterm.element.style.opacity=""}),!1)}_initWorker(){this._worker=new Promise((async t=>{this._pauseBuffer=new Int32Array(new SharedArrayBuffer(1*Int32Array.BYTES_PER_ELEMENT)),this._stdinBuffer=new Int32Array(new SharedArrayBuffer(1e3*Int32Array.BYTES_PER_ELEMENT));let e=new Blob(['/*! For license information please see worker.compiled.js.LICENSE.txt */\n!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.main=e():t.main=e()}(self,(()=>(()=>{var t={788:(t,e,r)=>{"use strict";const n=r(983),i=r(32),o=r(975),s=r(621),a={hrtime:r(918).default(i.default),exit:t=>{throw new s.WASIExitError(t)},kill:t=>{throw new s.WASIKillError(t)},randomFillSync:n.randomFillSync,isTTY:()=>!0,path:o,fs:null};e.A=a},524:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(395);e.WASI_ESUCCESS=0,e.WASI_E2BIG=1,e.WASI_EACCES=2,e.WASI_EADDRINUSE=3,e.WASI_EADDRNOTAVAIL=4,e.WASI_EAFNOSUPPORT=5,e.WASI_EAGAIN=6,e.WASI_EALREADY=7,e.WASI_EBADF=8,e.WASI_EBADMSG=9,e.WASI_EBUSY=10,e.WASI_ECANCELED=11,e.WASI_ECHILD=12,e.WASI_ECONNABORTED=13,e.WASI_ECONNREFUSED=14,e.WASI_ECONNRESET=15,e.WASI_EDEADLK=16,e.WASI_EDESTADDRREQ=17,e.WASI_EDOM=18,e.WASI_EDQUOT=19,e.WASI_EEXIST=20,e.WASI_EFAULT=21,e.WASI_EFBIG=22,e.WASI_EHOSTUNREACH=23,e.WASI_EIDRM=24,e.WASI_EILSEQ=25,e.WASI_EINPROGRESS=26,e.WASI_EINTR=27,e.WASI_EINVAL=28,e.WASI_EIO=29,e.WASI_EISCONN=30,e.WASI_EISDIR=31,e.WASI_ELOOP=32,e.WASI_EMFILE=33,e.WASI_EMLINK=34,e.WASI_EMSGSIZE=35,e.WASI_EMULTIHOP=36,e.WASI_ENAMETOOLONG=37,e.WASI_ENETDOWN=38,e.WASI_ENETRESET=39,e.WASI_ENETUNREACH=40,e.WASI_ENFILE=41,e.WASI_ENOBUFS=42,e.WASI_ENODEV=43,e.WASI_ENOENT=44,e.WASI_ENOEXEC=45,e.WASI_ENOLCK=46,e.WASI_ENOLINK=47,e.WASI_ENOMEM=48,e.WASI_ENOMSG=49,e.WASI_ENOPROTOOPT=50,e.WASI_ENOSPC=51,e.WASI_ENOSYS=52,e.WASI_ENOTCONN=53,e.WASI_ENOTDIR=54,e.WASI_ENOTEMPTY=55,e.WASI_ENOTRECOVERABLE=56,e.WASI_ENOTSOCK=57,e.WASI_ENOTSUP=58,e.WASI_ENOTTY=59,e.WASI_ENXIO=60,e.WASI_EOVERFLOW=61,e.WASI_EOWNERDEAD=62,e.WASI_EPERM=63,e.WASI_EPIPE=64,e.WASI_EPROTO=65,e.WASI_EPROTONOSUPPORT=66,e.WASI_EPROTOTYPE=67,e.WASI_ERANGE=68,e.WASI_EROFS=69,e.WASI_ESPIPE=70,e.WASI_ESRCH=71,e.WASI_ESTALE=72,e.WASI_ETIMEDOUT=73,e.WASI_ETXTBSY=74,e.WASI_EXDEV=75,e.WASI_ENOTCAPABLE=76,e.WASI_SIGABRT=0,e.WASI_SIGALRM=1,e.WASI_SIGBUS=2,e.WASI_SIGCHLD=3,e.WASI_SIGCONT=4,e.WASI_SIGFPE=5,e.WASI_SIGHUP=6,e.WASI_SIGILL=7,e.WASI_SIGINT=8,e.WASI_SIGKILL=9,e.WASI_SIGPIPE=10,e.WASI_SIGQUIT=11,e.WASI_SIGSEGV=12,e.WASI_SIGSTOP=13,e.WASI_SIGTERM=14,e.WASI_SIGTRAP=15,e.WASI_SIGTSTP=16,e.WASI_SIGTTIN=17,e.WASI_SIGTTOU=18,e.WASI_SIGURG=19,e.WASI_SIGUSR1=20,e.WASI_SIGUSR2=21,e.WASI_SIGVTALRM=22,e.WASI_SIGXCPU=23,e.WASI_SIGXFSZ=24,e.WASI_FILETYPE_UNKNOWN=0,e.WASI_FILETYPE_BLOCK_DEVICE=1,e.WASI_FILETYPE_CHARACTER_DEVICE=2,e.WASI_FILETYPE_DIRECTORY=3,e.WASI_FILETYPE_REGULAR_FILE=4,e.WASI_FILETYPE_SOCKET_DGRAM=5,e.WASI_FILETYPE_SOCKET_STREAM=6,e.WASI_FILETYPE_SYMBOLIC_LINK=7,e.WASI_FDFLAG_APPEND=1,e.WASI_FDFLAG_DSYNC=2,e.WASI_FDFLAG_NONBLOCK=4,e.WASI_FDFLAG_RSYNC=8,e.WASI_FDFLAG_SYNC=16,e.WASI_RIGHT_FD_DATASYNC=n.BigIntPolyfill(1),e.WASI_RIGHT_FD_READ=n.BigIntPolyfill(2),e.WASI_RIGHT_FD_SEEK=n.BigIntPolyfill(4),e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS=n.BigIntPolyfill(8),e.WASI_RIGHT_FD_SYNC=n.BigIntPolyfill(16),e.WASI_RIGHT_FD_TELL=n.BigIntPolyfill(32),e.WASI_RIGHT_FD_WRITE=n.BigIntPolyfill(64),e.WASI_RIGHT_FD_ADVISE=n.BigIntPolyfill(128),e.WASI_RIGHT_FD_ALLOCATE=n.BigIntPolyfill(256),e.WASI_RIGHT_PATH_CREATE_DIRECTORY=n.BigIntPolyfill(512),e.WASI_RIGHT_PATH_CREATE_FILE=n.BigIntPolyfill(1024),e.WASI_RIGHT_PATH_LINK_SOURCE=n.BigIntPolyfill(2048),e.WASI_RIGHT_PATH_LINK_TARGET=n.BigIntPolyfill(4096),e.WASI_RIGHT_PATH_OPEN=n.BigIntPolyfill(8192),e.WASI_RIGHT_FD_READDIR=n.BigIntPolyfill(16384),e.WASI_RIGHT_PATH_READLINK=n.BigIntPolyfill(32768),e.WASI_RIGHT_PATH_RENAME_SOURCE=n.BigIntPolyfill(65536),e.WASI_RIGHT_PATH_RENAME_TARGET=n.BigIntPolyfill(131072),e.WASI_RIGHT_PATH_FILESTAT_GET=n.BigIntPolyfill(262144),e.WASI_RIGHT_PATH_FILESTAT_SET_SIZE=n.BigIntPolyfill(524288),e.WASI_RIGHT_PATH_FILESTAT_SET_TIMES=n.BigIntPolyfill(1048576),e.WASI_RIGHT_FD_FILESTAT_GET=n.BigIntPolyfill(2097152),e.WASI_RIGHT_FD_FILESTAT_SET_SIZE=n.BigIntPolyfill(4194304),e.WASI_RIGHT_FD_FILESTAT_SET_TIMES=n.BigIntPolyfill(8388608),e.WASI_RIGHT_PATH_SYMLINK=n.BigIntPolyfill(16777216),e.WASI_RIGHT_PATH_REMOVE_DIRECTORY=n.BigIntPolyfill(33554432),e.WASI_RIGHT_PATH_UNLINK_FILE=n.BigIntPolyfill(67108864),e.WASI_RIGHT_POLL_FD_READWRITE=n.BigIntPolyfill(134217728),e.WASI_RIGHT_SOCK_SHUTDOWN=n.BigIntPolyfill(268435456),e.RIGHTS_ALL=e.WASI_RIGHT_FD_DATASYNC|e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_SEEK|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_SYNC|e.WASI_RIGHT_FD_TELL|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_ADVISE|e.WASI_RIGHT_FD_ALLOCATE|e.WASI_RIGHT_PATH_CREATE_DIRECTORY|e.WASI_RIGHT_PATH_CREATE_FILE|e.WASI_RIGHT_PATH_LINK_SOURCE|e.WASI_RIGHT_PATH_LINK_TARGET|e.WASI_RIGHT_PATH_OPEN|e.WASI_RIGHT_FD_READDIR|e.WASI_RIGHT_PATH_READLINK|e.WASI_RIGHT_PATH_RENAME_SOURCE|e.WASI_RIGHT_PATH_RENAME_TARGET|e.WASI_RIGHT_PATH_FILESTAT_GET|e.WASI_RIGHT_PATH_FILESTAT_SET_SIZE|e.WASI_RIGHT_PATH_FILESTAT_SET_TIMES|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_FD_FILESTAT_SET_TIMES|e.WASI_RIGHT_FD_FILESTAT_SET_SIZE|e.WASI_RIGHT_PATH_SYMLINK|e.WASI_RIGHT_PATH_UNLINK_FILE|e.WASI_RIGHT_PATH_REMOVE_DIRECTORY|e.WASI_RIGHT_POLL_FD_READWRITE|e.WASI_RIGHT_SOCK_SHUTDOWN,e.RIGHTS_BLOCK_DEVICE_BASE=e.RIGHTS_ALL,e.RIGHTS_BLOCK_DEVICE_INHERITING=e.RIGHTS_ALL,e.RIGHTS_CHARACTER_DEVICE_BASE=e.RIGHTS_ALL,e.RIGHTS_CHARACTER_DEVICE_INHERITING=e.RIGHTS_ALL,e.RIGHTS_REGULAR_FILE_BASE=e.WASI_RIGHT_FD_DATASYNC|e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_SEEK|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_SYNC|e.WASI_RIGHT_FD_TELL|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_ADVISE|e.WASI_RIGHT_FD_ALLOCATE|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_FD_FILESTAT_SET_SIZE|e.WASI_RIGHT_FD_FILESTAT_SET_TIMES|e.WASI_RIGHT_POLL_FD_READWRITE,e.RIGHTS_REGULAR_FILE_INHERITING=n.BigIntPolyfill(0),e.RIGHTS_DIRECTORY_BASE=e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_SYNC|e.WASI_RIGHT_FD_ADVISE|e.WASI_RIGHT_PATH_CREATE_DIRECTORY|e.WASI_RIGHT_PATH_CREATE_FILE|e.WASI_RIGHT_PATH_LINK_SOURCE|e.WASI_RIGHT_PATH_LINK_TARGET|e.WASI_RIGHT_PATH_OPEN|e.WASI_RIGHT_FD_READDIR|e.WASI_RIGHT_PATH_READLINK|e.WASI_RIGHT_PATH_RENAME_SOURCE|e.WASI_RIGHT_PATH_RENAME_TARGET|e.WASI_RIGHT_PATH_FILESTAT_GET|e.WASI_RIGHT_PATH_FILESTAT_SET_SIZE|e.WASI_RIGHT_PATH_FILESTAT_SET_TIMES|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_FD_FILESTAT_SET_TIMES|e.WASI_RIGHT_PATH_SYMLINK|e.WASI_RIGHT_PATH_UNLINK_FILE|e.WASI_RIGHT_PATH_REMOVE_DIRECTORY|e.WASI_RIGHT_POLL_FD_READWRITE,e.RIGHTS_DIRECTORY_INHERITING=e.RIGHTS_DIRECTORY_BASE|e.RIGHTS_REGULAR_FILE_BASE,e.RIGHTS_SOCKET_BASE=e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_POLL_FD_READWRITE|e.WASI_RIGHT_SOCK_SHUTDOWN,e.RIGHTS_SOCKET_INHERITING=e.RIGHTS_ALL,e.RIGHTS_TTY_BASE=e.WASI_RIGHT_FD_READ|e.WASI_RIGHT_FD_FDSTAT_SET_FLAGS|e.WASI_RIGHT_FD_WRITE|e.WASI_RIGHT_FD_FILESTAT_GET|e.WASI_RIGHT_POLL_FD_READWRITE,e.RIGHTS_TTY_INHERITING=n.BigIntPolyfill(0),e.WASI_CLOCK_REALTIME=0,e.WASI_CLOCK_MONOTONIC=1,e.WASI_CLOCK_PROCESS_CPUTIME_ID=2,e.WASI_CLOCK_THREAD_CPUTIME_ID=3,e.WASI_EVENTTYPE_CLOCK=0,e.WASI_EVENTTYPE_FD_READ=1,e.WASI_EVENTTYPE_FD_WRITE=2,e.WASI_FILESTAT_SET_ATIM=1,e.WASI_FILESTAT_SET_ATIM_NOW=2,e.WASI_FILESTAT_SET_MTIM=4,e.WASI_FILESTAT_SET_MTIM_NOW=8,e.WASI_O_CREAT=1,e.WASI_O_DIRECTORY=2,e.WASI_O_EXCL=4,e.WASI_O_TRUNC=8,e.WASI_PREOPENTYPE_DIR=0,e.WASI_DIRCOOKIE_START=0,e.WASI_STDIN_FILENO=0,e.WASI_STDOUT_FILENO=1,e.WASI_STDERR_FILENO=2,e.WASI_WHENCE_SET=0,e.WASI_WHENCE_CUR=1,e.WASI_WHENCE_END=2,e.ERROR_MAP={E2BIG:e.WASI_E2BIG,EACCES:e.WASI_EACCES,EADDRINUSE:e.WASI_EADDRINUSE,EADDRNOTAVAIL:e.WASI_EADDRNOTAVAIL,EAFNOSUPPORT:e.WASI_EAFNOSUPPORT,EALREADY:e.WASI_EALREADY,EAGAIN:e.WASI_EAGAIN,EBADF:e.WASI_EBADF,EBADMSG:e.WASI_EBADMSG,EBUSY:e.WASI_EBUSY,ECANCELED:e.WASI_ECANCELED,ECHILD:e.WASI_ECHILD,ECONNABORTED:e.WASI_ECONNABORTED,ECONNREFUSED:e.WASI_ECONNREFUSED,ECONNRESET:e.WASI_ECONNRESET,EDEADLOCK:e.WASI_EDEADLK,EDESTADDRREQ:e.WASI_EDESTADDRREQ,EDOM:e.WASI_EDOM,EDQUOT:e.WASI_EDQUOT,EEXIST:e.WASI_EEXIST,EFAULT:e.WASI_EFAULT,EFBIG:e.WASI_EFBIG,EHOSTDOWN:e.WASI_EHOSTUNREACH,EHOSTUNREACH:e.WASI_EHOSTUNREACH,EIDRM:e.WASI_EIDRM,EILSEQ:e.WASI_EILSEQ,EINPROGRESS:e.WASI_EINPROGRESS,EINTR:e.WASI_EINTR,EINVAL:e.WASI_EINVAL,EIO:e.WASI_EIO,EISCONN:e.WASI_EISCONN,EISDIR:e.WASI_EISDIR,ELOOP:e.WASI_ELOOP,EMFILE:e.WASI_EMFILE,EMLINK:e.WASI_EMLINK,EMSGSIZE:e.WASI_EMSGSIZE,EMULTIHOP:e.WASI_EMULTIHOP,ENAMETOOLONG:e.WASI_ENAMETOOLONG,ENETDOWN:e.WASI_ENETDOWN,ENETRESET:e.WASI_ENETRESET,ENETUNREACH:e.WASI_ENETUNREACH,ENFILE:e.WASI_ENFILE,ENOBUFS:e.WASI_ENOBUFS,ENODEV:e.WASI_ENODEV,ENOENT:e.WASI_ENOENT,ENOEXEC:e.WASI_ENOEXEC,ENOLCK:e.WASI_ENOLCK,ENOLINK:e.WASI_ENOLINK,ENOMEM:e.WASI_ENOMEM,ENOMSG:e.WASI_ENOMSG,ENOPROTOOPT:e.WASI_ENOPROTOOPT,ENOSPC:e.WASI_ENOSPC,ENOSYS:e.WASI_ENOSYS,ENOTCONN:e.WASI_ENOTCONN,ENOTDIR:e.WASI_ENOTDIR,ENOTEMPTY:e.WASI_ENOTEMPTY,ENOTRECOVERABLE:e.WASI_ENOTRECOVERABLE,ENOTSOCK:e.WASI_ENOTSOCK,ENOTTY:e.WASI_ENOTTY,ENXIO:e.WASI_ENXIO,EOVERFLOW:e.WASI_EOVERFLOW,EOWNERDEAD:e.WASI_EOWNERDEAD,EPERM:e.WASI_EPERM,EPIPE:e.WASI_EPIPE,EPROTO:e.WASI_EPROTO,EPROTONOSUPPORT:e.WASI_EPROTONOSUPPORT,EPROTOTYPE:e.WASI_EPROTOTYPE,ERANGE:e.WASI_ERANGE,EROFS:e.WASI_EROFS,ESPIPE:e.WASI_ESPIPE,ESRCH:e.WASI_ESRCH,ESTALE:e.WASI_ESTALE,ETIMEDOUT:e.WASI_ETIMEDOUT,ETXTBSY:e.WASI_ETXTBSY,EXDEV:e.WASI_EXDEV},e.SIGNAL_MAP={[e.WASI_SIGHUP]:"SIGHUP",[e.WASI_SIGINT]:"SIGINT",[e.WASI_SIGQUIT]:"SIGQUIT",[e.WASI_SIGILL]:"SIGILL",[e.WASI_SIGTRAP]:"SIGTRAP",[e.WASI_SIGABRT]:"SIGABRT",[e.WASI_SIGBUS]:"SIGBUS",[e.WASI_SIGFPE]:"SIGFPE",[e.WASI_SIGKILL]:"SIGKILL",[e.WASI_SIGUSR1]:"SIGUSR1",[e.WASI_SIGSEGV]:"SIGSEGV",[e.WASI_SIGUSR2]:"SIGUSR2",[e.WASI_SIGPIPE]:"SIGPIPE",[e.WASI_SIGALRM]:"SIGALRM",[e.WASI_SIGTERM]:"SIGTERM",[e.WASI_SIGCHLD]:"SIGCHLD",[e.WASI_SIGCONT]:"SIGCONT",[e.WASI_SIGSTOP]:"SIGSTOP",[e.WASI_SIGTSTP]:"SIGTSTP",[e.WASI_SIGTTIN]:"SIGTTIN",[e.WASI_SIGTTOU]:"SIGTTOU",[e.WASI_SIGURG]:"SIGURG",[e.WASI_SIGXCPU]:"SIGXCPU",[e.WASI_SIGXFSZ]:"SIGXFSZ",[e.WASI_SIGVTALRM]:"SIGVTALRM"}},621:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(395),i=r(137),o=r(10);let s;const a=r(524),f=a.WASI_RIGHT_FD_DATASYNC|a.WASI_RIGHT_FD_READ|a.WASI_RIGHT_FD_SYNC|a.WASI_RIGHT_FD_ADVISE|a.WASI_RIGHT_FD_FILESTAT_GET|a.WASI_RIGHT_POLL_FD_READWRITE,u=a.WASI_RIGHT_FD_DATASYNC|a.WASI_RIGHT_FD_WRITE|a.WASI_RIGHT_FD_SYNC|a.WASI_RIGHT_FD_ADVISE|a.WASI_RIGHT_FD_FILESTAT_GET|a.WASI_RIGHT_POLL_FD_READWRITE,h=u,c=t=>{const e=Math.trunc(t),r=n.BigIntPolyfill(Math.round(1e6*(t-e)));return n.BigIntPolyfill(e)*n.BigIntPolyfill(1e6)+r},l=t=>{"number"==typeof t&&(t=Math.trunc(t));const e=n.BigIntPolyfill(t);return Number(e/n.BigIntPolyfill(1e6))},p=t=>(...e)=>{try{return t(...e)}catch(t){if(t&&t.code&&"string"==typeof t.code)return a.ERROR_MAP[t.code]||a.WASI_EINVAL;if(t instanceof g)return t.errno;throw t}},d=(t,e)=>{const r=t.FD_MAP.get(e);if(!r)throw new g(a.WASI_EBADF);if(void 0===r.filetype){const n=t.bindings.fs.fstatSync(r.real),{filetype:i,rightsBase:o,rightsInheriting:s}=y(t,e,n);r.filetype=i,r.rights||(r.rights={base:o,inheriting:s})}return r},y=(t,e,r)=>{switch(!0){case r.isBlockDevice():return{filetype:a.WASI_FILETYPE_BLOCK_DEVICE,rightsBase:a.RIGHTS_BLOCK_DEVICE_BASE,rightsInheriting:a.RIGHTS_BLOCK_DEVICE_INHERITING};case r.isCharacterDevice():{const r=a.WASI_FILETYPE_CHARACTER_DEVICE;return void 0!==e&&t.bindings.isTTY(e)?{filetype:r,rightsBase:a.RIGHTS_TTY_BASE,rightsInheriting:a.RIGHTS_TTY_INHERITING}:{filetype:r,rightsBase:a.RIGHTS_CHARACTER_DEVICE_BASE,rightsInheriting:a.RIGHTS_CHARACTER_DEVICE_INHERITING}}case r.isDirectory():return{filetype:a.WASI_FILETYPE_DIRECTORY,rightsBase:a.RIGHTS_DIRECTORY_BASE,rightsInheriting:a.RIGHTS_DIRECTORY_INHERITING};case r.isFIFO():return{filetype:a.WASI_FILETYPE_SOCKET_STREAM,rightsBase:a.RIGHTS_SOCKET_BASE,rightsInheriting:a.RIGHTS_SOCKET_INHERITING};case r.isFile():return{filetype:a.WASI_FILETYPE_REGULAR_FILE,rightsBase:a.RIGHTS_REGULAR_FILE_BASE,rightsInheriting:a.RIGHTS_REGULAR_FILE_INHERITING};case r.isSocket():return{filetype:a.WASI_FILETYPE_SOCKET_STREAM,rightsBase:a.RIGHTS_SOCKET_BASE,rightsInheriting:a.RIGHTS_SOCKET_INHERITING};case r.isSymbolicLink():return{filetype:a.WASI_FILETYPE_SYMBOLIC_LINK,rightsBase:n.BigIntPolyfill(0),rightsInheriting:n.BigIntPolyfill(0)};default:return{filetype:a.WASI_FILETYPE_UNKNOWN,rightsBase:n.BigIntPolyfill(0),rightsInheriting:n.BigIntPolyfill(0)}}};class g extends Error{constructor(t){super(),this.errno=t,Object.setPrototypeOf(this,g.prototype)}}e.WASIError=g;class _ extends Error{constructor(t){super(`WASI Exit error: ${t}`),this.code=t,Object.setPrototypeOf(this,_.prototype)}}e.WASIExitError=_;class E extends Error{constructor(t){super(`WASI Kill signal: ${t}`),this.signal=t,Object.setPrototypeOf(this,E.prototype)}}e.WASIKillError=E;class S{constructor(t){let e={};t&&t.preopens?e=t.preopens:t&&t.preopenDirectories&&(e=t.preopenDirectories);let r={};t&&t.env&&(r=t.env);let i=[];t&&t.args&&(i=t.args);let _=s;t&&t.bindings&&(_=t.bindings),this.memory=void 0,this.view=void 0,this.bindings=_,this.FD_MAP=new Map([[a.WASI_STDIN_FILENO,{real:0,filetype:a.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:f,inheriting:n.BigIntPolyfill(0)},path:void 0}],[a.WASI_STDOUT_FILENO,{real:1,filetype:a.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:u,inheriting:n.BigIntPolyfill(0)},path:void 0}],[a.WASI_STDERR_FILENO,{real:2,filetype:a.WASI_FILETYPE_CHARACTER_DEVICE,rights:{base:h,inheriting:n.BigIntPolyfill(0)},path:void 0}]]);let E=this.bindings.fs,S=this.bindings.path;for(const[t,r]of Object.entries(e)){const e=E.openSync(r,E.constants.O_RDONLY),n=[...this.FD_MAP.keys()].reverse()[0]+1;this.FD_MAP.set(n,{real:e,filetype:a.WASI_FILETYPE_DIRECTORY,rights:{base:a.RIGHTS_DIRECTORY_BASE,inheriting:a.RIGHTS_DIRECTORY_INHERITING},fakePath:t,path:r})}const m=(t,e)=>(this.refreshMemory(),Array.from({length:e},((e,r)=>{const n=t+8*r,i=this.view.getUint32(n,!0),o=this.view.getUint32(n+4,!0);return new Uint8Array(this.memory.buffer,i,o)}))),I=(t,e)=>{const r=d(this,t);if(e!==n.BigIntPolyfill(0)&&(r.rights.base&e)===n.BigIntPolyfill(0))throw new g(a.WASI_EPERM);return r},A=_.hrtime(),v=t=>{switch(t){case a.WASI_CLOCK_MONOTONIC:return _.hrtime();case a.WASI_CLOCK_REALTIME:return c(Date.now());case a.WASI_CLOCK_PROCESS_CPUTIME_ID:case a.WASI_CLOCK_THREAD_CPUTIME_ID:return _.hrtime()-A;default:return null}};this.wasiImport={args_get:(t,e)=>{this.refreshMemory();let r=t,n=e;return i.forEach((t=>{this.view.setUint32(r,n,!0),r+=4,n+=o.default.from(this.memory.buffer).write(`${t}\\0`,n)})),a.WASI_ESUCCESS},args_sizes_get:(t,e)=>{this.refreshMemory(),this.view.setUint32(t,i.length,!0);const r=i.reduce(((t,e)=>t+o.default.byteLength(e)+1),0);return this.view.setUint32(e,r,!0),a.WASI_ESUCCESS},environ_get:(t,e)=>{this.refreshMemory();let n=t,i=e;return Object.entries(r).forEach((([t,e])=>{this.view.setUint32(n,i,!0),n+=4,i+=o.default.from(this.memory.buffer).write(`${t}=${e}\\0`,i)})),a.WASI_ESUCCESS},environ_sizes_get:(t,e)=>{this.refreshMemory();const n=Object.entries(r).map((([t,e])=>`${t}=${e}\\0`)),i=n.reduce(((t,e)=>t+o.default.byteLength(e)),0);return this.view.setUint32(t,n.length,!0),this.view.setUint32(e,i,!0),a.WASI_ESUCCESS},clock_res_get:(t,e)=>{let r;switch(t){case a.WASI_CLOCK_MONOTONIC:case a.WASI_CLOCK_PROCESS_CPUTIME_ID:case a.WASI_CLOCK_THREAD_CPUTIME_ID:r=n.BigIntPolyfill(1);break;case a.WASI_CLOCK_REALTIME:r=n.BigIntPolyfill(1e3)}return this.view.setBigUint64(e,r),a.WASI_ESUCCESS},clock_time_get:(t,e,r)=>{this.refreshMemory();const i=v(t);return null===i?a.WASI_EINVAL:(this.view.setBigUint64(r,n.BigIntPolyfill(i),!0),a.WASI_ESUCCESS)},fd_advise:p(((t,e,r,n)=>(I(t,a.WASI_RIGHT_FD_ADVISE),a.WASI_ENOSYS))),fd_allocate:p(((t,e,r)=>(I(t,a.WASI_RIGHT_FD_ALLOCATE),a.WASI_ENOSYS))),fd_close:p((t=>{const e=I(t,n.BigIntPolyfill(0));return E.closeSync(e.real),this.FD_MAP.delete(t),a.WASI_ESUCCESS})),fd_datasync:p((t=>{const e=I(t,a.WASI_RIGHT_FD_DATASYNC);return E.fdatasyncSync(e.real),a.WASI_ESUCCESS})),fd_fdstat_get:p(((t,e)=>{const r=I(t,n.BigIntPolyfill(0));return this.refreshMemory(),this.view.setUint8(e,r.filetype),this.view.setUint16(e+2,0,!0),this.view.setUint16(e+4,0,!0),this.view.setBigUint64(e+8,n.BigIntPolyfill(r.rights.base),!0),this.view.setBigUint64(e+8+8,n.BigIntPolyfill(r.rights.inheriting),!0),a.WASI_ESUCCESS})),fd_fdstat_set_flags:p(((t,e)=>(I(t,a.WASI_RIGHT_FD_FDSTAT_SET_FLAGS),a.WASI_ENOSYS))),fd_fdstat_set_rights:p(((t,e,r)=>{const i=I(t,n.BigIntPolyfill(0));return(i.rights.base|e)>i.rights.base||(i.rights.inheriting|r)>i.rights.inheriting?a.WASI_EPERM:(i.rights.base=e,i.rights.inheriting=r,a.WASI_ESUCCESS)})),fd_filestat_get:p(((t,e)=>{const r=I(t,a.WASI_RIGHT_FD_FILESTAT_GET),i=E.fstatSync(r.real);return this.refreshMemory(),this.view.setBigUint64(e,n.BigIntPolyfill(i.dev),!0),e+=8,this.view.setBigUint64(e,n.BigIntPolyfill(i.ino),!0),e+=8,this.view.setUint8(e,r.filetype),e+=8,this.view.setBigUint64(e,n.BigIntPolyfill(i.nlink),!0),e+=8,this.view.setBigUint64(e,n.BigIntPolyfill(i.size),!0),e+=8,this.view.setBigUint64(e,c(i.atimeMs),!0),e+=8,this.view.setBigUint64(e,c(i.mtimeMs),!0),e+=8,this.view.setBigUint64(e,c(i.ctimeMs),!0),a.WASI_ESUCCESS})),fd_filestat_set_size:p(((t,e)=>{const r=I(t,a.WASI_RIGHT_FD_FILESTAT_SET_SIZE);return E.ftruncateSync(r.real,Number(e)),a.WASI_ESUCCESS})),fd_filestat_set_times:p(((t,e,r,n)=>{const i=I(t,a.WASI_RIGHT_FD_FILESTAT_SET_TIMES),o=E.fstatSync(i.real);let s=o.atime,f=o.mtime;const u=l(v(a.WASI_CLOCK_REALTIME)),h=a.WASI_FILESTAT_SET_ATIM|a.WASI_FILESTAT_SET_ATIM_NOW;if((n&h)===h)return a.WASI_EINVAL;const c=a.WASI_FILESTAT_SET_MTIM|a.WASI_FILESTAT_SET_MTIM_NOW;return(n&c)===c?a.WASI_EINVAL:((n&a.WASI_FILESTAT_SET_ATIM)===a.WASI_FILESTAT_SET_ATIM?s=l(e):(n&a.WASI_FILESTAT_SET_ATIM_NOW)===a.WASI_FILESTAT_SET_ATIM_NOW&&(s=u),(n&a.WASI_FILESTAT_SET_MTIM)===a.WASI_FILESTAT_SET_MTIM?f=l(r):(n&a.WASI_FILESTAT_SET_MTIM_NOW)===a.WASI_FILESTAT_SET_MTIM_NOW&&(f=u),E.futimesSync(i.real,new Date(s),new Date(f)),a.WASI_ESUCCESS)})),fd_prestat_get:p(((t,e)=>{const r=I(t,n.BigIntPolyfill(0));return r.path?(this.refreshMemory(),this.view.setUint8(e,a.WASI_PREOPENTYPE_DIR),this.view.setUint32(e+4,o.default.byteLength(r.fakePath),!0),a.WASI_ESUCCESS):a.WASI_EINVAL})),fd_prestat_dir_name:p(((t,e,r)=>{const i=I(t,n.BigIntPolyfill(0));return i.path?(this.refreshMemory(),o.default.from(this.memory.buffer).write(i.fakePath,e,r,"utf8"),a.WASI_ESUCCESS):a.WASI_EINVAL})),fd_pwrite:p(((t,e,r,n,i)=>{const o=I(t,a.WASI_RIGHT_FD_WRITE|a.WASI_RIGHT_FD_SEEK);let s=0;return m(e,r).forEach((t=>{let e=0;for(;e<t.byteLength;)e+=E.writeSync(o.real,t,e,t.byteLength-e,Number(n)+s+e);s+=e})),this.view.setUint32(i,s,!0),a.WASI_ESUCCESS})),fd_write:p(((t,e,r,i)=>{const o=I(t,a.WASI_RIGHT_FD_WRITE);let s=0;return m(e,r).forEach((t=>{let e=0;for(;e<t.byteLength;){const r=E.writeSync(o.real,t,e,t.byteLength-e,o.offset?Number(o.offset):null);o.offset&&(o.offset+=n.BigIntPolyfill(r)),e+=r}s+=e})),this.view.setUint32(i,s,!0),a.WASI_ESUCCESS})),fd_pread:p(((t,e,r,n,i)=>{const o=I(t,a.WASI_RIGHT_FD_READ|a.WASI_RIGHT_FD_SEEK);let s=0;t:for(const t of m(e,r)){let e=0;for(;e<t.byteLength;){const r=t.byteLength-e,i=E.readSync(o.real,t,e,t.byteLength-e,Number(n)+s+e);if(e+=i,s+=i,0===i||i<r)break t}s+=e}return this.view.setUint32(i,s,!0),a.WASI_ESUCCESS})),fd_read:p(((t,e,r,i)=>{const o=I(t,a.WASI_RIGHT_FD_READ),s=0===o.real;let f=0;t:for(const t of m(e,r)){let e=0;for(;e<t.byteLength;){let r=t.byteLength-e,i=s||void 0===o.offset?null:Number(o.offset),a=E.readSync(o.real,t,e,r,i);if(s||(o.offset=(o.offset?o.offset:n.BigIntPolyfill(0))+n.BigIntPolyfill(a)),e+=a,f+=a,0===a||a<r)break t}}return this.view.setUint32(i,f,!0),a.WASI_ESUCCESS})),fd_readdir:p(((t,e,r,i,s)=>{const f=I(t,a.WASI_RIGHT_FD_READDIR);this.refreshMemory();const u=E.readdirSync(f.path,{withFileTypes:!0}),h=e;for(let t=Number(i);t<u.length;t+=1){const i=u[t];let s=o.default.byteLength(i.name);if(e-h>r)break;if(this.view.setBigUint64(e,n.BigIntPolyfill(t+1),!0),(e+=8)-h>r)break;const c=E.statSync(S.resolve(f.path,i.name));if(this.view.setBigUint64(e,n.BigIntPolyfill(c.ino),!0),(e+=8)-h>r)break;if(this.view.setUint32(e,s,!0),(e+=4)-h>r)break;let l;switch(!0){case c.isBlockDevice():l=a.WASI_FILETYPE_BLOCK_DEVICE;break;case c.isCharacterDevice():l=a.WASI_FILETYPE_CHARACTER_DEVICE;break;case c.isDirectory():l=a.WASI_FILETYPE_DIRECTORY;break;case c.isFIFO():l=a.WASI_FILETYPE_SOCKET_STREAM;break;case c.isFile():l=a.WASI_FILETYPE_REGULAR_FILE;break;case c.isSocket():l=a.WASI_FILETYPE_SOCKET_STREAM;break;case c.isSymbolicLink():l=a.WASI_FILETYPE_SYMBOLIC_LINK;break;default:l=a.WASI_FILETYPE_UNKNOWN}if(this.view.setUint8(e,l),e+=1,(e+=3)+s>=h+r)break;o.default.from(this.memory.buffer).write(i.name,e),e+=s}const c=e-h;return this.view.setUint32(s,Math.min(c,r),!0),a.WASI_ESUCCESS})),fd_renumber:p(((t,e)=>(I(t,n.BigIntPolyfill(0)),I(e,n.BigIntPolyfill(0)),E.closeSync(this.FD_MAP.get(t).real),this.FD_MAP.set(t,this.FD_MAP.get(e)),this.FD_MAP.delete(e),a.WASI_ESUCCESS))),fd_seek:p(((t,e,r,i)=>{const o=I(t,a.WASI_RIGHT_FD_SEEK);switch(this.refreshMemory(),r){case a.WASI_WHENCE_CUR:o.offset=(o.offset?o.offset:n.BigIntPolyfill(0))+n.BigIntPolyfill(e);break;case a.WASI_WHENCE_END:const{size:t}=E.fstatSync(o.real);o.offset=n.BigIntPolyfill(t)+n.BigIntPolyfill(e);break;case a.WASI_WHENCE_SET:o.offset=n.BigIntPolyfill(e)}return this.view.setBigUint64(i,o.offset,!0),a.WASI_ESUCCESS})),fd_tell:p(((t,e)=>{const r=I(t,a.WASI_RIGHT_FD_TELL);return this.refreshMemory(),r.offset||(r.offset=n.BigIntPolyfill(0)),this.view.setBigUint64(e,r.offset,!0),a.WASI_ESUCCESS})),fd_sync:p((t=>{const e=I(t,a.WASI_RIGHT_FD_SYNC);return E.fsyncSync(e.real),a.WASI_ESUCCESS})),path_create_directory:p(((t,e,r)=>{const n=I(t,a.WASI_RIGHT_PATH_CREATE_DIRECTORY);if(!n.path)return a.WASI_EINVAL;this.refreshMemory();const i=o.default.from(this.memory.buffer,e,r).toString();return E.mkdirSync(S.resolve(n.path,i)),a.WASI_ESUCCESS})),path_filestat_get:p(((t,e,r,i,s)=>{const f=I(t,a.WASI_RIGHT_PATH_FILESTAT_GET);if(!f.path)return a.WASI_EINVAL;this.refreshMemory();const u=o.default.from(this.memory.buffer,r,i).toString(),h=E.statSync(S.resolve(f.path,u));return this.view.setBigUint64(s,n.BigIntPolyfill(h.dev),!0),s+=8,this.view.setBigUint64(s,n.BigIntPolyfill(h.ino),!0),s+=8,this.view.setUint8(s,y(this,void 0,h).filetype),s+=8,this.view.setBigUint64(s,n.BigIntPolyfill(h.nlink),!0),s+=8,this.view.setBigUint64(s,n.BigIntPolyfill(h.size),!0),s+=8,this.view.setBigUint64(s,c(h.atimeMs),!0),s+=8,this.view.setBigUint64(s,c(h.mtimeMs),!0),s+=8,this.view.setBigUint64(s,c(h.ctimeMs),!0),a.WASI_ESUCCESS})),path_filestat_set_times:p(((t,e,r,n,i,s,f)=>{const u=I(t,a.WASI_RIGHT_PATH_FILESTAT_SET_TIMES);if(!u.path)return a.WASI_EINVAL;this.refreshMemory();const h=E.fstatSync(u.real);let c=h.atime,p=h.mtime;const d=l(v(a.WASI_CLOCK_REALTIME)),y=a.WASI_FILESTAT_SET_ATIM|a.WASI_FILESTAT_SET_ATIM_NOW;if((f&y)===y)return a.WASI_EINVAL;const g=a.WASI_FILESTAT_SET_MTIM|a.WASI_FILESTAT_SET_MTIM_NOW;if((f&g)===g)return a.WASI_EINVAL;(f&a.WASI_FILESTAT_SET_ATIM)===a.WASI_FILESTAT_SET_ATIM?c=l(i):(f&a.WASI_FILESTAT_SET_ATIM_NOW)===a.WASI_FILESTAT_SET_ATIM_NOW&&(c=d),(f&a.WASI_FILESTAT_SET_MTIM)===a.WASI_FILESTAT_SET_MTIM?p=l(s):(f&a.WASI_FILESTAT_SET_MTIM_NOW)===a.WASI_FILESTAT_SET_MTIM_NOW&&(p=d);const _=o.default.from(this.memory.buffer,r,n).toString();return E.utimesSync(S.resolve(u.path,_),new Date(c),new Date(p)),a.WASI_ESUCCESS})),path_link:p(((t,e,r,n,i,s,f)=>{const u=I(t,a.WASI_RIGHT_PATH_LINK_SOURCE),h=I(i,a.WASI_RIGHT_PATH_LINK_TARGET);if(!u.path||!h.path)return a.WASI_EINVAL;this.refreshMemory();const c=o.default.from(this.memory.buffer,r,n).toString(),l=o.default.from(this.memory.buffer,s,f).toString();return E.linkSync(S.resolve(u.path,c),S.resolve(h.path,l)),a.WASI_ESUCCESS})),path_open:p(((t,e,r,i,s,f,u,h,c)=>{const l=I(t,a.WASI_RIGHT_PATH_OPEN);f=n.BigIntPolyfill(f),u=n.BigIntPolyfill(u);const p=(f&(a.WASI_RIGHT_FD_READ|a.WASI_RIGHT_FD_READDIR))!==n.BigIntPolyfill(0),y=(f&(a.WASI_RIGHT_FD_DATASYNC|a.WASI_RIGHT_FD_WRITE|a.WASI_RIGHT_FD_ALLOCATE|a.WASI_RIGHT_FD_FILESTAT_SET_SIZE))!==n.BigIntPolyfill(0);let g;y&&p?g=E.constants.O_RDWR:p?g=E.constants.O_RDONLY:y&&(g=E.constants.O_WRONLY);let _=f|a.WASI_RIGHT_PATH_OPEN,m=f|u;s&a.WASI_O_CREAT&&(g|=E.constants.O_CREAT,_|=a.WASI_RIGHT_PATH_CREATE_FILE),s&a.WASI_O_DIRECTORY&&(g|=E.constants.O_DIRECTORY),s&a.WASI_O_EXCL&&(g|=E.constants.O_EXCL),s&a.WASI_O_TRUNC&&(g|=E.constants.O_TRUNC,_|=a.WASI_RIGHT_PATH_FILESTAT_SET_SIZE),h&a.WASI_FDFLAG_APPEND&&(g|=E.constants.O_APPEND),h&a.WASI_FDFLAG_DSYNC&&(E.constants.O_DSYNC?g|=E.constants.O_DSYNC:g|=E.constants.O_SYNC,m|=a.WASI_RIGHT_FD_DATASYNC),h&a.WASI_FDFLAG_NONBLOCK&&(g|=E.constants.O_NONBLOCK),h&a.WASI_FDFLAG_RSYNC&&(E.constants.O_RSYNC?g|=E.constants.O_RSYNC:g|=E.constants.O_SYNC,m|=a.WASI_RIGHT_FD_SYNC),h&a.WASI_FDFLAG_SYNC&&(g|=E.constants.O_SYNC,m|=a.WASI_RIGHT_FD_SYNC),!y||g&(E.constants.O_APPEND|E.constants.O_TRUNC)||(m|=a.WASI_RIGHT_FD_SEEK),this.refreshMemory();const A=o.default.from(this.memory.buffer,r,i).toString(),v=S.resolve(l.path,A);if(S.relative(l.path,v).startsWith(".."))return a.WASI_ENOTCAPABLE;let w,T,b;try{if(w=E.realpathSync(v),S.relative(l.path,w).startsWith(".."))return a.WASI_ENOTCAPABLE}catch(t){if("ENOENT"!==t.code)throw t;w=v}try{T=E.statSync(w).isDirectory()}catch(t){}b=!y&&T?E.openSync(w,E.constants.O_RDONLY):E.openSync(w,g);const R=[...this.FD_MAP.keys()].reverse()[0]+1;return this.FD_MAP.set(R,{real:b,filetype:void 0,rights:{base:_,inheriting:m},path:w}),d(this,R),this.view.setUint32(c,R,!0),a.WASI_ESUCCESS})),path_readlink:p(((t,e,r,n,i,s)=>{const f=I(t,a.WASI_RIGHT_PATH_READLINK);if(!f.path)return a.WASI_EINVAL;this.refreshMemory();const u=o.default.from(this.memory.buffer,e,r).toString(),h=S.resolve(f.path,u),c=E.readlinkSync(h),l=o.default.from(this.memory.buffer).write(c,n,i);return this.view.setUint32(s,l,!0),a.WASI_ESUCCESS})),path_remove_directory:p(((t,e,r)=>{const n=I(t,a.WASI_RIGHT_PATH_REMOVE_DIRECTORY);if(!n.path)return a.WASI_EINVAL;this.refreshMemory();const i=o.default.from(this.memory.buffer,e,r).toString();return E.rmdirSync(S.resolve(n.path,i)),a.WASI_ESUCCESS})),path_rename:p(((t,e,r,n,i,s)=>{const f=I(t,a.WASI_RIGHT_PATH_RENAME_SOURCE),u=I(n,a.WASI_RIGHT_PATH_RENAME_TARGET);if(!f.path||!u.path)return a.WASI_EINVAL;this.refreshMemory();const h=o.default.from(this.memory.buffer,e,r).toString(),c=o.default.from(this.memory.buffer,i,s).toString();return E.renameSync(S.resolve(f.path,h),S.resolve(u.path,c)),a.WASI_ESUCCESS})),path_symlink:p(((t,e,r,n,i)=>{const s=I(r,a.WASI_RIGHT_PATH_SYMLINK);if(!s.path)return a.WASI_EINVAL;this.refreshMemory();const f=o.default.from(this.memory.buffer,t,e).toString(),u=o.default.from(this.memory.buffer,n,i).toString();return E.symlinkSync(f,S.resolve(s.path,u)),a.WASI_ESUCCESS})),path_unlink_file:p(((t,e,r)=>{const n=I(t,a.WASI_RIGHT_PATH_UNLINK_FILE);if(!n.path)return a.WASI_EINVAL;this.refreshMemory();const i=o.default.from(this.memory.buffer,e,r).toString();return E.unlinkSync(S.resolve(n.path,i)),a.WASI_ESUCCESS})),poll_oneoff:(t,e,r,i)=>{let o=0,s=0;this.refreshMemory();for(let i=0;i<r;i+=1){const r=this.view.getBigUint64(t,!0);t+=8;const i=this.view.getUint8(t);switch(t+=1,i){case a.WASI_EVENTTYPE_CLOCK:{t+=7,this.view.getBigUint64(t,!0),t+=8;const i=this.view.getUint32(t,!0);t+=4,t+=4;const f=this.view.getBigUint64(t,!0);t+=8,this.view.getBigUint64(t,!0),t+=8;const u=this.view.getUint16(t,!0);t+=2,t+=6;const h=1===u;let c=a.WASI_ESUCCESS;const l=n.BigIntPolyfill(v(i));if(null===l)c=a.WASI_EINVAL;else{const t=h?f:l+f;s=t>s?t:s}this.view.setBigUint64(e,r,!0),e+=8,this.view.setUint16(e,c,!0),e+=2,this.view.setUint8(e,a.WASI_EVENTTYPE_CLOCK),e+=1,e+=5,o+=1;break}case a.WASI_EVENTTYPE_FD_READ:case a.WASI_EVENTTYPE_FD_WRITE:t+=3,this.view.getUint32(t,!0),t+=4,this.view.setBigUint64(e,r,!0),e+=8,this.view.setUint16(e,a.WASI_ENOSYS,!0),e+=2,this.view.setUint8(e,i),e+=1,e+=5,o+=1;break;default:return a.WASI_EINVAL}}for(this.view.setUint32(i,o,!0);_.hrtime()<s;);return a.WASI_ESUCCESS},proc_exit:t=>(_.exit(t),a.WASI_ESUCCESS),proc_raise:t=>t in a.SIGNAL_MAP?(_.kill(a.SIGNAL_MAP[t]),a.WASI_ESUCCESS):a.WASI_EINVAL,random_get:(t,e)=>(this.refreshMemory(),_.randomFillSync(new Uint8Array(this.memory.buffer),t,e),a.WASI_ESUCCESS),sched_yield:()=>a.WASI_ESUCCESS,sock_recv:()=>a.WASI_ENOSYS,sock_send:()=>a.WASI_ENOSYS,sock_shutdown:()=>a.WASI_ENOSYS},t.traceSyscalls&&Object.keys(this.wasiImport).forEach((t=>{const e=this.wasiImport[t];this.wasiImport[t]=function(...r){console.log(`WASI: wasiImport called: ${t} (${r})`);try{let t=e(...r);return console.log(`WASI:  => ${t}`),t}catch(t){throw console.log(`Catched error: ${t}`),t}}}))}refreshMemory(){this.view&&0!==this.view.buffer.byteLength||(this.view=new i.DataViewPolyfill(this.memory.buffer))}setMemory(t){this.memory=t}start(t){const e=t.exports;if(null===e||"object"!=typeof e)throw new Error(`instance.exports must be an Object. Received ${e}.`);const{memory:r}=e;if(!(r instanceof WebAssembly.Memory))throw new Error(`instance.exports.memory must be a WebAssembly.Memory. Recceived ${r}.`);this.setMemory(r),e._start&&e._start()}getImportNamespace(t){let e=null;for(let r of WebAssembly.Module.imports(t))if("function"===r.kind&&r.module.startsWith("wasi_"))if(e){if(e!==r.module)throw new Error("Multiple namespaces detected.")}else e=r.module;return e}getImports(t){switch(this.getImportNamespace(t)){case"wasi_unstable":return{wasi_unstable:this.wasiImport};case"wasi_snapshot_preview1":return{wasi_snapshot_preview1:this.wasiImport};default:throw new Error("Can\'t detect a WASI namespace for the WebAssembly Module")}}}e.default=S,S.defaultBindings=s,e.WASI=S},395:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n="undefined"!=typeof globalThis?globalThis:void 0!==r.g?r.g:{};e.BigIntPolyfill="undefined"!=typeof BigInt?BigInt:n.BigInt||Number},32:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=Math.floor(.001*(Date.now()-performance.now()));e.default=function(t){let e=.001*performance.now(),n=Math.floor(e)+r,i=Math.floor(e%1*1e9);return t&&(n-=t[0],i-=t[1],i<0&&(n--,i+=1e9)),[n,i]}},10:(t,e,r)=>{"use strict";var n=r(287).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=n;e.default=i},137:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(395);let i=DataView;i.prototype.setBigUint64||(i.prototype.setBigUint64=function(t,e,r){let n,i;if(e<2**32)n=Number(e),i=0;else{for(var o=e.toString(2),s="",a=0;a<64-o.length;a++)s+="0";s+=o,i=parseInt(s.substring(0,32),2),n=parseInt(s.substring(32),2)}this.setUint32(t+(r?0:4),n,r),this.setUint32(t+(r?4:0),i,r)},i.prototype.getBigUint64=function(t,e){let r=this.getUint32(t+(e?0:4),e),i=this.getUint32(t+(e?4:0),e);for(var o=r.toString(2),s=i.toString(2),a="",f=0;f<32-o.length;f++)a+="0";return a+=o,n.BigIntPolyfill("0b"+s+a)}),e.DataViewPolyfill=i},918:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=t=>e=>{const r=t(e);return 1e9*r[0]+r[1]}},526:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,o=a(t),s=o[0],f=o[1],u=new i(function(t,e,r){return 3*(e+r)/4-r}(0,s,f)),h=0,c=f>0?s-4:s;for(r=0;r<c;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],u[h++]=e>>16&255,u[h++]=e>>8&255,u[h++]=255&e;return 2===f&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,u[h++]=255&e),1===f&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,u[h++]=e>>8&255,u[h++]=255&e),u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(f(t,a,a+s>u?u:a+s));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},287:(t,e,r)=>{"use strict";var n=r(526),i=r(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=f,e.SlowBuffer=function(t){return+t!=t&&(t=0),f.alloc(+t)},e.INSPECT_MAX_BYTES=50;var s=2147483647;function a(t){if(t>s)throw new RangeError(\'The value "\'+t+\'" is invalid for option "size"\');var e=new Uint8Array(t);return Object.setPrototypeOf(e,f.prototype),e}function f(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError(\'The "string" argument must be of type string. Received type number\');return c(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|y(t,e),n=a(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(H(t,Uint8Array)){var e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(H(t,ArrayBuffer)||t&&H(t.buffer,ArrayBuffer))return p(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(H(t,SharedArrayBuffer)||t&&H(t.buffer,SharedArrayBuffer)))return p(t,e,r);if("number"==typeof t)throw new TypeError(\'The "value" argument must not be of type number. Received type number\');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return f.from(n,e,r);var i=function(t){if(f.isBuffer(t)){var e=0|d(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||x(t.length)?a(0):l(t):"Buffer"===t.type&&Array.isArray(t.data)?l(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return f.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function h(t){if("number"!=typeof t)throw new TypeError(\'"size" argument must be of type number\');if(t<0)throw new RangeError(\'The value "\'+t+\'" is invalid for option "size"\')}function c(t){return h(t),a(t<0?0:0|d(t))}function l(t){for(var e=t.length<0?0:0|d(t.length),r=a(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function p(t,e,r){if(e<0||t.byteLength<e)throw new RangeError(\'"offset" is outside of buffer bounds\');if(t.byteLength<e+(r||0))throw new RangeError(\'"length" is outside of buffer bounds\');var n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,f.prototype),n}function d(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function y(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||H(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError(\'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type \'+typeof t);var r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return M(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return k(t).length;default:if(i)return n?-1:M(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,r);case"utf8":case"utf-8":return b(this,e,r);case"ascii":return O(this,e,r);case"latin1":case"binary":return N(this,e,r);case"base64":return T(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function E(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),x(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=f.from(e,n)),f.isBuffer(e))return 0===e.length?-1:S(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):S(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function S(t,e,r,n,i){var o,s=1,a=t.length,f=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,f/=2,r/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var h=-1;for(o=r;o<a;o++)if(u(t,o)===u(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===f)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(r+f>a&&(r=a-f),o=r;o>=0;o--){for(var c=!0,l=0;l<f;l++)if(u(t,o+l)!==u(e,l)){c=!1;break}if(c)return o}return-1}function m(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(x(a))return s;t[r+s]=a}return s}function I(t,e,r,n){return G(M(e,t.length-r),t,r,n)}function A(t,e,r,n){return G(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function v(t,e,r,n){return G(k(e),t,r,n)}function w(t,e,r,n){return G(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=(r=t.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function T(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function b(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,f,u=t[i],h=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c<=r)switch(c){case 1:u<128&&(h=u);break;case 2:128==(192&(o=t[i+1]))&&(f=(31&u)<<6|63&o)>127&&(h=f);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(f=(15&u)<<12|(63&o)<<6|63&s)>2047&&(f<55296||f>57343)&&(h=f);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(f=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&f<1114112&&(h=f)}null===h?(h=65533,c=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=c}return function(t){var e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=R));return r}(n)}e.kMaxLength=s,f.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),f.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(t,e,r){return function(t,e,r){return h(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},f.allocUnsafe=function(t){return c(t)},f.allocUnsafeSlow=function(t){return c(t)},f.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==f.prototype},f.compare=function(t,e){if(H(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),H(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError(\'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array\');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){if(!Array.isArray(t))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(0===t.length)return f.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=f.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(H(o,Uint8Array))i+o.length>n.length?f.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else{if(!f.isBuffer(o))throw new TypeError(\'"list" argument must be an Array of Buffers\');o.copy(n,i)}i+=o.length}return n},f.byteLength=y,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},f.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?b(this,0,t):g.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(f.prototype[o]=f.prototype.inspect),f.prototype.compare=function(t,e,r,n,i){if(H(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError(\'The "target" argument must be one of type Buffer or Uint8Array. Received type \'+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s),u=this.slice(n,i),h=t.slice(e,r),c=0;c<a;++c)if(u[c]!==h[c]){o=u[c],s=h[c];break}return o<s?-1:s<o?1:0},f.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},f.prototype.indexOf=function(t,e,r){return E(this,t,e,r,!0)},f.prototype.lastIndexOf=function(t,e,r){return E(this,t,e,r,!1)},f.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return m(this,t,e,r);case"utf8":case"utf-8":return I(this,t,e,r);case"ascii":case"latin1":case"binary":return A(this,t,e,r);case"base64":return v(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function O(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function N(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function C(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=Y[t[o]];return i}function L(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function P(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function W(t,e,r,n,i,o){if(!f.isBuffer(t))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(e>i||e<o)throw new RangeError(\'"value" argument is out of bounds\');if(r+n>t.length)throw new RangeError("Index out of range")}function B(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(t,e,r,n,o){return e=+e,r>>>=0,o||B(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function F(t,e,r,n,o){return e=+e,r>>>=0,o||B(t,0,r,8),i.write(t,e,r,n,52,8),r+8}f.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,f.prototype),n},f.prototype.readUintLE=f.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUintBE=f.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},f.prototype.readUint8=f.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},f.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},f.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),i.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),i.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),i.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),i.read(this,t,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||W(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||W(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},f.prototype.writeUint8=f.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,1,255,0),this[e]=255&t,e+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);W(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s|0)-a&255;return e+r},f.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);W(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s|0)-a&255;return e+r},f.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},f.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||W(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeFloatLE=function(t,e,r){return D(this,t,e,!0,r)},f.prototype.writeFloatBE=function(t,e,r){return D(this,t,e,!1,r)},f.prototype.writeDoubleLE=function(t,e,r){return F(this,t,e,!0,r)},f.prototype.writeDoubleBE=function(t,e,r){return F(this,t,e,!1,r)},f.prototype.copy=function(t,e,r,n){if(!f.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},f.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){var i=t.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=f.isBuffer(t)?t:f.from(t,n),a=s.length;if(0===a)throw new TypeError(\'The value "\'+t+\'" is invalid for argument "value"\');for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var U=/[^+/0-9A-Za-z-_]/g;function M(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function k(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function H(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function x(t){return t!=t}var Y=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()},251:(t,e)=>{e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,f=(1<<a)-1,u=f>>1,h=-7,c=r?i-1:0,l=r?-1:1,p=t[e+c];for(c+=l,o=p&(1<<-h)-1,p>>=-h,h+=a;h>0;o=256*o+t[e+c],c+=l,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=256*s+t[e+c],c+=l,h-=8);if(0===o)o=1-u;else{if(o===f)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=u}return(p?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,f,u=8*o-i-1,h=(1<<u)-1,c=h>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),(e+=s+c>=1?l/f:l*Math.pow(2,1-c))*f>=2&&(s++,f/=2),s+c>=h?(a=0,s=h):s+c>=1?(a=(e*f-1)*Math.pow(2,i),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[r+p]=255&s,p+=d,s/=256,u-=8);t[r+p-d]|=128*y}},975:(t,e,r)=>{"use strict";var n=r(606);function i(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function o(t,e){for(var r,n="",i=0,o=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)r=t.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var f=n.lastIndexOf("/");if(f!==n.length-1){-1===f?(n="",i=0):i=(n=n.slice(0,f)).length-1-n.lastIndexOf("/"),o=a,s=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=a,s=0;continue}e&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+t.slice(o+1,a):n=t.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var s={resolve:function(){for(var t,e="",r=!1,s=arguments.length-1;s>=-1&&!r;s--){var a;s>=0?a=arguments[s]:(void 0===t&&(t=n.cwd()),a=t),i(a),0!==a.length&&(e=a+"/"+e,r=47===a.charCodeAt(0))}return e=o(e,!r),r?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(t){if(i(t),0===t.length)return".";var e=47===t.charCodeAt(0),r=47===t.charCodeAt(t.length-1);return 0!==(t=o(t,!e)).length||e||(t="."),t.length>0&&r&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return i(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var r=arguments[e];i(r),r.length>0&&(void 0===t?t=r:t+="/"+r)}return void 0===t?".":s.normalize(t)},relative:function(t,e){if(i(t),i(e),t===e)return"";if((t=s.resolve(t))===(e=s.resolve(e)))return"";for(var r=1;r<t.length&&47===t.charCodeAt(r);++r);for(var n=t.length,o=n-r,a=1;a<e.length&&47===e.charCodeAt(a);++a);for(var f=e.length-a,u=o<f?o:f,h=-1,c=0;c<=u;++c){if(c===u){if(f>u){if(47===e.charCodeAt(a+c))return e.slice(a+c+1);if(0===c)return e.slice(a+c)}else o>u&&(47===t.charCodeAt(r+c)?h=c:0===c&&(h=0));break}var l=t.charCodeAt(r+c);if(l!==e.charCodeAt(a+c))break;47===l&&(h=c)}var p="";for(c=r+h+1;c<=n;++c)c!==n&&47!==t.charCodeAt(c)||(0===p.length?p+="..":p+="/..");return p.length>0?p+e.slice(a+h):(a+=h,47===e.charCodeAt(a)&&++a,e.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(i(t),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,o=!0,s=t.length-1;s>=1;--s)if(47===(e=t.charCodeAt(s))){if(!o){n=s;break}}else o=!1;return-1===n?r?"/":".":r&&1===n?"//":t.slice(0,n)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError(\'"ext" argument must be a string\');i(t);var r,n=0,o=-1,s=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var a=e.length-1,f=-1;for(r=t.length-1;r>=0;--r){var u=t.charCodeAt(r);if(47===u){if(!s){n=r+1;break}}else-1===f&&(s=!1,f=r+1),a>=0&&(u===e.charCodeAt(a)?-1==--a&&(o=r):(a=-1,o=f))}return n===o?o=f:-1===o&&(o=t.length),t.slice(n,o)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!s){n=r+1;break}}else-1===o&&(s=!1,o=r+1);return-1===o?"":t.slice(n,o)},extname:function(t){i(t);for(var e=-1,r=0,n=-1,o=!0,s=0,a=t.length-1;a>=0;--a){var f=t.charCodeAt(a);if(47!==f)-1===n&&(o=!1,n=a+1),46===f?-1===e?e=a:1!==s&&(s=1):-1!==e&&(s=-1);else if(!o){r=a+1;break}}return-1===e||-1===n||0===s||1===s&&e===n-1&&e===r+1?"":t.slice(e,n)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError(\'The "pathObject" argument must be of type Object. Received type \'+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+n:r+"/"+n:n}(0,t)},parse:function(t){i(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var r,n=t.charCodeAt(0),o=47===n;o?(e.root="/",r=1):r=0;for(var s=-1,a=0,f=-1,u=!0,h=t.length-1,c=0;h>=r;--h)if(47!==(n=t.charCodeAt(h)))-1===f&&(u=!1,f=h+1),46===n?-1===s?s=h:1!==c&&(c=1):-1!==s&&(c=-1);else if(!u){a=h+1;break}return-1===s||-1===f||0===c||1===c&&s===f-1&&s===a+1?-1!==f&&(e.base=e.name=0===a&&o?t.slice(1,f):t.slice(a,f)):(0===a&&o?(e.name=t.slice(1,s),e.base=t.slice(1,f)):(e.name=t.slice(a,s),e.base=t.slice(a,f)),e.ext=t.slice(s,f)),a>0?e.dir=t.slice(0,a-1):o&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,t.exports=s},606:t=>{var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var a,f=[],u=!1,h=-1;function c(){u&&a&&(u=!1,a.length?f=a.concat(f):h=-1,f.length&&l())}function l(){if(!u){var t=s(c);u=!0;for(var e=f.length;e;){for(a=f,f=[];++h<e;)a&&a[h].run();h=-1,e=f.length}a=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function d(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];f.push(new p(t,e)),1!==f.length||u||s(l)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=d,n.addListener=d,n.once=d,n.off=d,n.removeListener=d,n.removeAllListeners=d,n.emit=d,n.prependListener=d,n.prependOnceListener=d,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},209:(t,e,r)=>{"use strict";var n=r(606),i=65536,o=r(861).Buffer,s=r.g.crypto||r.g.msCrypto;s&&s.getRandomValues?t.exports=function(t,e){if(t>4294967295)throw new RangeError("requested too many random bytes");var r=o.allocUnsafe(t);if(t>0)if(t>i)for(var a=0;a<t;a+=i)s.getRandomValues(r.slice(a,a+i));else s.getRandomValues(r);return"function"==typeof e?n.nextTick((function(){e(null,r)})):r}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\\nUse Chrome, Firefox or Internet Explorer 11")}},983:(t,e,r)=>{"use strict";var n=r(606);function i(){throw new Error("secure random number generation not supported by this browser\\nuse chrome, FireFox or Internet Explorer 11")}var o=r(861),s=r(209),a=o.Buffer,f=o.kMaxLength,u=r.g.crypto||r.g.msCrypto,h=Math.pow(2,32)-1;function c(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>h||t<0)throw new TypeError("offset must be a uint32");if(t>f||t>e)throw new RangeError("offset out of range")}function l(t,e,r){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>h||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>f)throw new RangeError("buffer too small")}function p(t,e,r,i){if(n.browser){var o=t.buffer,a=new Uint8Array(o,e,r);return u.getRandomValues(a),i?void n.nextTick((function(){i(null,t)})):t}if(!i)return s(r).copy(t,e),t;s(r,(function(r,n){if(r)return i(r);n.copy(t,e),i(null,t)}))}u&&u.getRandomValues||!n.browser?(e.randomFill=function(t,e,n,i){if(!(a.isBuffer(t)||t instanceof r.g.Uint8Array))throw new TypeError(\'"buf" argument must be a Buffer or Uint8Array\');if("function"==typeof e)i=e,e=0,n=t.length;else if("function"==typeof n)i=n,n=t.length-e;else if("function"!=typeof i)throw new TypeError(\'"cb" argument must be a function\');return c(e,t.length),l(n,e,t.length),p(t,e,n,i)},e.randomFillSync=function(t,e,n){if(void 0===e&&(e=0),!(a.isBuffer(t)||t instanceof r.g.Uint8Array))throw new TypeError(\'"buf" argument must be a Buffer or Uint8Array\');return c(e,t.length),void 0===n&&(n=t.length-e),l(n,e,t.length),p(t,e,n)}):(e.randomFill=i,e.randomFillSync=i)},861:(t,e,r)=>{var n=r(287),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{default:()=>qo});const t=Symbol("Comlink.proxy"),e=Symbol("Comlink.endpoint"),i=Symbol("Comlink.releaseProxy"),o=Symbol("Comlink.finalizer"),s=Symbol("Comlink.thrown"),a=t=>"object"==typeof t&&null!==t||"function"==typeof t,f=new Map([["proxy",{canHandle:e=>a(e)&&e[t],serialize(t){const{port1:e,port2:r}=new MessageChannel;return u(t,e),[r,[r]]},deserialize:t=>(t.start(),y(t,[],undefined))}],["throw",{canHandle:t=>a(t)&&s in t,serialize({value:t}){let e;return e=t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[e,[]]},deserialize(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function u(e,r=globalThis,n=["*"]){r.addEventListener("message",(function i(a){if(!a||!a.data)return;if(!function(t,e){for(const r of t){if(e===r||"*"===r)return!0;if(r instanceof RegExp&&r.test(e))return!0}return!1}(n,a.origin))return void console.warn(`Invalid origin \'${a.origin}\' for comlink proxy`);const{id:f,type:c,path:l}=Object.assign({path:[]},a.data),p=(a.data.argumentList||[]).map(S);let d;try{const r=l.slice(0,-1).reduce(((t,e)=>t[e]),e),n=l.reduce(((t,e)=>t[e]),e);switch(c){case"GET":d=n;break;case"SET":r[l.slice(-1)[0]]=S(a.data.value),d=!0;break;case"APPLY":d=n.apply(r,p);break;case"CONSTRUCT":d=function(e){return Object.assign(e,{[t]:!0})}(new n(...p));break;case"ENDPOINT":{const{port1:t,port2:r}=new MessageChannel;u(e,r),d=function(t,e){return _.set(t,e),t}(t,[t])}break;case"RELEASE":d=void 0;break;default:return}}catch(t){d={value:t,[s]:0}}Promise.resolve(d).catch((t=>({value:t,[s]:0}))).then((t=>{const[n,s]=E(t);r.postMessage(Object.assign(Object.assign({},n),{id:f}),s),"RELEASE"===c&&(r.removeEventListener("message",i),h(r),o in e&&"function"==typeof e[o]&&e[o]())})).catch((t=>{const[e,n]=E({value:new TypeError("Unserializable return value"),[s]:0});r.postMessage(Object.assign(Object.assign({},e),{id:f}),n)}))})),r.start&&r.start()}function h(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function c(t){if(t)throw new Error("Proxy has been released and is not useable")}function l(t){return m(t,{type:"RELEASE"}).then((()=>{h(t)}))}const p=new WeakMap,d="FinalizationRegistry"in globalThis&&new FinalizationRegistry((t=>{const e=(p.get(t)||0)-1;p.set(t,e),0===e&&l(t)}));function y(t,r=[],n=function(){}){let o=!1;const s=new Proxy(n,{get(e,n){if(c(o),n===i)return()=>{!function(t){d&&d.unregister(t)}(s),l(t),o=!0};if("then"===n){if(0===r.length)return{then:()=>s};const e=m(t,{type:"GET",path:r.map((t=>t.toString()))}).then(S);return e.then.bind(e)}return y(t,[...r,n])},set(e,n,i){c(o);const[s,a]=E(i);return m(t,{type:"SET",path:[...r,n].map((t=>t.toString())),value:s},a).then(S)},apply(n,i,s){c(o);const a=r[r.length-1];if(a===e)return m(t,{type:"ENDPOINT"}).then(S);if("bind"===a)return y(t,r.slice(0,-1));const[f,u]=g(s);return m(t,{type:"APPLY",path:r.map((t=>t.toString())),argumentList:f},u).then(S)},construct(e,n){c(o);const[i,s]=g(n);return m(t,{type:"CONSTRUCT",path:r.map((t=>t.toString())),argumentList:i},s).then(S)}});return function(t,e){const r=(p.get(e)||0)+1;p.set(e,r),d&&d.register(t,e,t)}(s,t),s}function g(t){const e=t.map(E);return[e.map((t=>t[0])),(r=e.map((t=>t[1])),Array.prototype.concat.apply([],r))];var r}const _=new WeakMap;function E(t){for(const[e,r]of f)if(r.canHandle(t)){const[n,i]=r.serialize(t);return[{type:"HANDLER",name:e,value:n},i]}return[{type:"RAW",value:t},_.get(t)||[]]}function S(t){switch(t.type){case"HANDLER":return f.get(t.name).deserialize(t.value);case"RAW":return t.value}}function m(t,e,r){return new Promise((n=>{const i=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");t.addEventListener("message",(function e(r){r.data&&r.data.id&&r.data.id===i&&(t.removeEventListener("message",e),n(r.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:i},e),r)}))}const I=class{programName;wasmModule;#t;constructor(t,e,r){this.programName=t,this.wasmModule=e,this._loadEmscrJsRuntime(r)}run(t,e,r,n,i,o,s,a,f){console.log("emscr runnable run:",this.programName,t),"function"!=typeof e&&(e=()=>{}),"function"!=typeof r&&(r=()=>{}),"function"!=typeof n&&(n=()=>{}),i instanceof Array||(i=[]),"function"!=typeof o&&(o=()=>{}),"function"!=typeof s&&(s=t=>{console.error(t)}),"function"!=typeof a&&(a=()=>{});let u,h={thisProgramm:this.programName,instantiateWasm:(t,e)=>(WebAssembly.instantiate(this.wasmModule,t).then((t=>e(t,this.wasmModule))),{}),preInit:[()=>{h.TTY.register(h.FS.makedev(5,0),{get_char:t=>e(t),put_char:(t,e)=>{t.output.push(e),r(e)},flush:t=>t.output=[],fsync:t=>console.log("fsynced stdout (EmscriptenRunnable does nothing in this case)")}),h.TTY.register(h.FS.makedev(6,0),{get_char:t=>e(t),put_char:(t,e)=>{t.output.push(e),n(e)},flush:t=>t.output=[],fsync:t=>console.log("fsynced stderr (EmscriptenRunnable does nothing in this case)")})}]};if(f){"string"!=typeof f&&(f=(f||"").toString());let t=0;h.stdin=()=>t<f.length?f.charCodeAt(t++):null}this.#t(h).then((e=>{this._writeFilesToFS(e,i),e.callMain(t),u=this._readFilesFromFS(e),a(u)})).catch((t=>s(t))).finally((()=>o(u||i)))}runHeadless(t,e,r,n,i,o){console.log("emscr runnable run headless:",this.programName,t),"function"!=typeof r&&(r=()=>{});let s="",a="",f="";this.run(t,(()=>{console.log("called runHeadless stdin")}),(t=>{s+=String.fromCharCode(t),a+=String.fromCharCode(t)}),(t=>{s+=String.fromCharCode(t),f+=String.fromCharCode(t)}),e,(()=>r({output:s,stdout:a,stderr:f})),n,i,o)}_readFilesFromFS(t,e="/",r=!0,n=[]){const i=t.FS.lookupPath(e),o=e=>{let n=[];return Object.values(e.contents).forEach((e=>{let i=t.FS.getPath(e);t.FS.isFile(e.mode)&&n.push({name:i,timestamp:e.timestamp,bytes:r?t.FS.readFile(i):new Uint8Array}),t.FS.isDir(e.mode)&&(n=[...n,...o(e)])})),n};let s=o(i.node);return n.length>0&&(s=s.filter((t=>n.some((e=>e.name!=t.name))))),s}_writeFilesToFS(t,e=[]){e.forEach((e=>{try{e.bytes instanceof Uint8Array&&t.FS.writeFile(e.name,e.bytes)}catch(t){console.error(t.name+": "+t.message)}}))}_loadEmscrJsRuntime(t){const e="EmscrJSR_"+this.programName;if(this._isWorkerScope()){let r=new Blob([t],{type:"application/javascript"});importScripts(URL.createObjectURL(r)),console.log(t,r),this.#t=self[e]||self._createPyodideModule}else{if("undefined"==typeof document)throw new Error("can not load emscr js runtime environment");{const r=this.programName+"_emscrJSR";if(!document.getElementById(r)){let e=document.createElement("script");e.type="text/javascript",e.id=r,e.innerHTML=new TextDecoder("utf-8").decode(t),document.head.appendChild(e)}this.#t=window[e]}}}_isWorkerScope(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}};function A(t,e){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},A(t,e)}function v(t,e){function r(){this.constructor=t}A(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function w(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function T(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;t=r.call(t);var n,i=[];try{for(;(void 0===e||0<e--)&&!(n=t.next()).done;)i.push(n.value)}catch(t){var o={error:t}}finally{try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(o)throw o.error}}return i}function b(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(T(arguments[e]));return t}var R="undefined"!=typeof globalThis?globalThis:void 0!==r.g?r.g:{},O="undefined"!=typeof BigInt?BigInt:R.BigInt||Number,N=DataView;N.prototype.setBigUint64||(N.prototype.setBigUint64=function(t,e,r){if(e<Math.pow(2,32)){e=Number(e);var n=0}else{n=e.toString(2),e="";for(var i=0;i<64-n.length;i++)e+="0";e+=n,n=parseInt(e.substring(0,32),2),e=parseInt(e.substring(32),2)}this.setUint32(t+(r?0:4),e,r),this.setUint32(t+(r?4:0),n,r)},N.prototype.getBigUint64=function(t,e){var r=this.getUint32(t+(e?0:4),e);t=this.getUint32(t+(e?4:0),e),r=r.toString(2),t=t.toString(2),e="";for(var n=0;n<32-r.length;n++)e+="0";return O("0b"+t+(e+r))});var C=void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},L=[],P=[],W="undefined"!=typeof Uint8Array?Uint8Array:Array,B=!1;function D(){B=!0;for(var t=0;64>t;++t)L[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t],P["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;P[45]=62,P[95]=63}function F(t,e,r){for(var n=[],i=e;i<r;i+=3)e=(t[i]<<16)+(t[i+1]<<8)+t[i+2],n.push(L[e>>18&63]+L[e>>12&63]+L[e>>6&63]+L[63&e]);return n.join("")}function U(t){B||D();for(var e=t.length,r=e%3,n="",i=[],o=0,s=e-r;o<s;o+=16383)i.push(F(t,o,o+16383>s?s:o+16383));return 1===r?(t=t[e-1],n+=L[t>>2],n+=L[t<<4&63],n+="=="):2===r&&(t=(t[e-2]<<8)+t[e-1],n+=L[t>>10],n+=L[t>>4&63],n+=L[t<<2&63],n+="="),i.push(n),i.join("")}function M(t,e,r,n,i){var o=8*i-n-1,s=(1<<o)-1,a=s>>1,f=-7,u=r?-1:1,h=t[e+(i=r?i-1:0)];for(i+=u,r=h&(1<<-f)-1,h>>=-f,f+=o;0<f;r=256*r+t[e+i],i+=u,f-=8);for(o=r&(1<<-f)-1,r>>=-f,f+=n;0<f;o=256*o+t[e+i],i+=u,f-=8);if(0===r)r=1-a;else{if(r===s)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),r-=a}return(h?-1:1)*o*Math.pow(2,r-n)}function k(t,e,r,n,i,o){var s,a=8*o-i-1,f=(1<<a)-1,u=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;o=n?0:o-1;var c=n?1:-1,l=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,n=f):(n=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-n))&&(n--,s*=2),2<=(e=1<=n+u?e+h/s:e+h*Math.pow(2,1-u))*s&&(n++,s/=2),n+u>=f?(e=0,n=f):1<=n+u?(e=(e*s-1)*Math.pow(2,i),n+=u):(e=e*Math.pow(2,u-1)*Math.pow(2,i),n=0));8<=i;t[r+o]=255&e,o+=c,e/=256,i-=8);for(n=n<<i|e,a+=i;0<a;t[r+o]=255&n,o+=c,n/=256,a-=8);t[r+o-c]|=128*l}var G={}.toString,H=Array.isArray||function(t){return"[object Array]"==G.call(t)};j.TYPED_ARRAY_SUPPORT=void 0===C.TYPED_ARRAY_SUPPORT||C.TYPED_ARRAY_SUPPORT;var x=j.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function Y(t,e){if((j.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<e)throw new RangeError("Invalid typed array length");return j.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=j.prototype:(null===t&&(t=new j(e)),t.length=e),t}function j(t,e,r){if(!(j.TYPED_ARRAY_SUPPORT||this instanceof j))return new j(t,e,r);if("number"==typeof t){if("string"==typeof e)throw Error("If encoding is specified then the first argument must be a string");return z(this,t)}return V(this,t,e,r)}function V(t,e,r,n){if("number"==typeof e)throw new TypeError(\'"value" argument must not be a number\');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){if(e.byteLength,0>r||e.byteLength<r)throw new RangeError("\'offset\' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("\'length\' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),j.TYPED_ARRAY_SUPPORT?(t=e).__proto__=j.prototype:t=q(t,e),t}if("string"==typeof e){if(n=t,"string"==typeof(t=r)&&""!==t||(t="utf8"),!j.isEncoding(t))throw new TypeError(\'"encoding" must be a valid string encoding\');return(e=(n=Y(n,r=0|Z(e,t))).write(e,t))!==r&&(n=n.slice(0,e)),n}return function(t,e){if(J(e)){var r=0|X(e.length);return 0===(t=Y(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return(r="number"!=typeof e.length)||(r=(r=e.length)!=r),r?Y(t,0):q(t,e);if("Buffer"===e.type&&H(e.data))return q(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function K(t){if("number"!=typeof t)throw new TypeError(\'"size" argument must be a number\');if(0>t)throw new RangeError(\'"size" argument must not be negative\')}function z(t,e){if(K(e),t=Y(t,0>e?0:0|X(e)),!j.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function q(t,e){var r=0>e.length?0:0|X(e.length);t=Y(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function X(t){if(t>=(j.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(j.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|t}function J(t){return!(null==t||!t._isBuffer)}function Z(t,e){if(J(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return ht(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return lt(t).length;default:if(n)return ht(t).length;e=(""+e).toLowerCase(),n=!0}}function $(t,e,r){var n=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),0>=r)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":for(t=e,e=r,r=this.length,(!t||0>t)&&(t=0),(!e||0>e||e>r)&&(e=r),n="",r=t;r<e;++r)n=(t=n)+(n=16>(n=this[r])?"0"+n.toString(16):n.toString(16));return n;case"utf8":case"utf-8":return rt(this,e,r);case"ascii":for(t="",r=Math.min(this.length,r);e<r;++e)t+=String.fromCharCode(127&this[e]);return t;case"latin1":case"binary":for(t="",r=Math.min(this.length,r);e<r;++e)t+=String.fromCharCode(this[e]);return t;case"base64":return 0===e&&r===this.length?U(this):U(this.slice(e,r));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(e=this.slice(e,r),r="",t=0;t<e.length;t+=2)r+=String.fromCharCode(e[t]+256*e[t+1]);return r;default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function Q(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function tt(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:-2147483648>r&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),0>r&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(0>r){if(!i)return-1;r=0}if("string"==typeof e&&(e=j.from(e,n)),J(e))return 0===e.length?-1:et(t,e,r,n,i);if("number"==typeof e)return e&=255,j.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):et(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function et(t,e,r,n,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,f=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(2>t.length||2>e.length)return-1;s=2,a/=2,f/=2,r/=2}if(i)for(n=-1;r<a;r++)if(o(t,r)===o(e,-1===n?0:r-n)){if(-1===n&&(n=r),r-n+1===f)return n*s}else-1!==n&&(r-=r-n),n=-1;else for(r+f>a&&(r=a-f);0<=r;r--){for(a=!0,n=0;n<f;n++)if(o(t,r+n)!==o(e,n)){a=!1;break}if(a)return r}return-1}function rt(t,e,r){r=Math.min(t.length,r);for(var n=[];e<r;){var i=t[e],o=null,s=239<i?4:223<i?3:191<i?2:1;if(e+s<=r)switch(s){case 1:128>i&&(o=i);break;case 2:var a=t[e+1];128==(192&a)&&127<(i=(31&i)<<6|63&a)&&(o=i);break;case 3:a=t[e+1];var f=t[e+2];128==(192&a)&&128==(192&f)&&2047<(i=(15&i)<<12|(63&a)<<6|63&f)&&(55296>i||57343<i)&&(o=i);break;case 4:a=t[e+1],f=t[e+2];var u=t[e+3];128==(192&a)&&128==(192&f)&&128==(192&u)&&65535<(i=(15&i)<<18|(63&a)<<12|(63&f)<<6|63&u)&&1114112>i&&(o=i)}null===o?(o=65533,s=1):65535<o&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),e+=s}if((t=n.length)<=nt)n=String.fromCharCode.apply(String,n);else{for(r="",e=0;e<t;)r+=String.fromCharCode.apply(String,n.slice(e,e+=nt));n=r}return n}j.poolSize=8192,j._augment=function(t){return t.__proto__=j.prototype,t},j.from=function(t,e,r){return V(null,t,e,r)},j.TYPED_ARRAY_SUPPORT&&(j.prototype.__proto__=Uint8Array.prototype,j.__proto__=Uint8Array),j.alloc=function(t,e,r){return K(t),0>=t?Y(null,t):void 0!==e?"string"==typeof r?Y(null,t).fill(e,r):Y(null,t).fill(e):Y(null,t)},j.allocUnsafe=function(t){return z(null,t)},j.allocUnsafeSlow=function(t){return z(null,t)},j.isBuffer=dt,j.compare=function(t,e){if(!J(t)||!J(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},j.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},j.concat=function(t,e){if(!H(t))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(0===t.length)return j.alloc(0);var r;if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;e=j.allocUnsafe(e);var n=0;for(r=0;r<t.length;++r){var i=t[r];if(!J(i))throw new TypeError(\'"list" argument must be an Array of Buffers\');i.copy(e,n),n+=i.length}return e},j.byteLength=Z,j.prototype._isBuffer=!0,j.prototype.swap16=function(){var t=this.length;if(0!=t%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Q(this,e,e+1);return this},j.prototype.swap32=function(){var t=this.length;if(0!=t%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Q(this,e,e+3),Q(this,e+1,e+2);return this},j.prototype.swap64=function(){var t=this.length;if(0!=t%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Q(this,e,e+7),Q(this,e+1,e+6),Q(this,e+2,e+5),Q(this,e+3,e+4);return this},j.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?rt(this,0,t):$.apply(this,arguments)},j.prototype.equals=function(t){if(!J(t))throw new TypeError("Argument must be a Buffer");return this===t||0===j.compare(this,t)},j.prototype.inspect=function(){var t="";return 0<this.length&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(t+=" ... ")),"<Buffer "+t+">"},j.prototype.compare=function(t,e,r,n,i){if(!J(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),0>e||r>t.length||0>n||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s);for(n=this.slice(n,i),t=t.slice(e,r),e=0;e<a;++e)if(n[e]!==t[e]){o=n[e],s=t[e];break}return o<s?-1:s<o?1:0},j.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},j.prototype.indexOf=function(t,e,r){return tt(this,t,e,r,!0)},j.prototype.lastIndexOf=function(t,e,r){return tt(this,t,e,r,!1)},j.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),0<t.length&&(0>r||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(n||(n="utf8"),i=!1;;)switch(n){case"hex":t:{if(e=Number(e)||0,n=this.length-e,r?(r=Number(r))>n&&(r=n):r=n,0!=(n=t.length)%2)throw new TypeError("Invalid hex string");for(r>n/2&&(r=n/2),n=0;n<r;++n){if(i=parseInt(t.substr(2*n,2),16),isNaN(i)){t=n;break t}this[e+n]=i}t=n}return t;case"utf8":case"utf-8":return pt(ht(t,this.length-e),this,e,r);case"ascii":case"latin1":case"binary":return pt(ct(t),this,e,r);case"base64":return pt(lt(t),this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=t,i=this.length-e;for(var o=[],s=0;s<n.length&&!(0>(i-=2));++s){var a=n.charCodeAt(s);t=a>>8,a%=256,o.push(a),o.push(t)}return pt(o,this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},j.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var nt=4096;function it(t,e,r){if(0!=t%1||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function ot(t,e,r,n,i,o){if(!J(t))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(e>i||e<o)throw new RangeError(\'"value" argument is out of bounds\');if(r+n>t.length)throw new RangeError("Index out of range")}function st(t,e,r,n){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function at(t,e,r,n){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function ft(t,e,r,n){if(r+n>t.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("Index out of range")}j.prototype.slice=function(t,e){var r=this.length;if(0>(t=~~t)?0>(t+=r)&&(t=0):t>r&&(t=r),0>(e=void 0===e?r:~~e)?0>(e+=r)&&(e=0):e>r&&(e=r),e<t&&(e=t),j.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,e)).__proto__=j.prototype;else{e=new j(r=e-t,void 0);for(var n=0;n<r;++n)e[n]=this[n+t]}return e},j.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||it(t,e,this.length),r=this[t];for(var n=1,i=0;++i<e&&(n*=256);)r+=this[t+i]*n;return r},j.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||it(t,e,this.length),r=this[t+--e];for(var n=1;0<e&&(n*=256);)r+=this[t+--e]*n;return r},j.prototype.readUInt8=function(t,e){return e||it(t,1,this.length),this[t]},j.prototype.readUInt16LE=function(t,e){return e||it(t,2,this.length),this[t]|this[t+1]<<8},j.prototype.readUInt16BE=function(t,e){return e||it(t,2,this.length),this[t]<<8|this[t+1]},j.prototype.readUInt32LE=function(t,e){return e||it(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},j.prototype.readUInt32BE=function(t,e){return e||it(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},j.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||it(t,e,this.length),r=this[t];for(var n=1,i=0;++i<e&&(n*=256);)r+=this[t+i]*n;return r>=128*n&&(r-=Math.pow(2,8*e)),r},j.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||it(t,e,this.length),r=e;for(var n=1,i=this[t+--r];0<r&&(n*=256);)i+=this[t+--r]*n;return i>=128*n&&(i-=Math.pow(2,8*e)),i},j.prototype.readInt8=function(t,e){return e||it(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},j.prototype.readInt16LE=function(t,e){return e||it(t,2,this.length),32768&(t=this[t]|this[t+1]<<8)?4294901760|t:t},j.prototype.readInt16BE=function(t,e){return e||it(t,2,this.length),32768&(t=this[t+1]|this[t]<<8)?4294901760|t:t},j.prototype.readInt32LE=function(t,e){return e||it(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},j.prototype.readInt32BE=function(t,e){return e||it(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},j.prototype.readFloatLE=function(t,e){return e||it(t,4,this.length),M(this,t,!0,23,4)},j.prototype.readFloatBE=function(t,e){return e||it(t,4,this.length),M(this,t,!1,23,4)},j.prototype.readDoubleLE=function(t,e){return e||it(t,8,this.length),M(this,t,!0,52,8)},j.prototype.readDoubleBE=function(t,e){return e||it(t,8,this.length),M(this,t,!1,52,8)},j.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||ot(this,t,e,r,Math.pow(2,8*r)-1,0),n=1;var i=0;for(this[e]=255&t;++i<r&&(n*=256);)this[e+i]=t/n&255;return e+r},j.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||ot(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1;for(this[e+(n=r-1)]=255&t;0<=--n&&(i*=256);)this[e+n]=t/i&255;return e+r},j.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||ot(this,t,e,1,255,0),j.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},j.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||ot(this,t,e,2,65535,0),j.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):st(this,t,e,!0),e+2},j.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||ot(this,t,e,2,65535,0),j.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):st(this,t,e,!1),e+2},j.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||ot(this,t,e,4,4294967295,0),j.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):at(this,t,e,!0),e+4},j.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||ot(this,t,e,4,4294967295,0),j.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):at(this,t,e,!1),e+4},j.prototype.writeIntLE=function(t,e,r,n){t=+t,e|=0,n||ot(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n),n=0;var i=1,o=0;for(this[e]=255&t;++n<r&&(i*=256);)0>t&&0===o&&0!==this[e+n-1]&&(o=1),this[e+n]=(t/i|0)-o&255;return e+r},j.prototype.writeIntBE=function(t,e,r,n){t=+t,e|=0,n||ot(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var i=1,o=0;for(this[e+(n=r-1)]=255&t;0<=--n&&(i*=256);)0>t&&0===o&&0!==this[e+n+1]&&(o=1),this[e+n]=(t/i|0)-o&255;return e+r},j.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||ot(this,t,e,1,127,-128),j.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},j.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||ot(this,t,e,2,32767,-32768),j.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):st(this,t,e,!0),e+2},j.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||ot(this,t,e,2,32767,-32768),j.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):st(this,t,e,!1),e+2},j.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||ot(this,t,e,4,2147483647,-2147483648),j.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):at(this,t,e,!0),e+4},j.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||ot(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),j.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):at(this,t,e,!1),e+4},j.prototype.writeFloatLE=function(t,e,r){return r||ft(this,0,e,4),k(this,t,e,!0,23,4),e+4},j.prototype.writeFloatBE=function(t,e,r){return r||ft(this,0,e,4),k(this,t,e,!1,23,4),e+4},j.prototype.writeDoubleLE=function(t,e,r){return r||ft(this,0,e,8),k(this,t,e,!0,52,8),e+8},j.prototype.writeDoubleBE=function(t,e,r){return r||ft(this,0,e,8),k(this,t,e,!1,52,8),e+8},j.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),0<n&&n<r&&(n=r),n===r||0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;if(this===t&&r<e&&e<n)for(n=i-1;0<=n;--n)t[n+e]=this[n+r];else if(1e3>i||!j.TYPED_ARRAY_SUPPORT)for(n=0;n<i;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},j.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);256>i&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!j.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(0>e||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(n=e;n<r;++n)this[n]=t;else for(i=(t=J(t)?t:ht(new j(t,n).toString())).length,n=0;n<r-e;++n)this[n+e]=t[n%i];return this};var ut=/[^+\\/0-9A-Za-z-_]/g;function ht(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],s=0;s<n;++s){if(55295<(r=t.charCodeAt(s))&&57344>r){if(!i){if(56319<r){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===n){-1<(e-=3)&&o.push(239,191,189);continue}i=r;continue}if(56320>r){-1<(e-=3)&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,128>r){if(0>--e)break;o.push(r)}else if(2048>r){if(0>(e-=2))break;o.push(r>>6|192,63&r|128)}else if(65536>r){if(0>(e-=3))break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw Error("Invalid code point");if(0>(e-=4))break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function ct(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function lt(t){if(2>(t=(t.trim?t.trim():t.replace(/^\\s+|\\s+$/g,"")).replace(ut,"")).length)t="";else for(;0!=t.length%4;)t+="=";B||D();var e=t.length;if(0<e%4)throw Error("Invalid string. Length must be a multiple of 4");var r="="===t[e-2]?2:"="===t[e-1]?1:0,n=new W(3*e/4-r),i=0<r?e-4:e,o=0;for(e=0;e<i;e+=4){var s=P[t.charCodeAt(e)]<<18|P[t.charCodeAt(e+1)]<<12|P[t.charCodeAt(e+2)]<<6|P[t.charCodeAt(e+3)];n[o++]=s>>16&255,n[o++]=s>>8&255,n[o++]=255&s}return 2===r?(s=P[t.charCodeAt(e)]<<2|P[t.charCodeAt(e+1)]>>4,n[o++]=255&s):1===r&&(s=P[t.charCodeAt(e)]<<10|P[t.charCodeAt(e+1)]<<4|P[t.charCodeAt(e+2)]>>2,n[o++]=s>>8&255,n[o++]=255&s),n}function pt(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function dt(t){return null!=t&&(!!t._isBuffer||yt(t)||"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&yt(t.slice(0,0)))}function yt(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var gt=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:x,Buffer:j,SlowBuffer:function(t){return+t!=t&&(t=0),j.alloc(+t)},isBuffer:dt}),_t=j,Et="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function St(t,e){return t(e={exports:{}},e.exports),e.exports}function mt(){throw Error("setTimeout has not been defined")}function It(){throw Error("clearTimeout has not been defined")}var At=mt,vt=It;function wt(t){if(At===setTimeout)return setTimeout(t,0);if((At===mt||!At)&&setTimeout)return At=setTimeout,setTimeout(t,0);try{return At(t,0)}catch(e){try{return At.call(null,t,0)}catch(e){return At.call(this,t,0)}}}"function"==typeof C.setTimeout&&(At=setTimeout),"function"==typeof C.clearTimeout&&(vt=clearTimeout);var Tt,bt=[],Rt=!1,Ot=-1;function Nt(){Rt&&Tt&&(Rt=!1,Tt.length?bt=Tt.concat(bt):Ot=-1,bt.length&&Ct())}function Ct(){if(!Rt){var t=wt(Nt);Rt=!0;for(var e=bt.length;e;){for(Tt=bt,bt=[];++Ot<e;)Tt&&Tt[Ot].run();Ot=-1,e=bt.length}Tt=null,Rt=!1,function(t){if(vt===clearTimeout)return clearTimeout(t);if((vt===It||!vt)&&clearTimeout)return vt=clearTimeout,clearTimeout(t);try{return vt(t)}catch(e){try{return vt.call(null,t)}catch(e){return vt.call(this,t)}}}(t)}}function Lt(t,e){this.fun=t,this.array=e}Lt.prototype.run=function(){this.fun.apply(null,this.array)};var Pt=C.performance||{},Wt=(Pt.now||Pt.mozNow||Pt.msNow||Pt.oNow||Pt.webkitNow,new Date,function(){return"/"}),Bt=St((function(t,e){function r(t,e){for(var r in t)e[r]=t[r]}function n(t,e,r){return i(t,e,r)}var i=gt.Buffer;i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=gt:(r(gt,e),e.Buffer=n),n.prototype=Object.create(i.prototype),r(i,n),n.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},n.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");return t=i(t),void 0!==e?"string"==typeof r?t.fill(e,r):t.fill(e):t.fill(0),t},n.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},n.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return gt.SlowBuffer(t)}})),Dt=St((function(t,e){function r(){throw Error("secure random number generation not supported by this browser\\nuse chrome, FireFox or Internet Explorer 11")}function n(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>u||0>t)throw new TypeError("offset must be a uint32");if(t>a||t>e)throw new RangeError("offset out of range")}function i(t,e,r){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>u||0>t)throw new TypeError("size must be a uint32");if(t+e>r||t>a)throw new RangeError("buffer too small")}function o(t,e,r,n){if(e=new Uint8Array(t.buffer,e,r),f.getRandomValues(e),!n)return t;!function(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];bt.push(new Lt(t,e)),1!==bt.length||Rt||wt(Ct)}((function(){n(null,t)}))}var s=Bt.Buffer,a=Bt.kMaxLength,f=Et.crypto||Et.msCrypto,u=Math.pow(2,32)-1;f&&f.getRandomValues?(e.randomFill=function(t,e,r,a){if(!(s.isBuffer(t)||t instanceof Et.Uint8Array))throw new TypeError(\'"buf" argument must be a Buffer or Uint8Array\');if("function"==typeof e)a=e,e=0,r=t.length;else if("function"==typeof r)a=r,r=t.length-e;else if("function"!=typeof a)throw new TypeError(\'"cb" argument must be a function\');return n(e,t.length),i(r,e,t.length),o(t,e,r,a)},e.randomFillSync=function(t,e,r){if(void 0===e&&(e=0),!(s.isBuffer(t)||t instanceof Et.Uint8Array))throw new TypeError(\'"buf" argument must be a Buffer or Uint8Array\');return n(e,t.length),void 0===r&&(r=t.length-e),i(r,e,t.length),o(t,e,r)}):(e.randomFill=r,e.randomFillSync=r)})),Ft=St((function(t){t.exports=Dt})).randomFillSync,Ut=Math.floor(.001*(Date.now()-performance.now()));function Mt(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function kt(t,e){for(var r,n="",i=0,o=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)r=t.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o!==a-1&&1!==s)if(o!==a-1&&2===s){if(2>n.length||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(2<n.length){if((o=n.lastIndexOf("/"))!==n.length-1){-1===o?(n="",i=0):i=(n=n.slice(0,o)).length-1-n.lastIndexOf("/"),o=a,s=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=a,s=0;continue}e&&(n=0<n.length?n+"/..":"..",i=2)}else n=0<n.length?n+"/"+t.slice(o+1,a):t.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var Gt,Ht={resolve:function(){for(var t,e="",r=!1,n=arguments.length-1;-1<=n&&!r;n--){if(0<=n)var i=arguments[n];else void 0===t&&(t=Wt()),i=t;Mt(i),0!==i.length&&(e=i+"/"+e,r=47===i.charCodeAt(0))}return e=kt(e,!r),r?0<e.length?"/"+e:"/":0<e.length?e:"."},normalize:function(t){if(Mt(t),0===t.length)return".";var e=47===t.charCodeAt(0),r=47===t.charCodeAt(t.length-1);return 0!==(t=kt(t,!e)).length||e||(t="."),0<t.length&&r&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return Mt(t),0<t.length&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var r=arguments[e];Mt(r),0<r.length&&(t=void 0===t?r:t+"/"+r)}return void 0===t?".":Ht.normalize(t)},relative:function(t,e){if(Mt(t),Mt(e),t===e)return"";if((t=Ht.resolve(t))===(e=Ht.resolve(e)))return"";for(var r=1;r<t.length&&47===t.charCodeAt(r);++r);for(var n=t.length,i=n-r,o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var s=e.length-o,a=i<s?i:s,f=-1,u=0;u<=a;++u){if(u===a){if(s>a){if(47===e.charCodeAt(o+u))return e.slice(o+u+1);if(0===u)return e.slice(o+u)}else i>a&&(47===t.charCodeAt(r+u)?f=u:0===u&&(f=0));break}var h=t.charCodeAt(r+u);if(h!==e.charCodeAt(o+u))break;47===h&&(f=u)}for(i="",u=r+f+1;u<=n;++u)u!==n&&47!==t.charCodeAt(u)||(i=0===i.length?i+"..":i+"/..");return 0<i.length?i+e.slice(o+f):(o+=f,47===e.charCodeAt(o)&&++o,e.slice(o))},_makeLong:function(t){return t},dirname:function(t){if(Mt(t),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,n=-1,i=!0,o=t.length-1;1<=o;--o)if(47===(e=t.charCodeAt(o))){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"//":t.slice(0,n)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError(\'"ext" argument must be a string\');Mt(t);var r,n=0,i=-1,o=!0;if(void 0!==e&&0<e.length&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var s=e.length-1,a=-1;for(r=t.length-1;0<=r;--r){var f=t.charCodeAt(r);if(47===f){if(!o){n=r+1;break}}else-1===a&&(o=!1,a=r+1),0<=s&&(f===e.charCodeAt(s)?-1==--s&&(i=r):(s=-1,i=a))}return n===i?i=a:-1===i&&(i=t.length),t.slice(n,i)}for(r=t.length-1;0<=r;--r)if(47===t.charCodeAt(r)){if(!o){n=r+1;break}}else-1===i&&(o=!1,i=r+1);return-1===i?"":t.slice(n,i)},extname:function(t){Mt(t);for(var e=-1,r=0,n=-1,i=!0,o=0,s=t.length-1;0<=s;--s){var a=t.charCodeAt(s);if(47===a){if(!i){r=s+1;break}}else-1===n&&(i=!1,n=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1)}return-1===e||-1===n||0===o||1===o&&e===n-1&&e===r+1?"":t.slice(e,n)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError(\'The "pathObject" argument must be of type Object. Received type \'+typeof t);var e=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return e?e===t.root?e+r:e+"/"+r:r},parse:function(t){Mt(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var r=t.charCodeAt(0),n=47===r;if(n){e.root="/";var i=1}else i=0;for(var o=-1,s=0,a=-1,f=!0,u=t.length-1,h=0;u>=i;--u)if(47===(r=t.charCodeAt(u))){if(!f){s=u+1;break}}else-1===a&&(f=!1,a=u+1),46===r?-1===o?o=u:1!==h&&(h=1):-1!==o&&(h=-1);return-1===o||-1===a||0===h||1===h&&o===a-1&&o===s+1?-1!==a&&(e.base=e.name=0===s&&n?t.slice(1,a):t.slice(s,a)):(0===s&&n?(e.name=t.slice(1,o),e.base=t.slice(1,a)):(e.name=t.slice(s,o),e.base=t.slice(s,a)),e.ext=t.slice(o,a)),0<s?e.dir=t.slice(0,s-1):n&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null},xt=Ht.posix=Ht,Yt={hrtime:function(t){return 1e9*(t=function(t){var e=.001*performance.now(),r=Math.floor(e)+Ut;return e=Math.floor(e%1*1e9),t&&(r-=t[0],0>(e-=t[1])&&(r--,e+=1e9)),[r,e]}(t))[0]+t[1]},exit:function(t){throw new Ue(t)},kill:function(t){throw new Me(t)},randomFillSync:Ft,isTTY:function(){return!0},path:Object.freeze({__proto__:null,default:xt,__moduleExports:xt}),fs:null},jt=O(1),Vt=O(2),Kt=O(4),zt=O(8),qt=O(16),Xt=O(32),Jt=O(64),Zt=O(128),$t=O(256),Qt=O(512),te=O(1024),ee=O(2048),re=O(4096),ne=O(8192),ie=O(16384),oe=O(32768),se=O(65536),ae=O(131072),fe=O(262144),ue=O(524288),he=O(1048576),ce=O(2097152),le=O(4194304),pe=O(8388608),de=O(16777216),ye=O(33554432),ge=O(67108864),_e=O(134217728),Ee=O(268435456),Se=jt|Vt|Kt|zt|qt|Xt|Jt|Zt|$t|Qt|te|ee|re|ne|ie|oe|se|ae|fe|ue|he|ce|pe|le|de|ge|ye|_e|Ee,me=jt|Vt|Kt|zt|qt|Xt|Jt|Zt|$t|ce|le|pe|_e,Ie=O(0),Ae=zt|qt|Zt|Qt|te|ee|re|ne|ie|oe|se|ae|fe|ue|he|ce|pe|de|ge|ye|_e,ve=Ae|me,we=Vt|zt|Jt|ce|_e|Ee,Te=Vt|zt|Jt|ce|_e,be=O(0),Re={E2BIG:1,EACCES:2,EADDRINUSE:3,EADDRNOTAVAIL:4,EAFNOSUPPORT:5,EALREADY:7,EAGAIN:6,EBADF:8,EBADMSG:9,EBUSY:10,ECANCELED:11,ECHILD:12,ECONNABORTED:13,ECONNREFUSED:14,ECONNRESET:15,EDEADLOCK:16,EDESTADDRREQ:17,EDOM:18,EDQUOT:19,EEXIST:20,EFAULT:21,EFBIG:22,EHOSTDOWN:23,EHOSTUNREACH:23,EIDRM:24,EILSEQ:25,EINPROGRESS:26,EINTR:27,EINVAL:28,EIO:29,EISCONN:30,EISDIR:31,ELOOP:32,EMFILE:33,EMLINK:34,EMSGSIZE:35,EMULTIHOP:36,ENAMETOOLONG:37,ENETDOWN:38,ENETRESET:39,ENETUNREACH:40,ENFILE:41,ENOBUFS:42,ENODEV:43,ENOENT:44,ENOEXEC:45,ENOLCK:46,ENOLINK:47,ENOMEM:48,ENOMSG:49,ENOPROTOOPT:50,ENOSPC:51,ENOSYS:52,ENOTCONN:53,ENOTDIR:54,ENOTEMPTY:55,ENOTRECOVERABLE:56,ENOTSOCK:57,ENOTTY:59,ENXIO:60,EOVERFLOW:61,EOWNERDEAD:62,EPERM:63,EPIPE:64,EPROTO:65,EPROTONOSUPPORT:66,EPROTOTYPE:67,ERANGE:68,EROFS:69,ESPIPE:70,ESRCH:71,ESTALE:72,ETIMEDOUT:73,ETXTBSY:74,EXDEV:75},Oe=((Gt={})[6]="SIGHUP",Gt[8]="SIGINT",Gt[11]="SIGQUIT",Gt[7]="SIGILL",Gt[15]="SIGTRAP",Gt[0]="SIGABRT",Gt[2]="SIGBUS",Gt[5]="SIGFPE",Gt[9]="SIGKILL",Gt[20]="SIGUSR1",Gt[12]="SIGSEGV",Gt[21]="SIGUSR2",Gt[10]="SIGPIPE",Gt[1]="SIGALRM",Gt[14]="SIGTERM",Gt[3]="SIGCHLD",Gt[4]="SIGCONT",Gt[13]="SIGSTOP",Gt[16]="SIGTSTP",Gt[17]="SIGTTIN",Gt[18]="SIGTTOU",Gt[19]="SIGURG",Gt[23]="SIGXCPU",Gt[24]="SIGXFSZ",Gt[22]="SIGVTALRM",Gt),Ne=jt|Vt|qt|Zt|ce|_e,Ce=jt|Jt|qt|Zt|ce|_e;function Le(t){var e=Math.trunc(t);return t=O(Math.round(1e6*(t-e))),O(e)*O(1e6)+t}function Pe(t){return"number"==typeof t&&(t=Math.trunc(t)),t=O(t),Number(t/O(1e6))}function We(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];try{return t.apply(void 0,b(e))}catch(t){if(t&&t.code&&"string"==typeof t.code)return Re[t.code]||28;if(t instanceof Fe)return t.errno;throw t}}}function Be(t,e){var r=t.FD_MAP.get(e);if(!r)throw new Fe(8);if(void 0===r.filetype){var n=t.bindings.fs.fstatSync(r.real);e=(t=De(t,e,n)).rightsBase,n=t.rightsInheriting,r.filetype=t.filetype,r.rights||(r.rights={base:e,inheriting:n})}return r}function De(t,e,r){switch(!0){case r.isBlockDevice():return{filetype:1,rightsBase:Se,rightsInheriting:Se};case r.isCharacterDevice():return void 0!==e&&t.bindings.isTTY(e)?{filetype:2,rightsBase:Te,rightsInheriting:be}:{filetype:2,rightsBase:Se,rightsInheriting:Se};case r.isDirectory():return{filetype:3,rightsBase:Ae,rightsInheriting:ve};case r.isFIFO():return{filetype:6,rightsBase:we,rightsInheriting:Se};case r.isFile():return{filetype:4,rightsBase:me,rightsInheriting:Ie};case r.isSocket():return{filetype:6,rightsBase:we,rightsInheriting:Se};case r.isSymbolicLink():return{filetype:7,rightsBase:O(0),rightsInheriting:O(0)};default:return{filetype:0,rightsBase:O(0),rightsInheriting:O(0)}}}var Fe=function(t){function e(r){var n=t.call(this)||this;return n.errno=r,Object.setPrototypeOf(n,e.prototype),n}return v(e,t),e}(Error),Ue=function(t){function e(r){var n=t.call(this,"WASI Exit error: "+r)||this;return n.code=r,Object.setPrototypeOf(n,e.prototype),n}return v(e,t),e}(Error),Me=function(t){function e(r){var n=t.call(this,"WASI Kill signal: "+r)||this;return n.signal=r,Object.setPrototypeOf(n,e.prototype),n}return v(e,t),e}(Error),ke=function(){function t(t){function e(t){switch(t){case 1:return u.hrtime();case 0:return Le(Date.now());case 2:case 3:return u.hrtime()-m;default:return null}}function r(t,e){if(t=Be(o,t),e!==O(0)&&(t.rights.base&e)===O(0))throw new Fe(63);return t}function n(t,e){return o.refreshMemory(),Array.from({length:e},(function(e,r){return r=t+8*r,e=o.view.getUint32(r,!0),r=o.view.getUint32(r+4,!0),new Uint8Array(o.memory.buffer,e,r)}))}var i,o=this,s={};t&&t.preopens?s=t.preopens:t&&t.preopenDirectories&&(s=t.preopenDirectories);var a={};t&&t.env&&(a=t.env);var f=[];t&&t.args&&(f=t.args);var u=Yt;t&&t.bindings&&(u=t.bindings),this.view=this.memory=void 0,this.bindings=u,this.FD_MAP=new Map([[0,{real:0,filetype:2,rights:{base:Ne,inheriting:O(0)},path:void 0}],[1,{real:1,filetype:2,rights:{base:Ce,inheriting:O(0)},path:void 0}],[2,{real:2,filetype:2,rights:{base:Ce,inheriting:O(0)},path:void 0}]]);var h=this.bindings.fs,c=this.bindings.path;try{for(var l=w(Object.entries(s)),p=l.next();!p.done;p=l.next()){var d=T(p.value,2),y=d[0],g=d[1],_=h.openSync(g,h.constants.O_RDONLY),E=b(this.FD_MAP.keys()).reverse()[0]+1;this.FD_MAP.set(E,{real:_,filetype:3,rights:{base:Ae,inheriting:ve},fakePath:y,path:g})}}catch(t){var S={error:t}}finally{try{p&&!p.done&&(i=l.return)&&i.call(l)}finally{if(S)throw S.error}}var m=u.hrtime();this.wasiImport={args_get:function(t,e){o.refreshMemory();var r=t,n=e;return f.forEach((function(t){o.view.setUint32(r,n,!0),r+=4,n+=_t.from(o.memory.buffer).write(t+"\\0",n)})),0},args_sizes_get:function(t,e){return o.refreshMemory(),o.view.setUint32(t,f.length,!0),t=f.reduce((function(t,e){return t+_t.byteLength(e)+1}),0),o.view.setUint32(e,t,!0),0},environ_get:function(t,e){o.refreshMemory();var r=t,n=e;return Object.entries(a).forEach((function(t){var e=T(t,2);t=e[0],e=e[1],o.view.setUint32(r,n,!0),r+=4,n+=_t.from(o.memory.buffer).write(t+"="+e+"\\0",n)})),0},environ_sizes_get:function(t,e){o.refreshMemory();var r=Object.entries(a).map((function(t){return(t=T(t,2))[0]+"="+t[1]+"\\0"})),n=r.reduce((function(t,e){return t+_t.byteLength(e)}),0);return o.view.setUint32(t,r.length,!0),o.view.setUint32(e,n,!0),0},clock_res_get:function(t,e){switch(t){case 1:case 2:case 3:var r=O(1);break;case 0:r=O(1e3)}return o.view.setBigUint64(e,r),0},clock_time_get:function(t,r,n){return o.refreshMemory(),null===(t=e(t))?28:(o.view.setBigUint64(n,O(t),!0),0)},fd_advise:We((function(t){return r(t,Zt),52})),fd_allocate:We((function(t){return r(t,$t),52})),fd_close:We((function(t){var e=r(t,O(0));return h.closeSync(e.real),o.FD_MAP.delete(t),0})),fd_datasync:We((function(t){return t=r(t,jt),h.fdatasyncSync(t.real),0})),fd_fdstat_get:We((function(t,e){return t=r(t,O(0)),o.refreshMemory(),o.view.setUint8(e,t.filetype),o.view.setUint16(e+2,0,!0),o.view.setUint16(e+4,0,!0),o.view.setBigUint64(e+8,O(t.rights.base),!0),o.view.setBigUint64(e+8+8,O(t.rights.inheriting),!0),0})),fd_fdstat_set_flags:We((function(t){return r(t,zt),52})),fd_fdstat_set_rights:We((function(t,e,n){return((t=r(t,O(0))).rights.base|e)>t.rights.base||(t.rights.inheriting|n)>t.rights.inheriting?63:(t.rights.base=e,t.rights.inheriting=n,0)})),fd_filestat_get:We((function(t,e){t=r(t,ce);var n=h.fstatSync(t.real);return o.refreshMemory(),o.view.setBigUint64(e,O(n.dev),!0),e+=8,o.view.setBigUint64(e,O(n.ino),!0),e+=8,o.view.setUint8(e,t.filetype),e+=8,o.view.setBigUint64(e,O(n.nlink),!0),e+=8,o.view.setBigUint64(e,O(n.size),!0),e+=8,o.view.setBigUint64(e,Le(n.atimeMs),!0),e+=8,o.view.setBigUint64(e,Le(n.mtimeMs),!0),o.view.setBigUint64(e+8,Le(n.ctimeMs),!0),0})),fd_filestat_set_size:We((function(t,e){return t=r(t,le),h.ftruncateSync(t.real,Number(e)),0})),fd_filestat_set_times:We((function(t,n,i,o){t=r(t,pe);var s=h.fstatSync(t.real),a=s.atime;s=s.mtime;var f=Pe(e(0));return 3&~o&&12&~o?(1&~o?!(2&~o)&&(a=f):a=Pe(n),4&~o?!(8&~o)&&(s=f):s=Pe(i),h.futimesSync(t.real,new Date(a),new Date(s)),0):28})),fd_prestat_get:We((function(t,e){return(t=r(t,O(0))).path?(o.refreshMemory(),o.view.setUint8(e,0),o.view.setUint32(e+4,_t.byteLength(t.fakePath),!0),0):28})),fd_prestat_dir_name:We((function(t,e,n){return(t=r(t,O(0))).path?(o.refreshMemory(),_t.from(o.memory.buffer).write(t.fakePath,e,n,"utf8"),0):28})),fd_pwrite:We((function(t,e,i,s,a){var f=r(t,Jt|Kt),u=0;return n(e,i).forEach((function(t){for(var e=0;e<t.byteLength;)e+=h.writeSync(f.real,t,e,t.byteLength-e,Number(s)+u+e);u+=e})),o.view.setUint32(a,u,!0),0})),fd_write:We((function(t,e,i,s){var a=r(t,Jt),f=0;return n(e,i).forEach((function(t){for(var e=0;e<t.byteLength;){var r=h.writeSync(a.real,t,e,t.byteLength-e,a.offset?Number(a.offset):null);a.offset&&(a.offset+=O(r)),e+=r}f+=e})),o.view.setUint32(s,f,!0),0})),fd_pread:We((function(t,e,i,s,a){var f;t=r(t,Vt|Kt);var u=0;try{var c=w(n(e,i)),l=c.next();t:for(;!l.done;l=c.next()){var p=l.value;for(e=0;e<p.byteLength;){var d=p.byteLength-e,y=h.readSync(t.real,p,e,p.byteLength-e,Number(s)+u+e);if(e+=y,u+=y,0===y||y<d)break t}u+=e}}catch(t){var g={error:t}}finally{try{l&&!l.done&&(f=c.return)&&f.call(c)}finally{if(g)throw g.error}}return o.view.setUint32(a,u,!0),0})),fd_read:We((function(t,e,i,s){var a,f=0===(t=r(t,Vt)).real,u=0;try{var c=w(n(e,i)),l=c.next();t:for(;!l.done;l=c.next()){var p=l.value;for(e=0;e<p.byteLength;){var d=p.byteLength-e,y=h.readSync(t.real,p,e,d,f||void 0===t.offset?null:Number(t.offset));if(f||(t.offset=(t.offset?t.offset:O(0))+O(y)),e+=y,u+=y,0===y||y<d)break t}}}catch(t){var g={error:t}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(g)throw g.error}}return o.view.setUint32(s,u,!0),0})),fd_readdir:We((function(t,e,n,i,s){t=r(t,ie),o.refreshMemory();var a=h.readdirSync(t.path,{withFileTypes:!0}),f=e;for(i=Number(i);i<a.length;i+=1){var u=a[i],l=_t.byteLength(u.name);if(e-f>n)break;if(o.view.setBigUint64(e,O(i+1),!0),(e+=8)-f>n)break;var p=h.statSync(c.resolve(t.path,u.name));if(o.view.setBigUint64(e,O(p.ino),!0),(e+=8)-f>n)break;if(o.view.setUint32(e,l,!0),(e+=4)-f>n)break;switch(!0){case p.isBlockDevice():p=1;break;case p.isCharacterDevice():p=2;break;case p.isDirectory():p=3;break;case p.isFIFO():p=6;break;case p.isFile():p=4;break;case p.isSocket():p=6;break;case p.isSymbolicLink():p=7;break;default:p=0}if(o.view.setUint8(e,p),e+=1,(e+=3)+l>=f+n)break;_t.from(o.memory.buffer).write(u.name,e),e+=l}return o.view.setUint32(s,Math.min(e-f,n),!0),0})),fd_renumber:We((function(t,e){return r(t,O(0)),r(e,O(0)),h.closeSync(o.FD_MAP.get(t).real),o.FD_MAP.set(t,o.FD_MAP.get(e)),o.FD_MAP.delete(e),0})),fd_seek:We((function(t,e,n,i){switch(t=r(t,Kt),o.refreshMemory(),n){case 1:t.offset=(t.offset?t.offset:O(0))+O(e);break;case 2:n=h.fstatSync(t.real).size,t.offset=O(n)+O(e);break;case 0:t.offset=O(e)}return o.view.setBigUint64(i,t.offset,!0),0})),fd_tell:We((function(t,e){return t=r(t,Xt),o.refreshMemory(),t.offset||(t.offset=O(0)),o.view.setBigUint64(e,t.offset,!0),0})),fd_sync:We((function(t){return t=r(t,qt),h.fsyncSync(t.real),0})),path_create_directory:We((function(t,e,n){return(t=r(t,Qt)).path?(o.refreshMemory(),e=_t.from(o.memory.buffer,e,n).toString(),h.mkdirSync(c.resolve(t.path,e)),0):28})),path_filestat_get:We((function(t,e,n,i,s){return(t=r(t,fe)).path?(o.refreshMemory(),n=_t.from(o.memory.buffer,n,i).toString(),n=h.statSync(c.resolve(t.path,n)),o.view.setBigUint64(s,O(n.dev),!0),s+=8,o.view.setBigUint64(s,O(n.ino),!0),s+=8,o.view.setUint8(s,De(o,void 0,n).filetype),s+=8,o.view.setBigUint64(s,O(n.nlink),!0),s+=8,o.view.setBigUint64(s,O(n.size),!0),s+=8,o.view.setBigUint64(s,Le(n.atimeMs),!0),s+=8,o.view.setBigUint64(s,Le(n.mtimeMs),!0),o.view.setBigUint64(s+8,Le(n.ctimeMs),!0),0):28})),path_filestat_set_times:We((function(t,n,i,s,a,f,u){if(!(t=r(t,he)).path)return 28;o.refreshMemory();var l=h.fstatSync(t.real);n=l.atime,l=l.mtime;var p=Pe(e(0));return 3&~u&&12&~u?(1&~u?!(2&~u)&&(n=p):n=Pe(a),4&~u?!(8&~u)&&(l=p):l=Pe(f),i=_t.from(o.memory.buffer,i,s).toString(),h.utimesSync(c.resolve(t.path,i),new Date(n),new Date(l)),0):28})),path_link:We((function(t,e,n,i,s,a,f){return t=r(t,ee),s=r(s,re),t.path&&s.path?(o.refreshMemory(),n=_t.from(o.memory.buffer,n,i).toString(),a=_t.from(o.memory.buffer,a,f).toString(),h.linkSync(c.resolve(t.path,n),c.resolve(s.path,a)),0):28})),path_open:We((function(t,e,n,i,s,a,f,u,l){e=r(t,ne),a=O(a),f=O(f),t=(a&(Vt|ie))!==O(0);var p=(a&(jt|Jt|$t|le))!==O(0);if(p&&t)var d=h.constants.O_RDWR;else t?d=h.constants.O_RDONLY:p&&(d=h.constants.O_WRONLY);if(t=a|ne,a|=f,1&s&&(d|=h.constants.O_CREAT,t|=te),2&s&&(d|=h.constants.O_DIRECTORY),4&s&&(d|=h.constants.O_EXCL),8&s&&(d|=h.constants.O_TRUNC,t|=ue),1&u&&(d|=h.constants.O_APPEND),2&u&&(d=h.constants.O_DSYNC?d|h.constants.O_DSYNC:d|h.constants.O_SYNC,a|=jt),4&u&&(d|=h.constants.O_NONBLOCK),8&u&&(d=h.constants.O_RSYNC?d|h.constants.O_RSYNC:d|h.constants.O_SYNC,a|=qt),16&u&&(d|=h.constants.O_SYNC,a|=qt),p&&!(d&(h.constants.O_APPEND|h.constants.O_TRUNC))&&(a|=Kt),o.refreshMemory(),n=_t.from(o.memory.buffer,n,i).toString(),n=c.resolve(e.path,n),c.relative(e.path,n).startsWith(".."))return 76;try{var y=h.realpathSync(n);if(c.relative(e.path,y).startsWith(".."))return 76}catch(t){if("ENOENT"!==t.code)throw t;y=n}try{var g=h.statSync(y).isDirectory()}catch(t){}return d=!p&&g?h.openSync(y,h.constants.O_RDONLY):h.openSync(y,d),g=b(o.FD_MAP.keys()).reverse()[0]+1,o.FD_MAP.set(g,{real:d,filetype:void 0,rights:{base:t,inheriting:a},path:y}),Be(o,g),o.view.setUint32(l,g,!0),0})),path_readlink:We((function(t,e,n,i,s,a){return(t=r(t,oe)).path?(o.refreshMemory(),e=_t.from(o.memory.buffer,e,n).toString(),e=c.resolve(t.path,e),e=h.readlinkSync(e),i=_t.from(o.memory.buffer).write(e,i,s),o.view.setUint32(a,i,!0),0):28})),path_remove_directory:We((function(t,e,n){return(t=r(t,ye)).path?(o.refreshMemory(),e=_t.from(o.memory.buffer,e,n).toString(),h.rmdirSync(c.resolve(t.path,e)),0):28})),path_rename:We((function(t,e,n,i,s,a){return t=r(t,se),i=r(i,ae),t.path&&i.path?(o.refreshMemory(),e=_t.from(o.memory.buffer,e,n).toString(),s=_t.from(o.memory.buffer,s,a).toString(),h.renameSync(c.resolve(t.path,e),c.resolve(i.path,s)),0):28})),path_symlink:We((function(t,e,n,i,s){return(n=r(n,de)).path?(o.refreshMemory(),t=_t.from(o.memory.buffer,t,e).toString(),i=_t.from(o.memory.buffer,i,s).toString(),h.symlinkSync(t,c.resolve(n.path,i)),0):28})),path_unlink_file:We((function(t,e,n){return(t=r(t,ge)).path?(o.refreshMemory(),e=_t.from(o.memory.buffer,e,n).toString(),h.unlinkSync(c.resolve(t.path,e)),0):28})),poll_oneoff:function(t,r,n,i){var s=0,a=0;o.refreshMemory();for(var f=0;f<n;f+=1){var h=o.view.getBigUint64(t,!0);t+=8;var c=o.view.getUint8(t);switch(t+=1,c){case 0:t+=7,o.view.getBigUint64(t,!0),t+=8;var l=o.view.getUint32(t,!0);t+=4,t+=4,c=o.view.getBigUint64(t,!0),t+=8,o.view.getBigUint64(t,!0),t+=8;var p=o.view.getUint16(t,!0);t+=2,t+=6;var d=1===p;p=0,null===(l=O(e(l)))?p=28:a=(c=d?c:l+c)>a?c:a,o.view.setBigUint64(r,h,!0),r+=8,o.view.setUint16(r,p,!0),r+=2,o.view.setUint8(r,0),r+=1,r+=5,s+=1;break;case 1:case 2:t+=3,o.view.getUint32(t,!0),t+=4,o.view.setBigUint64(r,h,!0),r+=8,o.view.setUint16(r,52,!0),r+=2,o.view.setUint8(r,c),r+=1,r+=5,s+=1;break;default:return 28}}for(o.view.setUint32(i,s,!0);u.hrtime()<a;);return 0},proc_exit:function(t){return u.exit(t),0},proc_raise:function(t){return t in Oe?(u.kill(Oe[t]),0):28},random_get:function(t,e){return o.refreshMemory(),u.randomFillSync(new Uint8Array(o.memory.buffer),t,e),0},sched_yield:function(){return 0},sock_recv:function(){return 52},sock_send:function(){return 52},sock_shutdown:function(){return 52}},t.traceSyscalls&&Object.keys(this.wasiImport).forEach((function(t){var e=o.wasiImport[t];o.wasiImport[t]=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];console.log("WASI: wasiImport called: "+t+" ("+r+")");try{var i=e.apply(void 0,b(r));return console.log("WASI:  => "+i),i}catch(t){throw console.log("Catched error: "+t),t}}}))}return t.prototype.refreshMemory=function(){this.view&&0!==this.view.buffer.byteLength||(this.view=new N(this.memory.buffer))},t.prototype.setMemory=function(t){this.memory=t},t.prototype.start=function(t){if(null===(t=t.exports)||"object"!=typeof t)throw Error("instance.exports must be an Object. Received "+t+".");var e=t.memory;if(!(e instanceof WebAssembly.Memory))throw Error("instance.exports.memory must be a WebAssembly.Memory. Recceived "+e+".");this.setMemory(e),t._start&&t._start()},t.prototype.getImportNamespace=function(t){var e,r=null;try{for(var n=w(WebAssembly.Module.imports(t)),i=n.next();!i.done;i=n.next()){var o=i.value;if("function"===o.kind&&o.module.startsWith("wasi_"))if(r){if(r!==o.module)throw Error("Multiple namespaces detected.")}else r=o.module}}catch(t){var s={error:t}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return r},t.prototype.getImports=function(t){switch(this.getImportNamespace(t)){case"wasi_unstable":return{wasi_unstable:this.wasiImport};case"wasi_snapshot_preview1":return{wasi_snapshot_preview1:this.wasiImport};default:throw Error("Can\'t detect a WASI namespace for the WebAssembly Module")}},t.defaultBindings=Yt,t}(),Ge=r(788);function He(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function xe(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;t=r.call(t);var n,i=[];try{for(;(void 0===e||0<e--)&&!(n=t.next()).done;)i.push(n.value)}catch(t){var o={error:t}}finally{try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(o)throw o.error}}return i}function Ye(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(xe(arguments[e]));return t}var je="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function Ve(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ke(t,e){return t(e={exports:{}},e.exports),e.exports}var ze=Ke((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}}));Ve(ze);var qe=Ke((function(t,e){e.default="function"==typeof BigInt?BigInt:function(){throw Error("BigInt is not supported in this environment.")}})),Xe=Ke((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=ze.constants.S_IFMT,n=ze.constants.S_IFDIR,i=ze.constants.S_IFREG,o=ze.constants.S_IFBLK,s=ze.constants.S_IFCHR,a=ze.constants.S_IFLNK,f=ze.constants.S_IFIFO,u=ze.constants.S_IFSOCK;t=function(){function t(){}return t.build=function(e,r){void 0===r&&(r=!1);var n=new t,i=e.gid,o=e.atime,s=e.mtime,a=e.ctime;return r=r?qe.default:function(t){return t},n.uid=r(e.uid),n.gid=r(i),n.rdev=r(0),n.blksize=r(4096),n.ino=r(e.ino),n.size=r(e.getSize()),n.blocks=r(1),n.atime=o,n.mtime=s,n.ctime=a,n.birthtime=a,n.atimeMs=r(o.getTime()),n.mtimeMs=r(s.getTime()),i=r(a.getTime()),n.ctimeMs=i,n.birthtimeMs=i,n.dev=r(0),n.mode=r(e.mode),n.nlink=r(e.nlink),n},t.prototype._checkModeProperty=function(t){return(Number(this.mode)&r)===t},t.prototype.isDirectory=function(){return this._checkModeProperty(n)},t.prototype.isFile=function(){return this._checkModeProperty(i)},t.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},t.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},t.prototype.isSymbolicLink=function(){return this._checkModeProperty(a)},t.prototype.isFIFO=function(){return this._checkModeProperty(f)},t.prototype.isSocket=function(){return this._checkModeProperty(u)},t}(),e.Stats=t,e.default=t}));Ve(Xe);var Je=void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Ze=[],$e=[],Qe="undefined"!=typeof Uint8Array?Uint8Array:Array,tr=!1;function er(){tr=!0;for(var t=0;64>t;++t)Ze[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t],$e["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;$e[45]=62,$e[95]=63}function rr(t,e,r){for(var n=[],i=e;i<r;i+=3)e=(t[i]<<16)+(t[i+1]<<8)+t[i+2],n.push(Ze[e>>18&63]+Ze[e>>12&63]+Ze[e>>6&63]+Ze[63&e]);return n.join("")}function nr(t){tr||er();for(var e=t.length,r=e%3,n="",i=[],o=0,s=e-r;o<s;o+=16383)i.push(rr(t,o,o+16383>s?s:o+16383));return 1===r?(t=t[e-1],n+=Ze[t>>2],n+=Ze[t<<4&63],n+="=="):2===r&&(t=(t[e-2]<<8)+t[e-1],n+=Ze[t>>10],n+=Ze[t>>4&63],n+=Ze[t<<2&63],n+="="),i.push(n),i.join("")}function ir(t,e,r,n,i){var o=8*i-n-1,s=(1<<o)-1,a=s>>1,f=-7,u=r?-1:1,h=t[e+(i=r?i-1:0)];for(i+=u,r=h&(1<<-f)-1,h>>=-f,f+=o;0<f;r=256*r+t[e+i],i+=u,f-=8);for(o=r&(1<<-f)-1,r>>=-f,f+=n;0<f;o=256*o+t[e+i],i+=u,f-=8);if(0===r)r=1-a;else{if(r===s)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),r-=a}return(h?-1:1)*o*Math.pow(2,r-n)}function or(t,e,r,n,i,o){var s,a=8*o-i-1,f=(1<<a)-1,u=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;o=n?0:o-1;var c=n?1:-1,l=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,n=f):(n=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-n))&&(n--,s*=2),2<=(e=1<=n+u?e+h/s:e+h*Math.pow(2,1-u))*s&&(n++,s/=2),n+u>=f?(e=0,n=f):1<=n+u?(e=(e*s-1)*Math.pow(2,i),n+=u):(e=e*Math.pow(2,u-1)*Math.pow(2,i),n=0));8<=i;t[r+o]=255&e,o+=c,e/=256,i-=8);for(n=n<<i|e,a+=i;0<a;t[r+o]=255&n,o+=c,n/=256,a-=8);t[r+o-c]|=128*l}var sr={}.toString,ar=Array.isArray||function(t){return"[object Array]"==sr.call(t)};hr.TYPED_ARRAY_SUPPORT=void 0===Je.TYPED_ARRAY_SUPPORT||Je.TYPED_ARRAY_SUPPORT;var fr=hr.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function ur(t,e){if((hr.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<e)throw new RangeError("Invalid typed array length");return hr.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=hr.prototype:(null===t&&(t=new hr(e)),t.length=e),t}function hr(t,e,r){if(!(hr.TYPED_ARRAY_SUPPORT||this instanceof hr))return new hr(t,e,r);if("number"==typeof t){if("string"==typeof e)throw Error("If encoding is specified then the first argument must be a string");return pr(this,t)}return cr(this,t,e,r)}function cr(t,e,r,n){if("number"==typeof e)throw new TypeError(\'"value" argument must not be a number\');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){if(e.byteLength,0>r||e.byteLength<r)throw new RangeError("\'offset\' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("\'length\' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),hr.TYPED_ARRAY_SUPPORT?(t=e).__proto__=hr.prototype:t=dr(t,e),t}if("string"==typeof e){if(n=t,"string"==typeof(t=r)&&""!==t||(t="utf8"),!hr.isEncoding(t))throw new TypeError(\'"encoding" must be a valid string encoding\');return(e=(n=ur(n,r=0|_r(e,t))).write(e,t))!==r&&(n=n.slice(0,e)),n}return function(t,e){if(gr(e)){var r=0|yr(e.length);return 0===(t=ur(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return(r="number"!=typeof e.length)||(r=(r=e.length)!=r),r?ur(t,0):dr(t,e);if("Buffer"===e.type&&ar(e.data))return dr(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function lr(t){if("number"!=typeof t)throw new TypeError(\'"size" argument must be a number\');if(0>t)throw new RangeError(\'"size" argument must not be negative\')}function pr(t,e){if(lr(e),t=ur(t,0>e?0:0|yr(e)),!hr.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function dr(t,e){var r=0>e.length?0:0|yr(e.length);t=ur(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function yr(t){if(t>=(hr.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(hr.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return 0|t}function gr(t){return!(null==t||!t._isBuffer)}function _r(t,e){if(gr(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Cr(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Pr(t).length;default:if(n)return Cr(t).length;e=(""+e).toLowerCase(),n=!0}}function Er(t,e,r){var n=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),0>=r)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":for(t=e,e=r,r=this.length,(!t||0>t)&&(t=0),(!e||0>e||e>r)&&(e=r),n="",r=t;r<e;++r)n=(t=n)+(n=16>(n=this[r])?"0"+n.toString(16):n.toString(16));return n;case"utf8":case"utf-8":return Ar(this,e,r);case"ascii":for(t="",r=Math.min(this.length,r);e<r;++e)t+=String.fromCharCode(127&this[e]);return t;case"latin1":case"binary":for(t="",r=Math.min(this.length,r);e<r;++e)t+=String.fromCharCode(this[e]);return t;case"base64":return 0===e&&r===this.length?nr(this):nr(this.slice(e,r));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(e=this.slice(e,r),r="",t=0;t<e.length;t+=2)r+=String.fromCharCode(e[t]+256*e[t+1]);return r;default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function Sr(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function mr(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:-2147483648>r&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),0>r&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(0>r){if(!i)return-1;r=0}if("string"==typeof e&&(e=hr.from(e,n)),gr(e))return 0===e.length?-1:Ir(t,e,r,n,i);if("number"==typeof e)return e&=255,hr.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Ir(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Ir(t,e,r,n,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,f=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(2>t.length||2>e.length)return-1;s=2,a/=2,f/=2,r/=2}if(i)for(n=-1;r<a;r++)if(o(t,r)===o(e,-1===n?0:r-n)){if(-1===n&&(n=r),r-n+1===f)return n*s}else-1!==n&&(r-=r-n),n=-1;else for(r+f>a&&(r=a-f);0<=r;r--){for(a=!0,n=0;n<f;n++)if(o(t,r+n)!==o(e,n)){a=!1;break}if(a)return r}return-1}function Ar(t,e,r){r=Math.min(t.length,r);for(var n=[];e<r;){var i=t[e],o=null,s=239<i?4:223<i?3:191<i?2:1;if(e+s<=r)switch(s){case 1:128>i&&(o=i);break;case 2:var a=t[e+1];128==(192&a)&&127<(i=(31&i)<<6|63&a)&&(o=i);break;case 3:a=t[e+1];var f=t[e+2];128==(192&a)&&128==(192&f)&&2047<(i=(15&i)<<12|(63&a)<<6|63&f)&&(55296>i||57343<i)&&(o=i);break;case 4:a=t[e+1],f=t[e+2];var u=t[e+3];128==(192&a)&&128==(192&f)&&128==(192&u)&&65535<(i=(15&i)<<18|(63&a)<<12|(63&f)<<6|63&u)&&1114112>i&&(o=i)}null===o?(o=65533,s=1):65535<o&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),e+=s}if((t=n.length)<=vr)n=String.fromCharCode.apply(String,n);else{for(r="",e=0;e<t;)r+=String.fromCharCode.apply(String,n.slice(e,e+=vr));n=r}return n}hr.poolSize=8192,hr._augment=function(t){return t.__proto__=hr.prototype,t},hr.from=function(t,e,r){return cr(null,t,e,r)},hr.TYPED_ARRAY_SUPPORT&&(hr.prototype.__proto__=Uint8Array.prototype,hr.__proto__=Uint8Array),hr.alloc=function(t,e,r){return lr(t),0>=t?ur(null,t):void 0!==e?"string"==typeof r?ur(null,t).fill(e,r):ur(null,t).fill(e):ur(null,t)},hr.allocUnsafe=function(t){return pr(null,t)},hr.allocUnsafeSlow=function(t){return pr(null,t)},hr.isBuffer=Br,hr.compare=function(t,e){if(!gr(t)||!gr(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},hr.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},hr.concat=function(t,e){if(!ar(t))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(0===t.length)return hr.alloc(0);var r;if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;e=hr.allocUnsafe(e);var n=0;for(r=0;r<t.length;++r){var i=t[r];if(!gr(i))throw new TypeError(\'"list" argument must be an Array of Buffers\');i.copy(e,n),n+=i.length}return e},hr.byteLength=_r,hr.prototype._isBuffer=!0,hr.prototype.swap16=function(){var t=this.length;if(0!=t%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Sr(this,e,e+1);return this},hr.prototype.swap32=function(){var t=this.length;if(0!=t%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Sr(this,e,e+3),Sr(this,e+1,e+2);return this},hr.prototype.swap64=function(){var t=this.length;if(0!=t%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Sr(this,e,e+7),Sr(this,e+1,e+6),Sr(this,e+2,e+5),Sr(this,e+3,e+4);return this},hr.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Ar(this,0,t):Er.apply(this,arguments)},hr.prototype.equals=function(t){if(!gr(t))throw new TypeError("Argument must be a Buffer");return this===t||0===hr.compare(this,t)},hr.prototype.inspect=function(){var t="";return 0<this.length&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(t+=" ... ")),"<Buffer "+t+">"},hr.prototype.compare=function(t,e,r,n,i){if(!gr(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),0>e||r>t.length||0>n||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(o,s);for(n=this.slice(n,i),t=t.slice(e,r),e=0;e<a;++e)if(n[e]!==t[e]){o=n[e],s=t[e];break}return o<s?-1:s<o?1:0},hr.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},hr.prototype.indexOf=function(t,e,r){return mr(this,t,e,r,!0)},hr.prototype.lastIndexOf=function(t,e,r){return mr(this,t,e,r,!1)},hr.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),0<t.length&&(0>r||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(n||(n="utf8"),i=!1;;)switch(n){case"hex":t:{if(e=Number(e)||0,n=this.length-e,r?(r=Number(r))>n&&(r=n):r=n,0!=(n=t.length)%2)throw new TypeError("Invalid hex string");for(r>n/2&&(r=n/2),n=0;n<r;++n){if(i=parseInt(t.substr(2*n,2),16),isNaN(i)){t=n;break t}this[e+n]=i}t=n}return t;case"utf8":case"utf-8":return Wr(Cr(t,this.length-e),this,e,r);case"ascii":case"latin1":case"binary":return Wr(Lr(t),this,e,r);case"base64":return Wr(Pr(t),this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=t,i=this.length-e;for(var o=[],s=0;s<n.length&&!(0>(i-=2));++s){var a=n.charCodeAt(s);t=a>>8,a%=256,o.push(a),o.push(t)}return Wr(o,this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},hr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var vr=4096;function wr(t,e,r){if(0!=t%1||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function Tr(t,e,r,n,i,o){if(!gr(t))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(e>i||e<o)throw new RangeError(\'"value" argument is out of bounds\');if(r+n>t.length)throw new RangeError("Index out of range")}function br(t,e,r,n){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function Rr(t,e,r,n){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function Or(t,e,r,n){if(r+n>t.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("Index out of range")}hr.prototype.slice=function(t,e){var r=this.length;if(0>(t=~~t)?0>(t+=r)&&(t=0):t>r&&(t=r),0>(e=void 0===e?r:~~e)?0>(e+=r)&&(e=0):e>r&&(e=r),e<t&&(e=t),hr.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,e)).__proto__=hr.prototype;else{e=new hr(r=e-t,void 0);for(var n=0;n<r;++n)e[n]=this[n+t]}return e},hr.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||wr(t,e,this.length),r=this[t];for(var n=1,i=0;++i<e&&(n*=256);)r+=this[t+i]*n;return r},hr.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||wr(t,e,this.length),r=this[t+--e];for(var n=1;0<e&&(n*=256);)r+=this[t+--e]*n;return r},hr.prototype.readUInt8=function(t,e){return e||wr(t,1,this.length),this[t]},hr.prototype.readUInt16LE=function(t,e){return e||wr(t,2,this.length),this[t]|this[t+1]<<8},hr.prototype.readUInt16BE=function(t,e){return e||wr(t,2,this.length),this[t]<<8|this[t+1]},hr.prototype.readUInt32LE=function(t,e){return e||wr(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},hr.prototype.readUInt32BE=function(t,e){return e||wr(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},hr.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||wr(t,e,this.length),r=this[t];for(var n=1,i=0;++i<e&&(n*=256);)r+=this[t+i]*n;return r>=128*n&&(r-=Math.pow(2,8*e)),r},hr.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||wr(t,e,this.length),r=e;for(var n=1,i=this[t+--r];0<r&&(n*=256);)i+=this[t+--r]*n;return i>=128*n&&(i-=Math.pow(2,8*e)),i},hr.prototype.readInt8=function(t,e){return e||wr(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},hr.prototype.readInt16LE=function(t,e){return e||wr(t,2,this.length),32768&(t=this[t]|this[t+1]<<8)?4294901760|t:t},hr.prototype.readInt16BE=function(t,e){return e||wr(t,2,this.length),32768&(t=this[t+1]|this[t]<<8)?4294901760|t:t},hr.prototype.readInt32LE=function(t,e){return e||wr(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},hr.prototype.readInt32BE=function(t,e){return e||wr(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},hr.prototype.readFloatLE=function(t,e){return e||wr(t,4,this.length),ir(this,t,!0,23,4)},hr.prototype.readFloatBE=function(t,e){return e||wr(t,4,this.length),ir(this,t,!1,23,4)},hr.prototype.readDoubleLE=function(t,e){return e||wr(t,8,this.length),ir(this,t,!0,52,8)},hr.prototype.readDoubleBE=function(t,e){return e||wr(t,8,this.length),ir(this,t,!1,52,8)},hr.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||Tr(this,t,e,r,Math.pow(2,8*r)-1,0),n=1;var i=0;for(this[e]=255&t;++i<r&&(n*=256);)this[e+i]=t/n&255;return e+r},hr.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||Tr(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1;for(this[e+(n=r-1)]=255&t;0<=--n&&(i*=256);)this[e+n]=t/i&255;return e+r},hr.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||Tr(this,t,e,1,255,0),hr.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},hr.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||Tr(this,t,e,2,65535,0),hr.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):br(this,t,e,!0),e+2},hr.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||Tr(this,t,e,2,65535,0),hr.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):br(this,t,e,!1),e+2},hr.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||Tr(this,t,e,4,4294967295,0),hr.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):Rr(this,t,e,!0),e+4},hr.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||Tr(this,t,e,4,4294967295,0),hr.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Rr(this,t,e,!1),e+4},hr.prototype.writeIntLE=function(t,e,r,n){t=+t,e|=0,n||Tr(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n),n=0;var i=1,o=0;for(this[e]=255&t;++n<r&&(i*=256);)0>t&&0===o&&0!==this[e+n-1]&&(o=1),this[e+n]=(t/i|0)-o&255;return e+r},hr.prototype.writeIntBE=function(t,e,r,n){t=+t,e|=0,n||Tr(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var i=1,o=0;for(this[e+(n=r-1)]=255&t;0<=--n&&(i*=256);)0>t&&0===o&&0!==this[e+n+1]&&(o=1),this[e+n]=(t/i|0)-o&255;return e+r},hr.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||Tr(this,t,e,1,127,-128),hr.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},hr.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||Tr(this,t,e,2,32767,-32768),hr.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):br(this,t,e,!0),e+2},hr.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||Tr(this,t,e,2,32767,-32768),hr.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):br(this,t,e,!1),e+2},hr.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||Tr(this,t,e,4,2147483647,-2147483648),hr.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Rr(this,t,e,!0),e+4},hr.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||Tr(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),hr.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):Rr(this,t,e,!1),e+4},hr.prototype.writeFloatLE=function(t,e,r){return r||Or(this,0,e,4),or(this,t,e,!0,23,4),e+4},hr.prototype.writeFloatBE=function(t,e,r){return r||Or(this,0,e,4),or(this,t,e,!1,23,4),e+4},hr.prototype.writeDoubleLE=function(t,e,r){return r||Or(this,0,e,8),or(this,t,e,!0,52,8),e+8},hr.prototype.writeDoubleBE=function(t,e,r){return r||Or(this,0,e,8),or(this,t,e,!1,52,8),e+8},hr.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),0<n&&n<r&&(n=r),n===r||0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;if(this===t&&r<e&&e<n)for(n=i-1;0<=n;--n)t[n+e]=this[n+r];else if(1e3>i||!hr.TYPED_ARRAY_SUPPORT)for(n=0;n<i;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},hr.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);256>i&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!hr.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(0>e||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(n=e;n<r;++n)this[n]=t;else for(i=(t=gr(t)?t:Cr(new hr(t,n).toString())).length,n=0;n<r-e;++n)this[n+e]=t[n%i];return this};var Nr=/[^+\\/0-9A-Za-z-_]/g;function Cr(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],s=0;s<n;++s){if(55295<(r=t.charCodeAt(s))&&57344>r){if(!i){if(56319<r){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===n){-1<(e-=3)&&o.push(239,191,189);continue}i=r;continue}if(56320>r){-1<(e-=3)&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,128>r){if(0>--e)break;o.push(r)}else if(2048>r){if(0>(e-=2))break;o.push(r>>6|192,63&r|128)}else if(65536>r){if(0>(e-=3))break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw Error("Invalid code point");if(0>(e-=4))break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Lr(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function Pr(t){if(2>(t=(t.trim?t.trim():t.replace(/^\\s+|\\s+$/g,"")).replace(Nr,"")).length)t="";else for(;0!=t.length%4;)t+="=";tr||er();var e=t.length;if(0<e%4)throw Error("Invalid string. Length must be a multiple of 4");var r="="===t[e-2]?2:"="===t[e-1]?1:0,n=new Qe(3*e/4-r),i=0<r?e-4:e,o=0;for(e=0;e<i;e+=4){var s=$e[t.charCodeAt(e)]<<18|$e[t.charCodeAt(e+1)]<<12|$e[t.charCodeAt(e+2)]<<6|$e[t.charCodeAt(e+3)];n[o++]=s>>16&255,n[o++]=s>>8&255,n[o++]=255&s}return 2===r?(s=$e[t.charCodeAt(e)]<<2|$e[t.charCodeAt(e+1)]>>4,n[o++]=255&s):1===r&&(s=$e[t.charCodeAt(e)]<<10|$e[t.charCodeAt(e+1)]<<4|$e[t.charCodeAt(e+2)]>>2,n[o++]=s>>8&255,n[o++]=255&s),n}function Wr(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Br(t){return null!=t&&(!!t._isBuffer||Dr(t)||"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Dr(t.slice(0,0)))}function Dr(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Fr=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:fr,Buffer:hr,SlowBuffer:function(t){return+t!=t&&(t=0),hr.alloc(+t)},isBuffer:Br}),Ur=Ke((function(t,e){function r(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new(Fr.Buffer.bind.apply(Fr.Buffer,n([void 0,t],e)))}var n=je&&je.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;t=Array(t);var n=0;for(e=0;e<r;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,n++)t[n]=i[o];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Buffer=Fr.Buffer,e.bufferAllocUnsafe=Fr.Buffer.allocUnsafe||r,e.bufferFrom=Fr.Buffer.from||r}));function Mr(){throw Error("setTimeout has not been defined")}function kr(){throw Error("clearTimeout has not been defined")}Ve(Ur);var Gr=Mr,Hr=kr;function xr(t){if(Gr===setTimeout)return setTimeout(t,0);if((Gr===Mr||!Gr)&&setTimeout)return Gr=setTimeout,setTimeout(t,0);try{return Gr(t,0)}catch(e){try{return Gr.call(null,t,0)}catch(e){return Gr.call(this,t,0)}}}"function"==typeof Je.setTimeout&&(Gr=setTimeout),"function"==typeof Je.clearTimeout&&(Hr=clearTimeout);var Yr,jr=[],Vr=!1,Kr=-1;function zr(){Vr&&Yr&&(Vr=!1,Yr.length?jr=Yr.concat(jr):Kr=-1,jr.length&&qr())}function qr(){if(!Vr){var t=xr(zr);Vr=!0;for(var e=jr.length;e;){for(Yr=jr,jr=[];++Kr<e;)Yr&&Yr[Kr].run();Kr=-1,e=jr.length}Yr=null,Vr=!1,function(t){if(Hr===clearTimeout)return clearTimeout(t);if((Hr===kr||!Hr)&&clearTimeout)return Hr=clearTimeout,clearTimeout(t);try{return Hr(t)}catch(e){try{return Hr.call(null,t)}catch(e){return Hr.call(this,t)}}}(t)}}function Xr(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];jr.push(new Jr(t,e)),1!==jr.length||Vr||xr(qr)}function Jr(t,e){this.fun=t,this.array=e}function Zr(){}Jr.prototype.run=function(){this.fun.apply(null,this.array)};var $r=Je.performance||{},Qr=$r.now||$r.mozNow||$r.msNow||$r.oNow||$r.webkitNow||function(){return(new Date).getTime()},tn=new Date,en={nextTick:Xr,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Zr,addListener:Zr,once:Zr,off:Zr,removeListener:Zr,removeAllListeners:Zr,emit:Zr,binding:function(){throw Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(){throw Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*Qr.call($r),r=Math.floor(e);return e=Math.floor(e%1*1e9),t&&(r-=t[0],0>(e-=t[1])&&(r--,e+=1e9)),[r,e]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-tn)/1e3}},rn="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){function r(){}t.super_=e,r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t},nn=/%[sdj%]/g;function on(t){if(!Sn(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(hn(arguments[r]));return e.join(" ")}r=1;var n=arguments,i=n.length;e=String(t).replace(nn,(function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}));for(var o=n[r];r<i;o=n[++r])e=null!==o&&An(o)?e+" "+hn(o):e+" "+o;return e}function sn(t,e){if(mn(Je.process))return function(){return sn(t,e).apply(this,arguments)};if(!0===en.noDeprecation)return t;var r=!1;return function(){if(!r){if(en.throwDeprecation)throw Error(e);en.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}}var an,fn={};function un(t){return mn(an)&&(an=en.env.NODE_DEBUG||""),t=t.toUpperCase(),fn[t]||(new RegExp("\\\\b"+t+"\\\\b","i").test(an)?fn[t]=function(){var e=on.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:fn[t]=function(){}),fn[t]}function hn(t,e){var r={seen:[],stylize:ln};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),_n(e)?r.showHidden=e:e&&Nn(r,e),mn(r.showHidden)&&(r.showHidden=!1),mn(r.depth)&&(r.depth=2),mn(r.colors)&&(r.colors=!1),mn(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=cn),pn(r,t,r.depth)}function cn(t,e){return(e=hn.styles[e])?"["+hn.colors[e][0]+"m"+t+"["+hn.colors[e][1]+"m":t}function ln(t){return t}function pn(t,e,r){if(t.customInspect&&e&&Tn(e.inspect)&&e.inspect!==hn&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(r,t);return Sn(n)||(n=pn(t,n,r)),n}if(n=function(t,e){return mn(e)?t.stylize("undefined","undefined"):Sn(e)?(e="\'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\')+"\'",t.stylize(e,"string")):En(e)?t.stylize(""+e,"number"):_n(e)?t.stylize(""+e,"boolean"):null===e?t.stylize("null","null"):void 0}(t,e))return n;var i=Object.keys(e),o=function(t){var e={};return t.forEach((function(t){e[t]=!0})),e}(i);if(t.showHidden&&(i=Object.getOwnPropertyNames(e)),wn(e)&&(0<=i.indexOf("message")||0<=i.indexOf("description")))return dn(e);if(0===i.length){if(Tn(e))return t.stylize("[Function"+(e.name?": "+e.name:"")+"]","special");if(In(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(vn(e))return t.stylize(Date.prototype.toString.call(e),"date");if(wn(e))return dn(e)}n="";var s=!1,a=["{","}"];return gn(e)&&(s=!0,a=["[","]"]),Tn(e)&&(n=" [Function"+(e.name?": "+e.name:"")+"]"),In(e)&&(n=" "+RegExp.prototype.toString.call(e)),vn(e)&&(n=" "+Date.prototype.toUTCString.call(e)),wn(e)&&(n=" "+dn(e)),0!==i.length||s&&0!=e.length?0>r?In(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),i=s?function(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)Object.prototype.hasOwnProperty.call(e,String(s))?o.push(yn(t,e,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\\d+$/)||o.push(yn(t,e,r,n,i,!0))})),o}(t,e,r,o,i):i.map((function(n){return yn(t,e,r,o,n,s)})),t.seen.pop(),function(t,e,r){return 60<t.reduce((function(t,e){return e.indexOf("\\n"),t+e.replace(/\\u001b\\[\\d\\d?m/g,"").length+1}),0)?r[0]+(""===e?"":e+"\\n ")+" "+t.join(",\\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}(i,n,a)):a[0]+n+a[1]}function dn(t){return"["+Error.prototype.toString.call(t)+"]"}function yn(t,e,r,n,i,o){var s,a;if((e=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=e.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):e.set&&(a=t.stylize("[Setter]","special")),Object.prototype.hasOwnProperty.call(n,i)||(s="["+i+"]"),a||(0>t.seen.indexOf(e.value)?-1<(a=pn(t,e.value,null===r?null:r-1)).indexOf("\\n")&&(a=o?a.split("\\n").map((function(t){return"  "+t})).join("\\n").substr(2):"\\n"+a.split("\\n").map((function(t){return"   "+t})).join("\\n")):a=t.stylize("[Circular]","special")),mn(s)){if(o&&i.match(/^\\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\').replace(/(^"|"$)/g,"\'"),s=t.stylize(s,"string"))}return s+": "+a}function gn(t){return Array.isArray(t)}function _n(t){return"boolean"==typeof t}function En(t){return"number"==typeof t}function Sn(t){return"string"==typeof t}function mn(t){return void 0===t}function In(t){return An(t)&&"[object RegExp]"===Object.prototype.toString.call(t)}function An(t){return"object"==typeof t&&null!==t}function vn(t){return An(t)&&"[object Date]"===Object.prototype.toString.call(t)}function wn(t){return An(t)&&("[object Error]"===Object.prototype.toString.call(t)||t instanceof Error)}function Tn(t){return"function"==typeof t}function bn(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function Rn(t){return 10>t?"0"+t.toString(10):t.toString(10)}hn.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},hn.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var On="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");function Nn(t,e){if(!e||!An(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}var Cn={inherits:rn,_extend:Nn,log:function(){var t,e;console.log("%s - %s",(e=[Rn((t=new Date).getHours()),Rn(t.getMinutes()),Rn(t.getSeconds())].join(":"),[t.getDate(),On[t.getMonth()],e].join(" ")),on.apply(null,arguments))},isBuffer:function(t){return Br(t)},isPrimitive:bn,isFunction:Tn,isError:wn,isDate:vn,isObject:An,isRegExp:In,isUndefined:mn,isSymbol:function(t){return"symbol"==typeof t},isString:Sn,isNumber:En,isNullOrUndefined:function(t){return null==t},isNull:function(t){return null===t},isBoolean:_n,isArray:gn,inspect:hn,deprecate:sn,format:on,debuglog:un};function Ln(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}var Pn,Wn=Object.prototype.hasOwnProperty,Bn=Object.keys||function(t){var e,r=[];for(e in t)Wn.call(t,e)&&r.push(e);return r},Dn=Array.prototype.slice;function Fn(){return void 0!==Pn?Pn:Pn="foo"===function(){}.name}function Un(t){return!Br(t)&&"function"==typeof Je.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&!!(t instanceof DataView||t.buffer&&t.buffer instanceof ArrayBuffer))}function Mn(t,e){t||jn(t,!0,e,"==",Vn)}var kn=/\\s*function\\s+([^\\(\\s]*)\\s*/;function Gn(t){if(Tn(t))return Fn()?t.name:(t=t.toString().match(kn))&&t[1]}function Hn(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=xn(Yn(this.actual),128)+" "+this.operator+" "+xn(Yn(this.expected),128),this.generatedMessage=!0);var e=t.stackStartFunction||jn;Error.captureStackTrace?Error.captureStackTrace(this,e):(t=Error()).stack&&(t=t.stack,e=Gn(e),0<=(e=t.indexOf("\\n"+e))&&(e=t.indexOf("\\n",e+1),t=t.substring(e+1)),this.stack=t)}function xn(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function Yn(t){return Fn()||!Tn(t)?hn(t):"[Function"+((t=Gn(t))?": "+t:"")+"]"}function jn(t,e,r,n,i){throw new Hn({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function Vn(t,e){t||jn(t,!0,e,"==",Vn)}function Kn(t,e,r,n){if(t===e)return!0;if(Br(t)&&Br(e))return 0===Ln(t,e);if(vn(t)&&vn(e))return t.getTime()===e.getTime();if(In(t)&&In(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(!Un(t)||!Un(e)||Object.prototype.toString.call(t)!==Object.prototype.toString.call(e)||t instanceof Float32Array||t instanceof Float64Array){if(Br(t)!==Br(e))return!1;var i=(n=n||{actual:[],expected:[]}).actual.indexOf(t);return-1!==i&&i===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),function(t,e,r,n){if(null==t||null==e)return!1;if(bn(t)||bn(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=zn(t),o=zn(e);if(i&&!o||!i&&o)return!1;if(i)return Kn(t=Dn.call(t),e=Dn.call(e),r);i=Bn(t);var s=Bn(e);if(i.length!==s.length)return!1;for(i.sort(),s.sort(),o=i.length-1;0<=o;o--)if(i[o]!==s[o])return!1;for(o=i.length-1;0<=o;o--)if(!Kn(t[s=i[o]],e[s],r,n))return!1;return!0}(t,e,r,n))}return 0===Ln(new Uint8Array(t.buffer),new Uint8Array(e.buffer))}return r?t===e:t==e}function zn(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function qn(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function Xn(t,e,r,n){if("function"!=typeof e)throw new TypeError(\'"block" argument must be a function\');"string"==typeof r&&(n=r,r=null);try{e()}catch(t){var i=t}e=i,n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!e&&jn(e,r,"Missing expected exception"+n),i="string"==typeof n;var o=!t&&e&&!r;if((!t&&wn(e)&&i&&qn(e,r)||o)&&jn(e,r,"Got unwanted exception"+n),t&&e&&r&&!qn(e,r)||!t&&e)throw e}Mn.AssertionError=Hn,rn(Hn,Error),Mn.fail=jn,Mn.ok=Vn,Mn.equal=function t(e,r,n){e!=r&&jn(e,r,n,"==",t)},Mn.notEqual=function t(e,r,n){e==r&&jn(e,r,n,"!=",t)},Mn.deepEqual=function t(e,r,n){Kn(e,r,!1)||jn(e,r,n,"deepEqual",t)},Mn.deepStrictEqual=function t(e,r,n){Kn(e,r,!0)||jn(e,r,n,"deepStrictEqual",t)},Mn.notDeepEqual=function t(e,r,n){Kn(e,r,!1)&&jn(e,r,n,"notDeepEqual",t)},Mn.notDeepStrictEqual=function t(e,r,n){Kn(e,r,!0)&&jn(e,r,n,"notDeepStrictEqual",t)},Mn.strictEqual=function t(e,r,n){e!==r&&jn(e,r,n,"===",t)},Mn.notStrictEqual=function t(e,r,n){e===r&&jn(e,r,n,"!==",t)},Mn.throws=function(t,e,r){Xn(!0,t,e,r)},Mn.doesNotThrow=function(t,e,r){Xn(!1,t,e,r)},Mn.ifError=function(t){if(t)throw t};var Jn=Ke((function(t,e){function r(t){return function(t){function e(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return(r=t.call(this,n(e,r))||this).code=e,r[a]=e,r.name=t.prototype.name+" ["+r[a]+"]",r}return s(e,t),e}(t)}function n(t,e){Mn.strictEqual(typeof t,"string");var r=f[t];if(Mn(r,"An invalid error message key was used: "+t+"."),"function"==typeof r)t=r;else{if(t=Cn.format,void 0===e||0===e.length)return r;e.unshift(r)}return String(t.apply(null,e))}function i(t,e){f[t]="function"==typeof e?e:String(e)}function o(t,e){if(Mn(t,"expected is required"),Mn("string"==typeof e,"thing is required"),Array.isArray(t)){var r=t.length;return Mn(0<r,"At least one expected value needs to be specified"),t=t.map((function(t){return String(t)})),2<r?"one of "+e+" "+t.slice(0,r-1).join(", ")+", or "+t[r-1]:2===r?"one of "+e+" "+t[0]+" or "+t[1]:"of "+e+" "+t[0]}return"of "+e+" "+String(t)}var s=je&&je.__extends||function(){function t(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)}return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var a="undefined"==typeof Symbol?"_kCode":Symbol("code"),f={};t=function(t){function r(r){if("object"!=typeof r||null===r)throw new e.TypeError("ERR_INVALID_ARG_TYPE","options","object");var n=r.message?t.call(this,r.message)||this:t.call(this,Cn.inspect(r.actual).slice(0,128)+" "+r.operator+" "+Cn.inspect(r.expected).slice(0,128))||this;return n.generatedMessage=!r.message,n.name="AssertionError [ERR_ASSERTION]",n.code="ERR_ASSERTION",n.actual=r.actual,n.expected=r.expected,n.operator=r.operator,e.Error.captureStackTrace(n,r.stackStartFunction),n}return s(r,t),r}(je.Error),e.AssertionError=t,e.message=n,e.E=i,e.Error=r(je.Error),e.TypeError=r(je.TypeError),e.RangeError=r(je.RangeError),i("ERR_ARG_NOT_ITERABLE","%s must be iterable"),i("ERR_ASSERTION","%s"),i("ERR_BUFFER_OUT_OF_BOUNDS",(function(t,e){return e?"Attempt to write outside buffer bounds":\'"\'+t+\'" is outside of buffer bounds\'})),i("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),i("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),i("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),i("ERR_DNS_SET_SERVERS_FAILED",(function(t,e){return\'c-ares failed to set servers: "\'+t+\'" [\'+e+"]"})),i("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),i("ERR_ENCODING_NOT_SUPPORTED",(function(t){return\'The "\'+t+\'" encoding is not supported\'})),i("ERR_ENCODING_INVALID_ENCODED_DATA",(function(t){return"The encoded data was not valid for encoding "+t})),i("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),i("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),i("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),i("ERR_INDEX_OUT_OF_RANGE","Index out of range"),i("ERR_INVALID_ARG_TYPE",(function(t,e,r){if(Mn(t,"name is required"),e.includes("not ")){var n="must not be";e=e.split("not ")[1]}else n="must be";if(Array.isArray(t))n="The "+t.map((function(t){return\'"\'+t+\'"\'})).join(", ")+" arguments "+n+" "+o(e,"type");else if(t.includes(" argument"))n="The "+t+" "+n+" "+o(e,"type");else{var i=t.includes(".")?"property":"argument";n=\'The "\'+t+\'" \'+i+" "+n+" "+o(e,"type")}return 3<=arguments.length&&(n+=". Received type "+(null!==r?typeof r:"null")),n})),i("ERR_INVALID_ARRAY_LENGTH",(function(t,e,r){return Mn.strictEqual(typeof r,"number"),\'The array "\'+t+\'" (length \'+r+") must be of length "+e+"."})),i("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),i("ERR_INVALID_CALLBACK","Callback must be a function"),i("ERR_INVALID_CHAR","Invalid character in %s"),i("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),i("ERR_INVALID_FD",\'"fd" must be a positive integer: %s\'),i("ERR_INVALID_FILE_URL_HOST",\'File URL host must be "localhost" or empty on %s\'),i("ERR_INVALID_FILE_URL_PATH","File URL path %s"),i("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),i("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),i("ERR_INVALID_OPT_VALUE",(function(t,e){return\'The value "\'+String(e)+\'" is invalid for option "\'+t+\'"\'})),i("ERR_INVALID_OPT_VALUE_ENCODING",(function(t){return\'The value "\'+String(t)+\'" is invalid for option "encoding"\'})),i("ERR_INVALID_REPL_EVAL_CONFIG",\'Cannot specify both "breakEvalOnSigint" and "eval" for REPL\'),i("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),i("ERR_INVALID_THIS",\'Value of "this" must be of type %s\'),i("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),i("ERR_INVALID_URL","Invalid URL: %s"),i("ERR_INVALID_URL_SCHEME",(function(t){return"The URL must be "+o(t,"scheme")})),i("ERR_IPC_CHANNEL_CLOSED","Channel closed"),i("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),i("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),i("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),i("ERR_MISSING_ARGS",(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Mn(0<t.length,"At least one arg needs to be specified"),e="The ";var r=t.length;switch(t=t.map((function(t){return\'"\'+t+\'"\'})),r){case 1:e+=t[0]+" argument";break;case 2:e+=t[0]+" and "+t[1]+" arguments";break;default:e+=t.slice(0,r-1).join(", "),e+=", and "+t[r-1]+" arguments"}return e+" must be specified"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),i("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),i("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),i("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),i("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),i("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),i("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),i("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),i("ERR_SOCKET_CANNOT_SEND","Unable to send data"),i("ERR_SOCKET_CLOSED","Socket is closed"),i("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),i("ERR_STDERR_CLOSE","process.stderr cannot be closed"),i("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),i("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),i("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate\'s altnames: %s"),i("ERR_TLS_DH_PARAM_SIZE",(function(t){return"DH parameter size "+t+" is less than 2048"})),i("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),i("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),i("ERR_TLS_REQUIRED_SERVER_NAME",\'"servername" is required parameter for Server.addContext\'),i("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),i("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),i("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),i("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),i("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),i("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),i("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),i("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl")}));Ve(Jn);var Zn=Ke((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ENCODING_UTF8="utf8",e.assertEncoding=function(t){if(t&&!Ur.Buffer.isEncoding(t))throw new Jn.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",t)},e.strToEncoding=function(t,r){return r&&r!==e.ENCODING_UTF8?"buffer"===r?new Ur.Buffer(t):new Ur.Buffer(t).toString(r):t}}));Ve(Zn);var $n=Ke((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=ze.constants.S_IFMT,n=ze.constants.S_IFDIR,i=ze.constants.S_IFREG,o=ze.constants.S_IFBLK,s=ze.constants.S_IFCHR,a=ze.constants.S_IFLNK,f=ze.constants.S_IFIFO,u=ze.constants.S_IFSOCK;t=function(){function t(){this.name="",this.mode=0}return t.build=function(e,r){var n=new t,i=e.getNode().mode;return n.name=Zn.strToEncoding(e.getName(),r),n.mode=i,n},t.prototype._checkModeProperty=function(t){return(this.mode&r)===t},t.prototype.isDirectory=function(){return this._checkModeProperty(n)},t.prototype.isFile=function(){return this._checkModeProperty(i)},t.prototype.isBlockDevice=function(){return this._checkModeProperty(o)},t.prototype.isCharacterDevice=function(){return this._checkModeProperty(s)},t.prototype.isSymbolicLink=function(){return this._checkModeProperty(a)},t.prototype.isFIFO=function(){return this._checkModeProperty(f)},t.prototype.isSocket=function(){return this._checkModeProperty(u)},t}(),e.Dirent=t,e.default=t}));function Qn(){for(var t="",e=!1,r=arguments.length-1;-1<=r&&!e;r--){var n=0<=r?arguments[r]:"/";if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(t=n+"/"+t,e="/"===n.charAt(0))}return(e?"/":"")+(t=function(t,e){for(var r=0,n=t.length-1;0<=n;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}(function(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}(t.split("/"),(function(t){return!!t})),!e).join("/"))||"."}function ti(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;0<=r&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=Qn(t).substr(1),e=Qn(e).substr(1),t=r(t.split("/")),e=r(e.split("/"));for(var n=Math.min(t.length,e.length),i=n,o=0;o<n;o++)if(t[o]!==e[o]){i=o;break}for(n=[],o=i;o<t.length;o++)n.push("..");return(n=n.concat(e.slice(i))).join("/")}Ve($n);var ei=ti,ri=Qn;var ni=Ke((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),t="function"==typeof setImmediate?setImmediate.bind(je):setTimeout.bind(je),e.default=t}));Ve(ni);var ii=Ke((function(t,e){function r(){var t=en||{};return t.getuid||(t.getuid=function(){return 0}),t.getgid||(t.getgid=function(){return 0}),t.cwd||(t.cwd=function(){return"/"}),t.nextTick||(t.nextTick=ni.default),t.emitWarning||(t.emitWarning=function(t,e){console.warn(e+(e?": ":"")+t)}),t.env||(t.env={}),t}Object.defineProperty(e,"__esModule",{value:!0}),e.createProcess=r,e.default=r()}));function oi(){}function si(){si.init.call(this)}function ai(t,e,r,n){var i;if("function"!=typeof r)throw new TypeError(\'"listener" argument must be a function\');if(i=t._events){i.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events);var o=i[e]}else i=t._events=new oi,t._eventsCount=0;return o?("function"==typeof o?o=i[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),o.warned||(r=void 0===t._maxListeners?si.defaultMaxListeners:t._maxListeners)&&0<r&&o.length>r&&(o.warned=!0,(r=Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",r.emitter=t,r.type=e,r.count=o.length,"function"==typeof console.warn?console.warn(r):console.log(r))):(i[e]=r,++t._eventsCount),t}function fi(t,e,r){function n(){t.removeListener(e,n),i||(i=!0,r.apply(t,arguments))}var i=!1;return n.listener=r,n}function ui(t){var e=this._events;if(e){if("function"==typeof(t=e[t]))return 1;if(t)return t.length}return 0}function hi(t,e){for(var r=Array(e);e--;)r[e]=t[e];return r}Ve(ii),oi.prototype=Object.create(null),si.EventEmitter=si,si.usingDomains=!1,si.prototype.domain=void 0,si.prototype._events=void 0,si.prototype._maxListeners=void 0,si.defaultMaxListeners=10,si.init=function(){this.domain=null,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new oi,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},si.prototype.setMaxListeners=function(t){if("number"!=typeof t||0>t||isNaN(t))throw new TypeError(\'"n" argument must be a positive number\');return this._maxListeners=t,this},si.prototype.getMaxListeners=function(){return void 0===this._maxListeners?si.defaultMaxListeners:this._maxListeners},si.prototype.emit=function(t){var e,r,n="error"===t;if(e=this._events)n=n&&null==e.error;else if(!n)return!1;var i=this.domain;if(n){if(e=arguments[1],!i){if(e instanceof Error)throw e;throw(i=Error(\'Uncaught, unspecified "error" event. (\'+e+")")).context=e,i}return e||(e=Error(\'Uncaught, unspecified "error" event\')),e.domainEmitter=this,e.domain=i,e.domainThrown=!1,i.emit("error",e),!1}if(!(i=e[t]))return!1;e="function"==typeof i;var o=arguments.length;switch(o){case 1:if(e)i.call(this);else for(i=hi(i,e=i.length),n=0;n<e;++n)i[n].call(this);break;case 2:if(n=arguments[1],e)i.call(this,n);else for(i=hi(i,e=i.length),o=0;o<e;++o)i[o].call(this,n);break;case 3:if(n=arguments[1],o=arguments[2],e)i.call(this,n,o);else for(i=hi(i,e=i.length),r=0;r<e;++r)i[r].call(this,n,o);break;case 4:if(n=arguments[1],o=arguments[2],r=arguments[3],e)i.call(this,n,o,r);else{i=hi(i,e=i.length);for(var s=0;s<e;++s)i[s].call(this,n,o,r)}break;default:for(n=Array(o-1),r=1;r<o;r++)n[r-1]=arguments[r];if(e)i.apply(this,n);else for(i=hi(i,e=i.length),o=0;o<e;++o)i[o].apply(this,n)}return!0},si.prototype.addListener=function(t,e){return ai(this,t,e,!1)},si.prototype.on=si.prototype.addListener,si.prototype.prependListener=function(t,e){return ai(this,t,e,!0)},si.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError(\'"listener" argument must be a function\');return this.on(t,fi(this,t,e)),this},si.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError(\'"listener" argument must be a function\');return this.prependListener(t,fi(this,t,e)),this},si.prototype.removeListener=function(t,e){var r;if("function"!=typeof e)throw new TypeError(\'"listener" argument must be a function\');var n=this._events;if(!n)return this;var i=n[t];if(!i)return this;if(i===e||i.listener&&i.listener===e)0==--this._eventsCount?this._events=new oi:(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if("function"!=typeof i){var o=-1;for(r=i.length;0<r--;)if(i[r]===e||i[r].listener&&i[r].listener===e){var s=i[r].listener;o=r;break}if(0>o)return this;if(1===i.length){if(i[0]=void 0,0==--this._eventsCount)return this._events=new oi,this;delete n[t]}else{r=o+1;for(var a=i.length;r<a;o+=1,r+=1)i[o]=i[r];i.pop()}n.removeListener&&this.emit("removeListener",t,s||e)}return this},si.prototype.removeAllListeners=function(t){var e=this._events;if(!e)return this;if(!e.removeListener)return 0===arguments.length?(this._events=new oi,this._eventsCount=0):e[t]&&(0==--this._eventsCount?this._events=new oi:delete e[t]),this;if(0===arguments.length){e=Object.keys(e);for(var r,n=0;n<e.length;++n)"removeListener"!==(r=e[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new oi,this._eventsCount=0,this}if("function"==typeof(e=e[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},si.prototype.listeners=function(t){var e=this._events;if(e)if(t=e[t])if("function"==typeof t)t=[t.listener||t];else{e=Array(t.length);for(var r=0;r<e.length;++r)e[r]=t[r].listener||t[r];t=e}else t=[];else t=[];return t},si.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):ui.call(t,e)},si.prototype.listenerCount=ui,si.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};var ci=Ke((function(t,e){var r=je&&je.__extends||function(){function t(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)}return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=ze.constants.S_IFMT,i=ze.constants.S_IFDIR,o=ze.constants.S_IFREG,s=ze.constants.S_IFLNK,a=ze.constants.O_APPEND;e.SEP="/",t=function(t){function e(e,r){void 0===r&&(r=438);var n=t.call(this)||this;return n.uid=ii.default.getuid(),n.gid=ii.default.getgid(),n.atime=new Date,n.mtime=new Date,n.ctime=new Date,n.perm=438,n.mode=o,n.nlink=1,n.perm=r,n.mode|=r,n.ino=e,n}return r(e,t),e.prototype.getString=function(t){return void 0===t&&(t="utf8"),this.getBuffer().toString(t)},e.prototype.setString=function(t){this.buf=Ur.bufferFrom(t,"utf8"),this.touch()},e.prototype.getBuffer=function(){return this.buf||this.setBuffer(Ur.bufferAllocUnsafe(0)),Ur.bufferFrom(this.buf)},e.prototype.setBuffer=function(t){this.buf=Ur.bufferFrom(t),this.touch()},e.prototype.getSize=function(){return this.buf?this.buf.length:0},e.prototype.setModeProperty=function(t){this.mode=this.mode&~n|t},e.prototype.setIsFile=function(){this.setModeProperty(o)},e.prototype.setIsDirectory=function(){this.setModeProperty(i)},e.prototype.setIsSymlink=function(){this.setModeProperty(s)},e.prototype.isFile=function(){return(this.mode&n)===o},e.prototype.isDirectory=function(){return(this.mode&n)===i},e.prototype.isSymlink=function(){return(this.mode&n)===s},e.prototype.makeSymlink=function(t){this.symlink=t,this.setIsSymlink()},e.prototype.write=function(t,e,r,n){if(void 0===e&&(e=0),void 0===r&&(r=t.length),void 0===n&&(n=0),this.buf||(this.buf=Ur.bufferAllocUnsafe(0)),n+r>this.buf.length){var i=Ur.bufferAllocUnsafe(n+r);this.buf.copy(i,0,0,this.buf.length),this.buf=i}return t.copy(this.buf,n,e,e+r),this.touch(),r},e.prototype.read=function(t,e,r,n){return void 0===e&&(e=0),void 0===r&&(r=t.byteLength),void 0===n&&(n=0),this.buf||(this.buf=Ur.bufferAllocUnsafe(0)),r>t.byteLength&&(r=t.byteLength),r+n>this.buf.length&&(r=this.buf.length-n),this.buf.copy(t,e,n,n+r),r},e.prototype.truncate=function(t){if(void 0===t&&(t=0),t)if(this.buf||(this.buf=Ur.bufferAllocUnsafe(0)),t<=this.buf.length)this.buf=this.buf.slice(0,t);else{var e=Ur.bufferAllocUnsafe(0);this.buf.copy(e),e.fill(0,t)}else this.buf=Ur.bufferAllocUnsafe(0);this.touch()},e.prototype.chmod=function(t){this.perm=t,this.mode=-512&this.mode|t,this.touch()},e.prototype.chown=function(t,e){this.uid=t,this.gid=e,this.touch()},e.prototype.touch=function(){this.mtime=new Date,this.emit("change",this)},e.prototype.canRead=function(t,e){return void 0===t&&(t=ii.default.getuid()),void 0===e&&(e=ii.default.getgid()),!!(4&this.perm||e===this.gid&&32&this.perm||t===this.uid&&256&this.perm)},e.prototype.canWrite=function(t,e){return void 0===t&&(t=ii.default.getuid()),void 0===e&&(e=ii.default.getgid()),!!(2&this.perm||e===this.gid&&16&this.perm||t===this.uid&&128&this.perm)},e.prototype.del=function(){this.emit("delete",this)},e.prototype.toJSON=function(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}},e}(si.EventEmitter),e.Node=t,t=function(t){function n(e,r,n){var i=t.call(this)||this;return i.children={},i.steps=[],i.ino=0,i.length=0,i.vol=e,i.parent=r,i.steps=r?r.steps.concat([n]):[n],i}return r(n,t),n.prototype.setNode=function(t){this.node=t,this.ino=t.ino},n.prototype.getNode=function(){return this.node},n.prototype.createChild=function(t,e){void 0===e&&(e=this.vol.createNode());var r=new n(this.vol,this,t);return r.setNode(e),e.isDirectory(),this.setChild(t,r),r},n.prototype.setChild=function(t,e){return void 0===e&&(e=new n(this.vol,this,t)),this.children[t]=e,e.parent=this,this.length++,this.emit("child:add",e,this),e},n.prototype.deleteChild=function(t){delete this.children[t.getName()],this.length--,this.emit("child:delete",t,this)},n.prototype.getChild=function(t){if(Object.hasOwnProperty.call(this.children,t))return this.children[t]},n.prototype.getPath=function(){return this.steps.join(e.SEP)},n.prototype.getName=function(){return this.steps[this.steps.length-1]},n.prototype.walk=function(t,e,r){if(void 0===e&&(e=t.length),void 0===r&&(r=0),r>=t.length||r>=e)return this;var n=this.getChild(t[r]);return n?n.walk(t,e,r+1):null},n.prototype.toJSON=function(){return{steps:this.steps,ino:this.ino,children:Object.keys(this.children)}},n}(si.EventEmitter),e.Link=t,t=function(){function t(t,e,r,n){this.position=0,this.link=t,this.node=e,this.flags=r,this.fd=n}return t.prototype.getString=function(){return this.node.getString()},t.prototype.setString=function(t){this.node.setString(t)},t.prototype.getBuffer=function(){return this.node.getBuffer()},t.prototype.setBuffer=function(t){this.node.setBuffer(t)},t.prototype.getSize=function(){return this.node.getSize()},t.prototype.truncate=function(t){this.node.truncate(t)},t.prototype.seekTo=function(t){this.position=t},t.prototype.stats=function(){return Xe.default.build(this.node)},t.prototype.write=function(t,e,r,n){return void 0===e&&(e=0),void 0===r&&(r=t.length),"number"!=typeof n&&(n=this.position),this.flags&a&&(n=this.getSize()),t=this.node.write(t,e,r,n),this.position=n+t,t},t.prototype.read=function(t,e,r,n){return void 0===e&&(e=0),void 0===r&&(r=t.byteLength),"number"!=typeof n&&(n=this.position),t=this.node.read(t,e,r,n),this.position=n+t,t},t.prototype.chmod=function(t){this.node.chmod(t)},t.prototype.chown=function(t,e){this.node.chown(t,e)},t}(),e.File=t}));Ve(ci);var li=ci.Node,pi=Ke((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var n=setTimeout.apply(null,arguments);return n&&"object"==typeof n&&"function"==typeof n.unref&&n.unref(),n}}));function di(){this.tail=this.head=null,this.length=0}Ve(pi),di.prototype.push=function(t){t={data:t,next:null},0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},di.prototype.unshift=function(t){t={data:t,next:this.head},0===this.length&&(this.tail=t),this.head=t,++this.length},di.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,t}},di.prototype.clear=function(){this.head=this.tail=null,this.length=0},di.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},di.prototype.concat=function(t){if(0===this.length)return hr.alloc(0);if(1===this.length)return this.head.data;t=hr.allocUnsafe(t>>>0);for(var e=this.head,r=0;e;)e.data.copy(t,r),r+=e.data.length,e=e.next;return t};var yi=hr.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function gi(t){if(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),t&&!yi(t))throw Error("Unknown encoding: "+t);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Ei;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=Si;break;default:return void(this.write=_i)}this.charBuffer=new hr(6),this.charLength=this.charReceived=0}function _i(t){return t.toString(this.encoding)}function Ei(t){this.charLength=(this.charReceived=t.length%2)?2:0}function Si(t){this.charLength=(this.charReceived=t.length%3)?3:0}gi.prototype.write=function(t){for(var e="";this.charLength;){if(e=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length,t.copy(this.charBuffer,this.charReceived,0,e),this.charReceived+=e,this.charReceived<this.charLength)return"";t=t.slice(e,t.length);var r=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1);if(!(55296<=r&&56319>=r)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var n=t.length;return this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,n),n-=this.charReceived),n=(e+=t.toString(this.encoding,0,n)).length-1,55296<=(r=e.charCodeAt(n))&&56319>=r?(r=this.surrogateSize,this.charLength+=r,this.charReceived+=r,this.charBuffer.copy(this.charBuffer,r,0,r),t.copy(this.charBuffer,0,0,r),e.substring(0,n)):e},gi.prototype.detectIncompleteChar=function(t){for(var e=3<=t.length?3:t.length;0<e;e--){var r=t[t.length-e];if(1==e&&6==r>>5){this.charLength=2;break}if(2>=e&&14==r>>4){this.charLength=3;break}if(3>=e&&30==r>>3){this.charLength=4;break}}this.charReceived=e},gi.prototype.end=function(t){var e="";return t&&t.length&&(e=this.write(t)),this.charReceived&&(t=this.encoding,e+=this.charBuffer.slice(0,this.charReceived).toString(t)),e},Ai.ReadableState=Ii;var mi=un("stream");function Ii(t,e){t=t||{},this.objectMode=!!t.objectMode,e instanceof qi&&(this.objectMode=this.objectMode||!!t.readableObjectMode),e=t.highWaterMark;var r=this.objectMode?16:16384;this.highWaterMark=e||0===e?e:r,this.highWaterMark=~~this.highWaterMark,this.buffer=new di,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.reading=this.endEmitted=this.ended=!1,this.sync=!0,this.resumeScheduled=this.readableListening=this.emittedReadable=this.needReadable=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.encoding=this.decoder=null,t.encoding&&(this.decoder=new gi(t.encoding),this.encoding=t.encoding)}function Ai(t){if(!(this instanceof Ai))return new Ai(t);this._readableState=new Ii(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),si.call(this)}function vi(t,e,r,n,i){var o=r,s=null;if(Br(o)||"string"==typeof o||null==o||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),o=s)t.emit("error",o);else if(null===r)e.reading=!1,e.ended||(e.decoder&&(r=e.decoder.end())&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length),e.ended=!0,Ti(t));else if(e.objectMode||r&&0<r.length)if(e.ended&&!i)t.emit("error",Error("stream.push() after EOF"));else if(e.endEmitted&&i)t.emit("error",Error("stream.unshift() after end event"));else{if(e.decoder&&!i&&!n){r=e.decoder.write(r);var a=!e.objectMode&&0===r.length}i||(e.reading=!1),a||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Ti(t))),e.readingMore||(e.readingMore=!0,Xr(Ri,t,e))}else i||(e.reading=!1);return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function wi(t,e){if(0>=t||0===e.length&&e.ended)return 0;if(e.objectMode)return 1;if(t!=t)return e.flowing&&e.length?e.buffer.head.data.length:e.length;if(t>e.highWaterMark){var r=t;8388608<=r?r=8388608:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),e.highWaterMark=r}return t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0)}function Ti(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(mi("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Xr(bi,t):bi(t))}function bi(t){mi("emit readable"),t.emit("readable"),Ci(t)}function Ri(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(mi("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function Oi(t){mi("readable nexttick read 0"),t.read(0)}function Ni(t,e){e.reading||(mi("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),Ci(t),e.flowing&&!e.reading&&t.read(0)}function Ci(t){var e=t._readableState;for(mi("flow",e.flowing);e.flowing&&null!==t.read(););}function Li(t,e){if(0===e.length)return null;if(e.objectMode)var r=e.buffer.shift();else if(!t||t>=e.length)r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear();else{if(r=e.buffer,e=e.decoder,t<r.head.data.length)e=r.head.data.slice(0,t),r.head.data=r.head.data.slice(t);else{if(t===r.head.data.length)r=r.shift();else if(e){var n=1,i=(e=r.head).data;for(t-=i.length;e=e.next;){var o=e.data,s=t>o.length?o.length:t;if(i=s===o.length?i+o:i+o.slice(0,t),0==(t-=s)){s===o.length?(++n,r.head=e.next?e.next:r.tail=null):(r.head=e,e.data=o.slice(s));break}++n}r.length-=n,r=i}else{for(e=hr.allocUnsafe(t),i=1,(n=r.head).data.copy(e),t-=n.data.length;n=n.next;){if(s=t>(o=n.data).length?o.length:t,o.copy(e,e.length-t,0,s),0==(t-=s)){s===o.length?(++i,r.head=n.next?n.next:r.tail=null):(r.head=n,n.data=o.slice(s));break}++i}r.length-=i,r=e}e=r}r=e}return r}function Pi(t){var e=t._readableState;if(0<e.length)throw Error(\'"endReadable()" called on non-empty stream\');e.endEmitted||(e.ended=!0,Xr(Wi,e,t))}function Wi(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function Bi(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Di(){}function Fi(t,e,r){this.chunk=t,this.encoding=e,this.callback=r,this.next=null}function Ui(t,e){Object.defineProperty(this,"buffer",{get:sn((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),t=t||{},this.objectMode=!!t.objectMode,e instanceof qi&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.finished=this.ended=this.ending=this.needDrain=!1,this.decodeStrings=!1!==t.decodeStrings,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){var r=e._writableState,n=r.sync,i=r.writecb;r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(--r.pendingcb,n?Xr(i,t):i(t),e._writableState.errorEmitted=!0,e.emit("error",t)):((t=xi(r))||r.corked||r.bufferProcessing||!r.bufferedRequest||Hi(e,r),n?Xr(Gi,e,r,t,i):Gi(e,r,t,i))},this.writecb=null,this.writelen=0,this.lastBufferedRequest=this.bufferedRequest=null,this.pendingcb=0,this.errorEmitted=this.prefinished=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new ji(this)}function Mi(t){if(!(this instanceof Mi||this instanceof qi))return new Mi(t);this._writableState=new Ui(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),si.call(this)}function ki(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function Gi(t,e,r,n){!r&&0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain")),e.pendingcb--,n(),Yi(t,e)}function Hi(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=Array(e.bufferedRequestCount),i=e.corkedRequestsFree;i.entry=r;for(var o=0;r;)n[o]=r,r=r.next,o+=1;ki(t,e,!0,e.length,n,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new ji(e)}else{for(;r&&(n=r.chunk,ki(t,e,!1,e.objectMode?1:n.length,n,r.encoding,r.callback),r=r.next,!e.writing););null===r&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=r,e.bufferProcessing=!1}function xi(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function Yi(t,e){var r=xi(e);return r&&(0===e.pendingcb?(e.prefinished||(e.prefinished=!0,t.emit("prefinish")),e.finished=!0,t.emit("finish")):e.prefinished||(e.prefinished=!0,t.emit("prefinish"))),r}function ji(t){var e=this;this.entry=this.next=null,this.finish=function(r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}rn(Ai,si),Ai.prototype.push=function(t,e){var r=this._readableState;return r.objectMode||"string"!=typeof t||(e=e||r.defaultEncoding)!==r.encoding&&(t=hr.from(t,e),e=""),vi(this,r,t,e,!1)},Ai.prototype.unshift=function(t){return vi(this,this._readableState,t,"",!0)},Ai.prototype.isPaused=function(){return!1===this._readableState.flowing},Ai.prototype.setEncoding=function(t){return this._readableState.decoder=new gi(t),this._readableState.encoding=t,this},Ai.prototype.read=function(t){mi("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return mi("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?Pi(this):Ti(this),null;if(0===(t=wi(t,e))&&e.ended)return 0===e.length&&Pi(this),null;var n=e.needReadable;return mi("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&mi("length less than watermark",n=!0),e.ended||e.reading?mi("reading or ended",!1):n&&(mi("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=wi(r,e))),null===(n=0<t?Li(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Pi(this)),null!==n&&this.emit("data",n),n},Ai.prototype._read=function(){this.emit("error",Error("not implemented"))},Ai.prototype.pipe=function(t,e){function r(t){mi("onunpipe"),t===h&&i()}function n(){mi("onend"),t.end()}function i(){mi("cleanup"),t.removeListener("close",a),t.removeListener("finish",f),t.removeListener("drain",l),t.removeListener("error",s),t.removeListener("unpipe",r),h.removeListener("end",n),h.removeListener("end",i),h.removeListener("data",o),p=!0,!c.awaitDrain||t._writableState&&!t._writableState.needDrain||l()}function o(e){mi("ondata"),d=!1,!1!==t.write(e)||d||((1===c.pipesCount&&c.pipes===t||1<c.pipesCount&&-1!==Bi(c.pipes,t))&&!p&&(mi("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,d=!0),h.pause())}function s(e){mi("onerror",e),u(),t.removeListener("error",s),0===t.listeners("error").length&&t.emit("error",e)}function a(){t.removeListener("finish",f),u()}function f(){mi("onfinish"),t.removeListener("close",a),u()}function u(){mi("unpipe"),h.unpipe(t)}var h=this,c=this._readableState;switch(c.pipesCount){case 0:c.pipes=t;break;case 1:c.pipes=[c.pipes,t];break;default:c.pipes.push(t)}c.pipesCount+=1,mi("pipe count=%d opts=%j",c.pipesCount,e),e=e&&!1===e.end?i:n,c.endEmitted?Xr(e):h.once("end",e),t.on("unpipe",r);var l=function(t){return function(){var e=t._readableState;mi("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&t.listeners("data").length&&(e.flowing=!0,Ci(t))}}(h);t.on("drain",l);var p=!1,d=!1;return h.on("data",o),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",s),t.once("close",a),t.once("finish",f),t.emit("pipe",h),c.flowing||(mi("pipe resume"),h.resume()),t},Ai.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this)),this;if(!t){t=e.pipes;var r=e.pipesCount;for(e.pipes=null,e.pipesCount=0,e.flowing=!1,e=0;e<r;e++)t[e].emit("unpipe",this);return this}return-1===(r=Bi(e.pipes,t))||(e.pipes.splice(r,1),--e.pipesCount,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this)),this},Ai.prototype.on=function(t,e){return e=si.prototype.on.call(this,t,e),"data"===t?!1!==this._readableState.flowing&&this.resume():"readable"===t&&((t=this._readableState).endEmitted||t.readableListening||(t.readableListening=t.needReadable=!0,t.emittedReadable=!1,t.reading?t.length&&Ti(this):Xr(Oi,this))),e},Ai.prototype.addListener=Ai.prototype.on,Ai.prototype.resume=function(){var t=this._readableState;return t.flowing||(mi("resume"),t.flowing=!0,t.resumeScheduled||(t.resumeScheduled=!0,Xr(Ni,this,t))),this},Ai.prototype.pause=function(){return mi("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(mi("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Ai.prototype.wrap=function(t){var e=this._readableState,r=!1,n=this;for(var i in t.on("end",(function(){if(mi("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&n.push(t)}n.push(null)})),t.on("data",(function(i){mi("wrapped data"),e.decoder&&(i=e.decoder.write(i)),e.objectMode&&null==i||!(e.objectMode||i&&i.length)||n.push(i)||(r=!0,t.pause())})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));return function(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r])}(["error","close","destroy","pause","resume"],(function(e){t.on(e,n.emit.bind(n,e))})),n._read=function(e){mi("wrapped _read",e),r&&(r=!1,t.resume())},n},Ai._fromList=Li,Mi.WritableState=Ui,rn(Mi,si),Ui.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},Mi.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))},Mi.prototype.write=function(t,e,r){var n=this._writableState,i=!1;if("function"==typeof e&&(r=e,e=null),hr.isBuffer(t)?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=Di),n.ended)n=r,t=Error("write after end"),this.emit("error",t),Xr(n,t);else{var o=r,s=!0,a=!1;null===t?a=new TypeError("May not write null values to stream"):hr.isBuffer(t)||"string"==typeof t||void 0===t||n.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(this.emit("error",a),Xr(o,a),s=!1),s&&(n.pendingcb++,i=e,n.objectMode||!1===n.decodeStrings||"string"!=typeof t||(t=hr.from(t,i)),hr.isBuffer(t)&&(i="buffer"),o=n.objectMode?1:t.length,n.length+=o,(e=n.length<n.highWaterMark)||(n.needDrain=!0),n.writing||n.corked?(o=n.lastBufferedRequest,n.lastBufferedRequest=new Fi(t,i,r),o?o.next=n.lastBufferedRequest:n.bufferedRequest=n.lastBufferedRequest,n.bufferedRequestCount+=1):ki(this,n,!1,o,t,i,r),i=e)}return i},Mi.prototype.cork=function(){this._writableState.corked++},Mi.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||Hi(this,t))},Mi.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((t+"").toLowerCase())))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Mi.prototype._write=function(t,e,r){r(Error("not implemented"))},Mi.prototype._writev=null,Mi.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,e=t=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||(t=r,n.ending=!0,Yi(this,n),t&&(n.finished?Xr(t):this.once("finish",t)),n.ended=!0,this.writable=!1)},rn(qi,Ai);for(var Vi=Object.keys(Mi.prototype),Ki=0;Ki<Vi.length;Ki++){var zi=Vi[Ki];qi.prototype[zi]||(qi.prototype[zi]=Mi.prototype[zi])}function qi(t){if(!(this instanceof qi))return new qi(t);Ai.call(this,t),Mi.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",Xi)}function Xi(){this.allowHalfOpen||this._writableState.ended||Xr(Ji,this)}function Ji(t){t.end()}function Zi(t){this.afterTransform=function(e,r){var n=t._transformState;n.transforming=!1;var i=n.writecb;return i?(n.writechunk=null,n.writecb=null,null!=r&&t.push(r),i(e),(e=t._readableState).reading=!1,(e.needReadable||e.length<e.highWaterMark)&&t._read(e.highWaterMark),e=void 0):e=t.emit("error",Error("no writecb in Transform class")),e},this.transforming=this.needTransform=!1,this.writeencoding=this.writechunk=this.writecb=null}function $i(t){if(!(this instanceof $i))return new $i(t);qi.call(this,t),this._transformState=new Zi(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(t){Qi(e,t)})):Qi(e)}))}function Qi(t,e){if(e)return t.emit("error",e);if(e=t._transformState,t._writableState.length)throw Error("Calling transform done when ws.length != 0");if(e.transforming)throw Error("Calling transform done when still transforming");return t.push(null)}function to(t){if(!(this instanceof to))return new to(t);$i.call(this,t)}function eo(){si.call(this)}rn($i,qi),$i.prototype.push=function(t,e){return this._transformState.needTransform=!1,qi.prototype.push.call(this,t,e)},$i.prototype._transform=function(){throw Error("Not implemented")},$i.prototype._write=function(t,e,r){var n=this._transformState;n.writecb=r,n.writechunk=t,n.writeencoding=e,n.transforming||(t=this._readableState,(n.needTransform||t.needReadable||t.length<t.highWaterMark)&&this._read(t.highWaterMark))},$i.prototype._read=function(){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},rn(to,$i),to.prototype._transform=function(t,e,r){r(null,t)},rn(eo,si),eo.Readable=Ai,eo.Writable=Mi,eo.Duplex=qi,eo.Transform=$i,eo.PassThrough=to,eo.Stream=eo,eo.prototype.pipe=function(t,e){function r(e){t.writable&&!1===t.write(e)&&f.pause&&f.pause()}function n(){f.readable&&f.resume&&f.resume()}function i(){u||(u=!0,t.end())}function o(){u||(u=!0,"function"==typeof t.destroy&&t.destroy())}function s(t){if(a(),0===si.listenerCount(this,"error"))throw t}function a(){f.removeListener("data",r),t.removeListener("drain",n),f.removeListener("end",i),f.removeListener("close",o),f.removeListener("error",s),t.removeListener("error",s),f.removeListener("end",a),f.removeListener("close",a),t.removeListener("close",a)}var f=this;f.on("data",r),t.on("drain",n),t._isStdio||e&&!1===e.end||(f.on("end",i),f.on("close",o));var u=!1;return f.on("error",s),t.on("error",s),f.on("end",a),f.on("close",a),t.on("close",a),t.emit("pipe",f),t};var ro=Array.prototype.slice,no=function t(e,r){for(var n in r)e[n]=r[n];return 3>arguments.length?e:t.apply(null,[e].concat(ro.call(arguments,2)))},io=Ke((function(t,e){function r(t,e,r){return void 0===r&&(r=function(t){return t}),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new Promise((function(o,s){t[e].bind(t).apply(void 0,n(i,[function(t,e){return t?s(t):o(r(e))}]))}))}}var n=je&&je.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;t=Array(t);var n=0;for(e=0;e<r;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,n++)t[n]=i[o];return t};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.vol=t,this.fd=e}return t.prototype.appendFile=function(t,e){return r(this.vol,"appendFile")(this.fd,t,e)},t.prototype.chmod=function(t){return r(this.vol,"fchmod")(this.fd,t)},t.prototype.chown=function(t,e){return r(this.vol,"fchown")(this.fd,t,e)},t.prototype.close=function(){return r(this.vol,"close")(this.fd)},t.prototype.datasync=function(){return r(this.vol,"fdatasync")(this.fd)},t.prototype.read=function(t,e,n,i){return r(this.vol,"read",(function(e){return{bytesRead:e,buffer:t}}))(this.fd,t,e,n,i)},t.prototype.readFile=function(t){return r(this.vol,"readFile")(this.fd,t)},t.prototype.stat=function(t){return r(this.vol,"fstat")(this.fd,t)},t.prototype.sync=function(){return r(this.vol,"fsync")(this.fd)},t.prototype.truncate=function(t){return r(this.vol,"ftruncate")(this.fd,t)},t.prototype.utimes=function(t,e){return r(this.vol,"futimes")(this.fd,t,e)},t.prototype.write=function(t,e,n,i){return r(this.vol,"write",(function(e){return{bytesWritten:e,buffer:t}}))(this.fd,t,e,n,i)},t.prototype.writeFile=function(t,e){return r(this.vol,"writeFile")(this.fd,t,e)},t}();e.FileHandle=i,e.default=function(t){return"undefined"==typeof Promise?null:{FileHandle:i,access:function(e,n){return r(t,"access")(e,n)},appendFile:function(e,n,o){return r(t,"appendFile")(e instanceof i?e.fd:e,n,o)},chmod:function(e,n){return r(t,"chmod")(e,n)},chown:function(e,n,i){return r(t,"chown")(e,n,i)},copyFile:function(e,n,i){return r(t,"copyFile")(e,n,i)},lchmod:function(e,n){return r(t,"lchmod")(e,n)},lchown:function(e,n,i){return r(t,"lchown")(e,n,i)},link:function(e,n){return r(t,"link")(e,n)},lstat:function(e,n){return r(t,"lstat")(e,n)},mkdir:function(e,n){return r(t,"mkdir")(e,n)},mkdtemp:function(e,n){return r(t,"mkdtemp")(e,n)},open:function(e,n,o){return r(t,"open",(function(e){return new i(t,e)}))(e,n,o)},readdir:function(e,n){return r(t,"readdir")(e,n)},readFile:function(e,n){return r(t,"readFile")(e instanceof i?e.fd:e,n)},readlink:function(e,n){return r(t,"readlink")(e,n)},realpath:function(e,n){return r(t,"realpath")(e,n)},rename:function(e,n){return r(t,"rename")(e,n)},rmdir:function(e){return r(t,"rmdir")(e)},stat:function(e,n){return r(t,"stat")(e,n)},symlink:function(e,n,i){return r(t,"symlink")(e,n,i)},truncate:function(e,n){return r(t,"truncate")(e,n)},unlink:function(e){return r(t,"unlink")(e)},utimes:function(e,n,i){return r(t,"utimes")(e,n,i)},writeFile:function(e,n,o){return r(t,"writeFile")(e instanceof i?e.fd:e,n,o)}}}}));Ve(io);var oo=/[^\\x20-\\x7E]/,so=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,ao={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},fo=Math.floor,uo=String.fromCharCode;function ho(t,e){return t+22+75*(26>t)-((0!=e)<<5)}var co=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function lo(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}function po(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var yo=Object.keys||function(t){var e,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r};function go(t,e,r,n){r=r||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\\+/g;for(t=t.split(e||"&"),e=1e3,n&&"number"==typeof n.maxKeys&&(e=n.maxKeys),n=t.length,0<e&&n>e&&(n=e),e=0;e<n;++e){var s=t[e].replace(o,"%20"),a=s.indexOf(r);if(0<=a){var f=s.substr(0,a);s=s.substr(a+1)}else f=s,s="";f=decodeURIComponent(f),s=decodeURIComponent(s),Object.prototype.hasOwnProperty.call(i,f)?co(i[f])?i[f].push(s):i[f]=[i[f],s]:i[f]=s}return i}var _o={parse:Po,resolve:function(t,e){return Po(t,!1,!0).resolve(e)},resolveObject:function(t,e){return t?Po(t,!1,!0).resolveObject(e):e},format:function(t){return Sn(t)&&(t=Wo({},t)),Bo(t)},Url:Eo};function Eo(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}var So=/^([a-z0-9.+-]+:)/i,mo=/:[0-9]*$/,Io=/^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,Ao="{}|\\\\^`".split("").concat(\'<>"` \\r\\n\\t\'.split("")),vo=["\'"].concat(Ao),wo=["%","/","?",";","#"].concat(vo),To=["/","?","#"],bo=255,Ro=/^[+a-z0-9A-Z_-]{0,63}$/,Oo=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,No={javascript:!0,"javascript:":!0},Co={javascript:!0,"javascript:":!0},Lo={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Po(t,e,r){if(t&&An(t)&&t instanceof Eo)return t;var n=new Eo;return n.parse(t,e,r),n}function Wo(t,e,r,n){if(!Sn(e))throw new TypeError("Parameter \'url\' must be a string, not "+typeof e);var i=e.indexOf("?");if(i=-1!==i&&i<e.indexOf("#")?"?":"#",(e=e.split(i))[0]=e[0].replace(/\\\\/g,"/"),i=(e=e.join(i)).trim(),!n&&1===e.split("#").length&&(e=Io.exec(i)))return t.path=i,t.href=i,t.pathname=e[1],e[2]?(t.search=e[2],t.query=r?go(t.search.substr(1)):t.search.substr(1)):r&&(t.search="",t.query={}),t;if(e=So.exec(i)){var o=(e=e[0]).toLowerCase();t.protocol=o,i=i.substr(e.length)}if(n||e||i.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)){var s="//"===i.substr(0,2);!s||e&&Co[e]||(i=i.substr(2),t.slashes=!0)}if(!Co[e]&&(s||e&&!Lo[e])){for(e=-1,n=0;n<To.length;n++)-1!==(s=i.indexOf(To[n]))&&(-1===e||s<e)&&(e=s);for(-1!==(s=-1===e?i.lastIndexOf("@"):i.lastIndexOf("@",e))&&(n=i.slice(0,s),i=i.slice(s+1),t.auth=decodeURIComponent(n)),e=-1,n=0;n<wo.length;n++)-1!==(s=i.indexOf(wo[n]))&&(-1===e||s<e)&&(e=s);if(-1===e&&(e=i.length),t.host=i.slice(0,e),i=i.slice(e),Do(t),t.hostname=t.hostname||"",!(s="["===t.hostname[0]&&"]"===t.hostname[t.hostname.length-1])){var a=t.hostname.split(/\\./);for(n=0,e=a.length;n<e;n++){var f=a[n];if(f&&!f.match(Ro)){for(var u="",h=0,c=f.length;h<c;h++)u=127<f.charCodeAt(h)?u+"x":u+f[h];if(!u.match(Ro)){e=a.slice(0,n),n=a.slice(n+1),(f=f.match(Oo))&&(e.push(f[1]),n.unshift(f[2])),n.length&&(i="/"+n.join(".")+i),t.hostname=e.join(".");break}}}}t.hostname=t.hostname.length>bo?"":t.hostname.toLowerCase(),s||(t.hostname=function(t){return function(t,e){var r=t.split("@"),n="";1<r.length&&(n=r[0]+"@",t=r[1]),r=(t=(t=t.replace(so,".")).split(".")).length;for(var i=[];r--;)i[r]=e(t[r]);return n+i.join(".")}(t,(function(t){if(oo.test(t)){var e,r=[],n=[],i=0;for(e=t.length;i<e;){var o=t.charCodeAt(i++);if(55296<=o&&56319>=o&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&o)<<10)+(1023&s)+65536):(n.push(o),i--)}else n.push(o)}s=(t=n).length,n=128;var a=0,f=72;for(o=0;o<s;++o){var u=t[o];128>u&&r.push(uo(u))}for((i=e=r.length)&&r.push("-");i<s;){var h=2147483647;for(o=0;o<s;++o)(u=t[o])>=n&&u<h&&(h=u);var c=i+1;if(h-n>fo((2147483647-a)/c))throw new RangeError(ao.overflow);for(a+=(h-n)*c,n=h,o=0;o<s;++o){if((u=t[o])<n&&2147483647<++a)throw new RangeError(ao.overflow);if(u==n){var l=a;for(h=36;!(l<(u=h<=f?1:h>=f+26?26:h-f));h+=36){var p=l-u;l=36-u,r.push(uo(ho(u+p%l,0))),l=fo(p/l)}for(r.push(uo(ho(l,0))),f=c,h=0,a=i==e?fo(a/700):a>>1,a+=fo(a/f);455<a;h+=36)a=fo(a/35);f=fo(h+36*a/(a+38)),a=0,++i}}++a,++n}r="xn--"+r.join("")}else r=t;return r}))}(t.hostname)),n=t.port?":"+t.port:"",t.host=(t.hostname||"")+n,t.href+=t.host,s&&(t.hostname=t.hostname.substr(1,t.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!No[o])for(n=0,e=vo.length;n<e;n++)s=vo[n],-1!==i.indexOf(s)&&((f=encodeURIComponent(s))===s&&(f=escape(s)),i=i.split(s).join(f));return-1!==(n=i.indexOf("#"))&&(t.hash=i.substr(n),i=i.slice(0,n)),-1!==(n=i.indexOf("?"))?(t.search=i.substr(n),t.query=i.substr(n+1),r&&(t.query=go(t.query)),i=i.slice(0,n)):r&&(t.search="",t.query={}),i&&(t.pathname=i),Lo[o]&&t.hostname&&!t.pathname&&(t.pathname="/"),(t.pathname||t.search)&&(n=t.pathname||"",t.path=n+(t.search||"")),t.href=Bo(t),t}function Bo(t){var e=t.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var r=t.protocol||"",n=t.pathname||"",i=t.hash||"",o=!1,s="";return t.host?o=e+t.host:t.hostname&&(o=e+(-1===t.hostname.indexOf(":")?t.hostname:"["+this.hostname+"]"),t.port&&(o+=":"+t.port)),t.query&&An(t.query)&&Object.keys(t.query).length&&(s=function(t,e,r,n){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?po(yo(t),(function(n){var i=encodeURIComponent(lo(n))+r;return co(t[n])?po(t[n],(function(t){return i+encodeURIComponent(lo(t))})).join(e):i+encodeURIComponent(lo(t[n]))})).join(e):""}(t.query)),e=t.search||s&&"?"+s||"",r&&":"!==r.substr(-1)&&(r+=":"),t.slashes||(!r||Lo[r])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),e&&"?"!==e.charAt(0)&&(e="?"+e),n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})),r+o+n+(e=e.replace("#","%23"))+i}function Do(t){var e=t.host,r=mo.exec(e);r&&(":"!==(r=r[0])&&(t.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(t.hostname=e)}Eo.prototype.parse=function(t,e,r){return Wo(this,t,e,r)},Eo.prototype.format=function(){return Bo(this)},Eo.prototype.resolve=function(t){return this.resolveObject(Po(t,!1,!0)).format()},Eo.prototype.resolveObject=function(t){if(Sn(t)){var e=new Eo;e.parse(t,!1,!0),t=e}e=new Eo;for(var r=Object.keys(this),n=0;n<r.length;n++){var i=r[n];e[i]=this[i]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(r=Object.keys(t),n=0;n<r.length;n++)"protocol"!==(i=r[n])&&(e[i]=t[i]);return Lo[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}var o;if(t.protocol&&t.protocol!==e.protocol){if(!Lo[t.protocol]){for(r=Object.keys(t),n=0;n<r.length;n++)e[i=r[n]]=t[i];return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||Co[t.protocol])e.pathname=t.pathname;else{for(o=(t.pathname||"").split("/");o.length&&!(t.host=o.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==o[0]&&o.unshift(""),2>o.length&&o.unshift(""),e.pathname=o.join("/")}return e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,(e.pathname||e.search)&&(e.path=(e.pathname||"")+(e.search||"")),e.slashes=e.slashes||t.slashes,e.href=e.format(),e}r=e.pathname&&"/"===e.pathname.charAt(0);var s=t.host||t.pathname&&"/"===t.pathname.charAt(0),a=r=s||r||e.host&&t.pathname;if(n=e.pathname&&e.pathname.split("/")||[],i=e.protocol&&!Lo[e.protocol],o=t.pathname&&t.pathname.split("/")||[],i&&(e.hostname="",e.port=null,e.host&&(""===n[0]?n[0]=e.host:n.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===o[0]?o[0]=t.host:o.unshift(t.host)),t.host=null),r=r&&(""===o[0]||""===n[0])),s)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,n=o;else if(o.length)n||(n=[]),n.pop(),n=n.concat(o),e.search=t.search,e.query=t.query;else if(null!=t.search)return i&&(e.hostname=e.host=n.shift(),i=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=i.shift(),e.host=e.hostname=i.shift()),e.search=t.search,e.query=t.query,null===e.pathname&&null===e.search||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!n.length)return e.pathname=null,e.path=e.search?"/"+e.search:null,e.href=e.format(),e;s=n.slice(-1)[0],o=(e.host||t.host||1<n.length)&&("."===s||".."===s)||""===s;for(var f=0,u=n.length;0<=u;u--)"."===(s=n[u])?n.splice(u,1):".."===s?(n.splice(u,1),f++):f&&(n.splice(u,1),f--);if(!r&&!a)for(;f--;f)n.unshift("..");return!r||""===n[0]||n[0]&&"/"===n[0].charAt(0)||n.unshift(""),o&&"/"!==n.join("/").substr(-1)&&n.push(""),a=""===n[0]||n[0]&&"/"===n[0].charAt(0),i&&(e.hostname=e.host=a?"":n.length?n.shift():"",i=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=i.shift(),e.host=e.hostname=i.shift()),(r=r||e.host&&n.length)&&!a&&n.unshift(""),n.length?e.pathname=n.join("/"):(e.pathname=null,e.path=null),null===e.pathname&&null===e.search||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Eo.prototype.parseHost=function(){return Do(this)};var Fo=Ke((function(t,e){function r(t,e){return t=t[e],0<e&&("/"===t||i&&"\\\\"===t)}function n(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(i){var n=t;if("string"!=typeof n)throw new TypeError("expected a string");if(n=n.replace(/[\\\\\\/]+/g,"/"),!1!==e)if(2>(n=(e=n).length-1))n=e;else{for(;r(e,n);)n--;n=e.substr(0,n+1)}return n.replace(/^([a-zA-Z]+:|\\.\\/)/,"")}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.unixify=n,e.correctPath=function(t){return n(t.replace(/^\\\\\\\\\\?\\\\.:\\\\/,"\\\\"))};var i="win32"===en.platform}));Ve(Fo);var Uo=Ke((function(t,e){function r(t,e){return void 0===e&&(e=ii.default.cwd()),L(e,t)}function n(t,e){return"function"==typeof t?[i(),t]:[i(t),h(e)]}function i(t){return void 0===t&&(t={}),C({},ft,t)}function o(t){return C({},it,"number"==typeof t?{mode:t}:t)}function s(t,e,r,n,i){return void 0===e&&(e=""),void 0===r&&(r=""),void 0===n&&(n=""),void 0===i&&(i=Error),e=new i(function(t,e,r,n){void 0===e&&(e=""),void 0===r&&(r=""),void 0===n&&(n="");var i="";switch(r&&(i=" \'"+r+"\'"),n&&(i+=" -> \'"+n+"\'"),t){case"ENOENT":return"ENOENT: no such file or directory, "+e+i;case"EBADF":return"EBADF: bad file descriptor, "+e+i;case"EINVAL":return"EINVAL: invalid argument, "+e+i;case"EPERM":return"EPERM: operation not permitted, "+e+i;case"EPROTO":return"EPROTO: protocol error, "+e+i;case"EEXIST":return"EEXIST: file already exists, "+e+i;case"ENOTDIR":return"ENOTDIR: not a directory, "+e+i;case"EISDIR":return"EISDIR: illegal operation on a directory, "+e+i;case"EACCES":return"EACCES: permission denied, "+e+i;case"ENOTEMPTY":return"ENOTEMPTY: directory not empty, "+e+i;case"EMFILE":return"EMFILE: too many open files, "+e+i;case"ENOSYS":return"ENOSYS: function not implemented, "+e+i;default:return t+": error occurred, "+e+i}}(t,e,r,n)),e.code=t,e}function a(t){if("number"==typeof t)return t;if("string"==typeof t){var e=N[t];if(void 0!==e)return e}throw new Jn.TypeError("ERR_INVALID_OPT_VALUE","flags",t)}function f(t,e){if(!e)return t;var r=typeof e;switch(r){case"string":t=C({},t,{encoding:e});break;case"object":t=C({},t,e);break;default:throw TypeError("Expected options to be either an object or a string, but got "+r+" instead")}return"buffer"!==t.encoding&&Zn.assertEncoding(t.encoding),t}function u(t){return function(e){return f(t,e)}}function h(t){if("function"!=typeof t)throw TypeError(z.CB);return t}function c(t){return function(e,r){return"function"==typeof e?[t(),e]:[t(e),h(r)]}}function l(t){if("string"!=typeof t&&!Ur.Buffer.isBuffer(t)){try{if(!(t instanceof _o.URL))throw new TypeError(z.PATH_STR)}catch(t){throw new TypeError(z.PATH_STR)}if(""!==t.hostname)throw new Jn.TypeError("ERR_INVALID_FILE_URL_HOST",ii.default.platform);t=t.pathname;for(var e=0;e<t.length;e++)if("%"===t[e]){var r=32|t.codePointAt(e+2);if("2"===t[e+1]&&102===r)throw new Jn.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}t=decodeURIComponent(t)}return _(t=String(t)),t}function p(t,e){return(t=r(t,e).substr(1))?t.split(j):[]}function d(t){return p(l(t))}function y(t,e){return void 0===e&&(e=Zn.ENCODING_UTF8),Ur.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Ur.bufferFrom(t):Ur.bufferFrom(String(t),e)}function g(t,e){return e&&"buffer"!==e?t.toString(e):t}function _(t,e){if(-1!==(""+t).indexOf("\\0")){if((t=Error("Path must be a string without null bytes")).code="ENOENT","function"!=typeof e)throw t;return ii.default.nextTick(e,t),!1}return!0}function E(t,e){if("number"!=typeof(t="number"==typeof t?t:"string"==typeof t?parseInt(t,8):e?E(e):void 0)||isNaN(t))throw new TypeError(z.MODE_INT);return t}function S(t){if(t>>>0!==t)throw TypeError(z.FD)}function m(t){if("string"==typeof t&&+t==t)return+t;if(t instanceof Date)return t.getTime()/1e3;if(isFinite(t))return 0>t?Date.now()/1e3:t;throw Error("Cannot parse time: "+t)}function I(t){if("number"!=typeof t)throw TypeError(z.UID)}function A(t){if("number"!=typeof t)throw TypeError(z.GID)}function v(t){t.emit("stop")}function w(t,e,r){if(!(this instanceof w))return new w(t,e,r);if(this._vol=t,void 0===(r=C({},f(r,{}))).highWaterMark&&(r.highWaterMark=65536),eo.Readable.call(this,r),this.path=l(e),this.fd=void 0===r.fd?null:r.fd,this.flags=void 0===r.flags?"r":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.end=r.end,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=void 0,this.bytesRead=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError(\'"start" option must be a Number\');if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw new TypeError(\'"end" option must be a Number\');if(this.start>this.end)throw Error(\'"start" option must be <= "end" option\');this.pos=this.start}"number"!=typeof this.fd&&this.open(),this.on("end",(function(){this.autoClose&&this.destroy&&this.destroy()}))}function T(){this.close()}function b(t,e,r){if(!(this instanceof b))return new b(t,e,r);if(this._vol=t,r=C({},f(r,{})),eo.Writable.call(this,r),this.path=l(e),this.fd=void 0===r.fd?null:r.fd,this.flags=void 0===r.flags?"w":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.autoClose=void 0===r.autoClose||!!r.autoClose,this.pos=void 0,this.bytesWritten=0,void 0!==this.start){if("number"!=typeof this.start)throw new TypeError(\'"start" option must be a Number\');if(0>this.start)throw Error(\'"start" must be >= zero\');this.pos=this.start}r.encoding&&this.setDefaultEncoding(r.encoding),"number"!=typeof this.fd&&this.open(),this.once("finish",(function(){this.autoClose&&this.close()}))}var R=je&&je.__extends||function(){function t(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)}return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),O=je&&je.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;t=Array(t);var n=0;for(e=0;e<r;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,n++)t[n]=i[o];return t};Object.defineProperty(e,"__esModule",{value:!0});var N,C=no,L=ri,P=ze.constants.O_RDONLY,W=ze.constants.O_WRONLY,B=ze.constants.O_RDWR,D=ze.constants.O_CREAT,F=ze.constants.O_EXCL,U=ze.constants.O_TRUNC,M=ze.constants.O_APPEND,k=ze.constants.O_SYNC,G=ze.constants.O_DIRECTORY,H=ze.constants.F_OK,x=ze.constants.COPYFILE_EXCL,Y=ze.constants.COPYFILE_FICLONE_FORCE,j="/",V=ei,K="win32"===ii.default.platform,z={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"};!function(t){t[t.r=P]="r",t[t["r+"]=B]="r+",t[t.rs=P|k]="rs",t[t.sr=t.rs]="sr",t[t["rs+"]=B|k]="rs+",t[t["sr+"]=t["rs+"]]="sr+",t[t.w=W|D|U]="w",t[t.wx=W|D|U|F]="wx",t[t.xw=t.wx]="xw",t[t["w+"]=B|D|U]="w+",t[t["wx+"]=B|D|U|F]="wx+",t[t["xw+"]=t["wx+"]]="xw+",t[t.a=W|M|D]="a",t[t.ax=W|M|D|F]="ax",t[t.xa=t.ax]="xa",t[t["a+"]=B|M|D]="a+",t[t["ax+"]=B|M|D|F]="ax+",t[t["xa+"]=t["ax+"]]="xa+"}(N=e.FLAGS||(e.FLAGS={})),e.flagsToNumber=a;var q=u(t={encoding:"utf8"}),X=c(q),J=u({flag:"r"}),Z={encoding:"utf8",mode:438,flag:N[N.w]},$=u(Z),Q={encoding:"utf8",mode:438,flag:N[N.a]},tt=u(Q),et=c(tt),rt=u(t),nt=c(rt),it={mode:511,recursive:!1},ot={recursive:!1},st=u({encoding:"utf8",withFileTypes:!1}),at=c(st),ft={bigint:!1};if(e.pathToFilename=l,K){var ut=r,ht=Fo.unixify;r=function(t,e){return ht(ut(t,e))}}e.filenameToSteps=p,e.pathToSteps=d,e.dataToStr=function(t,e){return void 0===e&&(e=Zn.ENCODING_UTF8),Ur.Buffer.isBuffer(t)?t.toString(e):t instanceof Uint8Array?Ur.bufferFrom(t).toString(e):String(t)},e.dataToBuffer=y,e.bufferToEncoding=g,e.toUnixTimestamp=m,t=function(){function t(t){void 0===t&&(t={}),this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.promisesApi=io.default(this),this.statWatchers={},this.props=C({Node:ci.Node,Link:ci.Link,File:ci.File},t),(t=this.createLink()).setNode(this.createNode(!0));var e=this;this.StatWatcher=function(t){function r(){return t.call(this,e)||this}return R(r,t),r}(lt),this.ReadStream=function(t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.apply(this,O([e],r))||this}return R(r,t),r}(w),this.WriteStream=function(t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.apply(this,O([e],r))||this}return R(r,t),r}(b),this.FSWatcher=function(t){function r(){return t.call(this,e)||this}return R(r,t),r}(pt),this.root=t}return t.fromJSON=function(e,r){var n=new t;return n.fromJSON(e,r),n},Object.defineProperty(t.prototype,"promises",{get:function(){if(null===this.promisesApi)throw Error("Promise is not supported in this environment.");return this.promisesApi},enumerable:!0,configurable:!0}),t.prototype.createLink=function(t,e,r,n){if(void 0===r&&(r=!1),!t)return new this.props.Link(this,null,"");if(!e)throw Error("createLink: name cannot be empty");return t.createChild(e,this.createNode(r,n))},t.prototype.deleteLink=function(t){var e=t.parent;return!!e&&(e.deleteChild(t),!0)},t.prototype.newInoNumber=function(){return this.releasedInos.pop()||(this.ino=(this.ino+1)%4294967295)},t.prototype.newFdNumber=function(){var e=this.releasedFds.pop();return"number"==typeof e?e:t.fd--},t.prototype.createNode=function(t,e){return void 0===t&&(t=!1),e=new this.props.Node(this.newInoNumber(),e),t&&e.setIsDirectory(),this.inodes[e.ino]=e},t.prototype.getNode=function(t){return this.inodes[t]},t.prototype.deleteNode=function(t){t.del(),delete this.inodes[t.ino],this.releasedInos.push(t.ino)},t.prototype.genRndStr=function(){var t=(Math.random()+1).toString(36).substr(2,6);return 6===t.length?t:this.genRndStr()},t.prototype.getLink=function(t){return this.root.walk(t)},t.prototype.getLinkOrThrow=function(t,e){var r=p(t);if(!(r=this.getLink(r)))throw s("ENOENT",e,t);return r},t.prototype.getResolvedLink=function(t){t="string"==typeof t?p(t):t;for(var e=this.root,r=0;r<t.length;){if(!(e=e.getChild(t[r])))return null;var n=e.getNode();n.isSymlink()?(t=n.symlink.concat(t.slice(r+1)),e=this.root,r=0):r++}return e},t.prototype.getResolvedLinkOrThrow=function(t,e){var r=this.getResolvedLink(t);if(!r)throw s("ENOENT",e,t);return r},t.prototype.resolveSymlinks=function(t){return this.getResolvedLink(t.steps.slice(1))},t.prototype.getLinkAsDirOrThrow=function(t,e){var r=this.getLinkOrThrow(t,e);if(!r.getNode().isDirectory())throw s("ENOTDIR",e,t);return r},t.prototype.getLinkParent=function(t){return this.root.walk(t,t.length-1)},t.prototype.getLinkParentAsDirOrThrow=function(t,e){t=t instanceof Array?t:p(t);var r=this.getLinkParent(t);if(!r)throw s("ENOENT",e,j+t.join(j));if(!r.getNode().isDirectory())throw s("ENOTDIR",e,j+t.join(j));return r},t.prototype.getFileByFd=function(t){return this.fds[String(t)]},t.prototype.getFileByFdOrThrow=function(t,e){if(t>>>0!==t)throw TypeError(z.FD);if(!(t=this.getFileByFd(t)))throw s("EBADF",e);return t},t.prototype.getNodeByIdOrCreate=function(t,e,r){if("number"==typeof t){if(!(t=this.getFileByFd(t)))throw Error("File nto found");return t.node}var n=d(t),i=this.getLink(n);if(i)return i.getNode();if(e&D&&(e=this.getLinkParent(n)))return(i=this.createLink(e,n[n.length-1],!1,r)).getNode();throw s("ENOENT","getNodeByIdOrCreate",l(t))},t.prototype.wrapAsync=function(t,e,r){var n=this;h(r),ni.default((function(){try{r(null,t.apply(n,e))}catch(t){r(t)}}))},t.prototype._toJSON=function(t,e,r){var n;void 0===t&&(t=this.root),void 0===e&&(e={});var i=!0,o=t.children;for(var s in t.getNode().isFile()&&((n={})[t.getName()]=t.parent.getChild(t.getName()),o=n,t=t.parent),o){if(i=!1,!(o=t.getChild(s)))throw Error("_toJSON: unexpected undefined");(n=o.getNode()).isFile()?(o=o.getPath(),r&&(o=V(r,o)),e[o]=n.getString()):n.isDirectory()&&this._toJSON(o,e,r)}return t=t.getPath(),r&&(t=V(r,t)),t&&i&&(e[t]=null),e},t.prototype.toJSON=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=!1);var n=[];if(t){t instanceof Array||(t=[t]);for(var i=0;i<t.length;i++){var o=l(t[i]);(o=this.getResolvedLink(o))&&n.push(o)}}else n.push(this.root);if(!n.length)return e;for(i=0;i<n.length;i++)o=n[i],this._toJSON(o,e,r?o.getPath():"");return e},t.prototype.fromJSON=function(t,e){for(var n in void 0===e&&(e=ii.default.cwd()),t){var i=t[n];if("string"==typeof i){var o=p(n=r(n,e));1<o.length&&(o=j+o.slice(0,o.length-1).join(j),this.mkdirpBase(o,511)),this.writeFileSync(n,i)}else this.mkdirpBase(n,511)}},t.prototype.reset=function(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0))},t.prototype.mountSync=function(t,e){this.fromJSON(e,t)},t.prototype.openLink=function(t,e,r){if(void 0===r&&(r=!0),this.openFiles>=this.maxFiles)throw s("EMFILE","open",t.getPath());var n=t;if(r&&(n=this.resolveSymlinks(t)),!n)throw s("ENOENT","open",t.getPath());if((r=n.getNode()).isDirectory()){if((e&(P|B|W))!==P)throw s("EISDIR","open",t.getPath())}else if(e&G)throw s("ENOTDIR","open",t.getPath());if(!(e&W||r.canRead()))throw s("EACCES","open",t.getPath());return t=new this.props.File(t,r,e,this.newFdNumber()),this.fds[t.fd]=t,this.openFiles++,e&U&&t.truncate(),t},t.prototype.openFile=function(t,e,r,n){void 0===n&&(n=!0);var i=p(t),o=n?this.getResolvedLink(i):this.getLink(i);if(!o&&e&D){var a=this.getResolvedLink(i.slice(0,i.length-1));if(!a)throw s("ENOENT","open",j+i.join(j));e&D&&"number"==typeof r&&(o=this.createLink(a,i[i.length-1],!1,r))}if(o)return this.openLink(o,e,n);throw s("ENOENT","open",t)},t.prototype.openBase=function(t,e,r,n){if(void 0===n&&(n=!0),!(e=this.openFile(t,e,r,n)))throw s("ENOENT","open",t);return e.fd},t.prototype.openSync=function(t,e,r){return void 0===r&&(r=438),r=E(r),t=l(t),e=a(e),this.openBase(t,e,r)},t.prototype.open=function(t,e,r,n){var i=r;"function"==typeof r&&(i=438,n=r),r=E(i||438),t=l(t),e=a(e),this.wrapAsync(this.openBase,[t,e,r],n)},t.prototype.closeFile=function(t){this.fds[t.fd]&&(this.openFiles--,delete this.fds[t.fd],this.releasedFds.push(t.fd))},t.prototype.closeSync=function(t){S(t),t=this.getFileByFdOrThrow(t,"close"),this.closeFile(t)},t.prototype.close=function(t,e){S(t),this.wrapAsync(this.closeSync,[t],e)},t.prototype.openFileOrGetById=function(t,e,r){if("number"==typeof t){if(!(t=this.fds[t]))throw s("ENOENT");return t}return this.openFile(l(t),e,r)},t.prototype.readBase=function(t,e,r,n,i){return this.getFileByFdOrThrow(t).read(e,Number(r),Number(n),i)},t.prototype.readSync=function(t,e,r,n,i){return S(t),this.readBase(t,e,r,n,i)},t.prototype.read=function(t,e,r,n,i,o){var s=this;if(h(o),0===n)return ii.default.nextTick((function(){o&&o(null,0,e)}));ni.default((function(){try{var a=s.readBase(t,e,r,n,i);o(null,a,e)}catch(t){o(t)}}))},t.prototype.readFileBase=function(t,e,r){var n="number"==typeof t&&t>>>0===t;if(!n){var i=l(t);if(i=p(i),(i=this.getResolvedLink(i))&&i.getNode().isDirectory())throw s("EISDIR","open",i.getPath());t=this.openSync(t,e)}try{var o=g(this.getFileByFdOrThrow(t).getBuffer(),r)}finally{n||this.closeSync(t)}return o},t.prototype.readFileSync=function(t,e){var r=a((e=J(e)).flag);return this.readFileBase(t,r,e.encoding)},t.prototype.readFile=function(t,e,r){e=(r=c(J)(e,r))[0],r=r[1];var n=a(e.flag);this.wrapAsync(this.readFileBase,[t,n,e.encoding],r)},t.prototype.writeBase=function(t,e,r,n,i){return this.getFileByFdOrThrow(t,"write").write(e,r,n,i)},t.prototype.writeSync=function(t,e,r,n,i){S(t);var o="string"!=typeof e;if(o){var s=0|(r||0),a=n;r=i}else var f=n;return e=y(e,f),o?void 0===a&&(a=e.length):(s=0,a=e.length),this.writeBase(t,e,s,a,r)},t.prototype.write=function(t,e,r,n,i,o){var s=this;S(t);var a=typeof e,f=typeof r,u=typeof n,c=typeof i;if("string"!==a)if("function"===f)var l=r;else if("function"===u){var p=0|r;l=n}else if("function"===c){p=0|r;var d=n;l=i}else{p=0|r,d=n;var g=i;l=o}else if("function"===f)l=r;else if("function"===u)g=r,l=n;else if("function"===c){g=r;var _=n;l=i}var E=y(e,_);"string"!==a?void 0===d&&(d=E.length):(p=0,d=E.length);var m=h(l);ni.default((function(){try{var r=s.writeBase(t,E,p,d,g);m(null,r,"string"!==a?E:e)}catch(t){m(t)}}))},t.prototype.writeFileBase=function(t,e,r,n){var i="number"==typeof t;t=i?t:this.openBase(l(t),r,n),n=0;var o=e.length;r=r&M?void 0:0;try{for(;0<o;){var s=this.writeSync(t,e,n,o,r);n+=s,o-=s,void 0!==r&&(r+=s)}}finally{i||this.closeSync(t)}},t.prototype.writeFileSync=function(t,e,r){var n=$(r);r=a(n.flag);var i=E(n.mode);e=y(e,n.encoding),this.writeFileBase(t,e,r,i)},t.prototype.writeFile=function(t,e,r,n){var i=r;"function"==typeof r&&(i=Z,n=r),r=h(n);var o=$(i);i=a(o.flag),n=E(o.mode),e=y(e,o.encoding),this.wrapAsync(this.writeFileBase,[t,e,i,n],r)},t.prototype.linkBase=function(t,e){var r=p(t),n=this.getLink(r);if(!n)throw s("ENOENT","link",t,e);var i=p(e);if(!(r=this.getLinkParent(i)))throw s("ENOENT","link",t,e);if(i=i[i.length-1],r.getChild(i))throw s("EEXIST","link",t,e);(t=n.getNode()).nlink++,r.createChild(i,t)},t.prototype.copyFileBase=function(t,e,r){var n=this.readFileSync(t);if(r&x&&this.existsSync(e))throw s("EEXIST","copyFile",t,e);if(r&Y)throw s("ENOSYS","copyFile",t,e);this.writeFileBase(e,n,N.w,438)},t.prototype.copyFileSync=function(t,e,r){return t=l(t),e=l(e),this.copyFileBase(t,e,0|(r||0))},t.prototype.copyFile=function(t,e,r,n){if(t=l(t),e=l(e),"function"==typeof r)var i=0;else i=r,r=n;h(r),this.wrapAsync(this.copyFileBase,[t,e,i],r)},t.prototype.linkSync=function(t,e){t=l(t),e=l(e),this.linkBase(t,e)},t.prototype.link=function(t,e,r){t=l(t),e=l(e),this.wrapAsync(this.linkBase,[t,e],r)},t.prototype.unlinkBase=function(t){var e=p(t);if(!(e=this.getLink(e)))throw s("ENOENT","unlink",t);if(e.length)throw Error("Dir not empty...");this.deleteLink(e),(t=e.getNode()).nlink--,0>=t.nlink&&this.deleteNode(t)},t.prototype.unlinkSync=function(t){t=l(t),this.unlinkBase(t)},t.prototype.unlink=function(t,e){t=l(t),this.wrapAsync(this.unlinkBase,[t],e)},t.prototype.symlinkBase=function(t,e){var r=p(e),n=this.getLinkParent(r);if(!n)throw s("ENOENT","symlink",t,e);if(r=r[r.length-1],n.getChild(r))throw s("EEXIST","symlink",t,e);return(e=n.createChild(r)).getNode().makeSymlink(p(t)),e},t.prototype.symlinkSync=function(t,e){t=l(t),e=l(e),this.symlinkBase(t,e)},t.prototype.symlink=function(t,e,r,n){r=h("function"==typeof r?r:n),t=l(t),e=l(e),this.wrapAsync(this.symlinkBase,[t,e],r)},t.prototype.realpathBase=function(t,e){var r=p(t);if(!(r=this.getResolvedLink(r)))throw s("ENOENT","realpath",t);return Zn.strToEncoding(r.getPath(),e)},t.prototype.realpathSync=function(t,e){return this.realpathBase(l(t),rt(e).encoding)},t.prototype.realpath=function(t,e,r){e=(r=nt(e,r))[0],r=r[1],t=l(t),this.wrapAsync(this.realpathBase,[t,e.encoding],r)},t.prototype.lstatBase=function(t,e){void 0===e&&(e=!1);var r=this.getLink(p(t));if(!r)throw s("ENOENT","lstat",t);return Xe.default.build(r.getNode(),e)},t.prototype.lstatSync=function(t,e){return this.lstatBase(l(t),i(e).bigint)},t.prototype.lstat=function(t,e,r){e=(r=n(e,r))[0],r=r[1],this.wrapAsync(this.lstatBase,[l(t),e.bigint],r)},t.prototype.statBase=function(t,e){void 0===e&&(e=!1);var r=this.getResolvedLink(p(t));if(!r)throw s("ENOENT","stat",t);return Xe.default.build(r.getNode(),e)},t.prototype.statSync=function(t,e){return this.statBase(l(t),i(e).bigint)},t.prototype.stat=function(t,e,r){e=(r=n(e,r))[0],r=r[1],this.wrapAsync(this.statBase,[l(t),e.bigint],r)},t.prototype.fstatBase=function(t,e){if(void 0===e&&(e=!1),!(t=this.getFileByFd(t)))throw s("EBADF","fstat");return Xe.default.build(t.node,e)},t.prototype.fstatSync=function(t,e){return this.fstatBase(t,i(e).bigint)},t.prototype.fstat=function(t,e,r){e=n(e,r),this.wrapAsync(this.fstatBase,[t,e[0].bigint],e[1])},t.prototype.renameBase=function(t,e){var r=this.getLink(p(t));if(!r)throw s("ENOENT","rename",t,e);var n=p(e),i=this.getLinkParent(n);if(!i)throw s("ENOENT","rename",t,e);(t=r.parent)&&t.deleteChild(r),r.steps=O(i.steps,[n[n.length-1]]),i.setChild(r.getName(),r)},t.prototype.renameSync=function(t,e){t=l(t),e=l(e),this.renameBase(t,e)},t.prototype.rename=function(t,e,r){t=l(t),e=l(e),this.wrapAsync(this.renameBase,[t,e],r)},t.prototype.existsBase=function(t){return!!this.statBase(t)},t.prototype.existsSync=function(t){try{return this.existsBase(l(t))}catch(t){return!1}},t.prototype.exists=function(t,e){var r=this,n=l(t);if("function"!=typeof e)throw Error(z.CB);ni.default((function(){try{e(r.existsBase(n))}catch(t){e(!1)}}))},t.prototype.accessBase=function(t){this.getLinkOrThrow(t,"access")},t.prototype.accessSync=function(t,e){void 0===e&&(e=H),t=l(t),this.accessBase(t,0|e)},t.prototype.access=function(t,e,r){var n=H;"function"!=typeof e&&(n=0|e,e=h(r)),t=l(t),this.wrapAsync(this.accessBase,[t,n],e)},t.prototype.appendFileSync=function(t,e,r){void 0===r&&(r=Q),(r=tt(r)).flag&&t>>>0!==t||(r.flag="a"),this.writeFileSync(t,e,r)},t.prototype.appendFile=function(t,e,r,n){r=(n=et(r,n))[0],n=n[1],r.flag&&t>>>0!==t||(r.flag="a"),this.writeFile(t,e,r,n)},t.prototype.readdirBase=function(t,e){var r=p(t);if(!(r=this.getResolvedLink(r)))throw s("ENOENT","readdir",t);if(!r.getNode().isDirectory())throw s("ENOTDIR","scandir",t);if(e.withFileTypes){var n=[];for(i in r.children)(t=r.getChild(i))&&n.push($n.default.build(t,e.encoding));return K||"buffer"===e.encoding||n.sort((function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})),n}var i=[];for(n in r.children)i.push(Zn.strToEncoding(n,e.encoding));return K||"buffer"===e.encoding||i.sort(),i},t.prototype.readdirSync=function(t,e){return e=st(e),t=l(t),this.readdirBase(t,e)},t.prototype.readdir=function(t,e,r){e=(r=at(e,r))[0],r=r[1],t=l(t),this.wrapAsync(this.readdirBase,[t,e],r)},t.prototype.readlinkBase=function(t,e){var r=this.getLinkOrThrow(t,"readlink").getNode();if(!r.isSymlink())throw s("EINVAL","readlink",t);return t=j+r.symlink.join(j),Zn.strToEncoding(t,e)},t.prototype.readlinkSync=function(t,e){return e=q(e),t=l(t),this.readlinkBase(t,e.encoding)},t.prototype.readlink=function(t,e,r){e=(r=X(e,r))[0],r=r[1],t=l(t),this.wrapAsync(this.readlinkBase,[t,e.encoding],r)},t.prototype.fsyncBase=function(t){this.getFileByFdOrThrow(t,"fsync")},t.prototype.fsyncSync=function(t){this.fsyncBase(t)},t.prototype.fsync=function(t,e){this.wrapAsync(this.fsyncBase,[t],e)},t.prototype.fdatasyncBase=function(t){this.getFileByFdOrThrow(t,"fdatasync")},t.prototype.fdatasyncSync=function(t){this.fdatasyncBase(t)},t.prototype.fdatasync=function(t,e){this.wrapAsync(this.fdatasyncBase,[t],e)},t.prototype.ftruncateBase=function(t,e){this.getFileByFdOrThrow(t,"ftruncate").truncate(e)},t.prototype.ftruncateSync=function(t,e){this.ftruncateBase(t,e)},t.prototype.ftruncate=function(t,e,r){var n="number"==typeof e?e:0;e=h("number"==typeof e?r:e),this.wrapAsync(this.ftruncateBase,[t,n],e)},t.prototype.truncateBase=function(t,e){t=this.openSync(t,"r+");try{this.ftruncateSync(t,e)}finally{this.closeSync(t)}},t.prototype.truncateSync=function(t,e){if(t>>>0===t)return this.ftruncateSync(t,e);this.truncateBase(t,e)},t.prototype.truncate=function(t,e,r){var n="number"==typeof e?e:0;if(e=h("number"==typeof e?r:e),t>>>0===t)return this.ftruncate(t,n,e);this.wrapAsync(this.truncateBase,[t,n],e)},t.prototype.futimesBase=function(t,e,r){(t=this.getFileByFdOrThrow(t,"futimes").node).atime=new Date(1e3*e),t.mtime=new Date(1e3*r)},t.prototype.futimesSync=function(t,e,r){this.futimesBase(t,m(e),m(r))},t.prototype.futimes=function(t,e,r,n){this.wrapAsync(this.futimesBase,[t,m(e),m(r)],n)},t.prototype.utimesBase=function(t,e,r){t=this.openSync(t,"r+");try{this.futimesBase(t,e,r)}finally{this.closeSync(t)}},t.prototype.utimesSync=function(t,e,r){this.utimesBase(l(t),m(e),m(r))},t.prototype.utimes=function(t,e,r,n){this.wrapAsync(this.utimesBase,[l(t),m(e),m(r)],n)},t.prototype.mkdirBase=function(t,e){var r=p(t);if(!r.length)throw s("EISDIR","mkdir",t);var n=this.getLinkParentAsDirOrThrow(t,"mkdir");if(r=r[r.length-1],n.getChild(r))throw s("EEXIST","mkdir",t);n.createChild(r,this.createNode(!0,e))},t.prototype.mkdirpBase=function(t,e){t=p(t);for(var r=this.root,n=0;n<t.length;n++){var i=t[n];if(!r.getNode().isDirectory())throw s("ENOTDIR","mkdir",r.getPath());var o=r.getChild(i);if(o){if(!o.getNode().isDirectory())throw s("ENOTDIR","mkdir",o.getPath());r=o}else r=r.createChild(i,this.createNode(!0,e))}},t.prototype.mkdirSync=function(t,e){var r=E((e=o(e)).mode,511);t=l(t),e.recursive?this.mkdirpBase(t,r):this.mkdirBase(t,r)},t.prototype.mkdir=function(t,e,r){var n=o(e);e=h("function"==typeof e?e:r),r=E(n.mode,511),t=l(t),n.recursive?this.wrapAsync(this.mkdirpBase,[t,r],e):this.wrapAsync(this.mkdirBase,[t,r],e)},t.prototype.mkdirpSync=function(t,e){this.mkdirSync(t,{mode:e,recursive:!0})},t.prototype.mkdirp=function(t,e,r){var n="function"==typeof e?void 0:e;e=h("function"==typeof e?e:r),this.mkdir(t,{mode:n,recursive:!0},e)},t.prototype.mkdtempBase=function(t,e,r){void 0===r&&(r=5);var n=t+this.genRndStr();try{return this.mkdirBase(n,511),Zn.strToEncoding(n,e)}catch(n){if("EEXIST"===n.code){if(1<r)return this.mkdtempBase(t,e,r-1);throw Error("Could not create temp dir.")}throw n}},t.prototype.mkdtempSync=function(t,e){if(e=q(e).encoding,!t||"string"!=typeof t)throw new TypeError("filename prefix is required");return _(t),this.mkdtempBase(t,e)},t.prototype.mkdtemp=function(t,e,r){if(e=(r=X(e,r))[0].encoding,r=r[1],!t||"string"!=typeof t)throw new TypeError("filename prefix is required");_(t)&&this.wrapAsync(this.mkdtempBase,[t,e],r)},t.prototype.rmdirBase=function(t,e){e=C({},ot,e);var r=this.getLinkAsDirOrThrow(t,"rmdir");if(r.length&&!e.recursive)throw s("ENOTEMPTY","rmdir",t);this.deleteLink(r)},t.prototype.rmdirSync=function(t,e){this.rmdirBase(l(t),e)},t.prototype.rmdir=function(t,e,r){var n=C({},ot,e);e=h("function"==typeof e?e:r),this.wrapAsync(this.rmdirBase,[l(t),n],e)},t.prototype.fchmodBase=function(t,e){this.getFileByFdOrThrow(t,"fchmod").chmod(e)},t.prototype.fchmodSync=function(t,e){this.fchmodBase(t,E(e))},t.prototype.fchmod=function(t,e,r){this.wrapAsync(this.fchmodBase,[t,E(e)],r)},t.prototype.chmodBase=function(t,e){t=this.openSync(t,"r+");try{this.fchmodBase(t,e)}finally{this.closeSync(t)}},t.prototype.chmodSync=function(t,e){e=E(e),t=l(t),this.chmodBase(t,e)},t.prototype.chmod=function(t,e,r){e=E(e),t=l(t),this.wrapAsync(this.chmodBase,[t,e],r)},t.prototype.lchmodBase=function(t,e){t=this.openBase(t,B,0,!1);try{this.fchmodBase(t,e)}finally{this.closeSync(t)}},t.prototype.lchmodSync=function(t,e){e=E(e),t=l(t),this.lchmodBase(t,e)},t.prototype.lchmod=function(t,e,r){e=E(e),t=l(t),this.wrapAsync(this.lchmodBase,[t,e],r)},t.prototype.fchownBase=function(t,e,r){this.getFileByFdOrThrow(t,"fchown").chown(e,r)},t.prototype.fchownSync=function(t,e,r){I(e),A(r),this.fchownBase(t,e,r)},t.prototype.fchown=function(t,e,r,n){I(e),A(r),this.wrapAsync(this.fchownBase,[t,e,r],n)},t.prototype.chownBase=function(t,e,r){this.getResolvedLinkOrThrow(t,"chown").getNode().chown(e,r)},t.prototype.chownSync=function(t,e,r){I(e),A(r),this.chownBase(l(t),e,r)},t.prototype.chown=function(t,e,r,n){I(e),A(r),this.wrapAsync(this.chownBase,[l(t),e,r],n)},t.prototype.lchownBase=function(t,e,r){this.getLinkOrThrow(t,"lchown").getNode().chown(e,r)},t.prototype.lchownSync=function(t,e,r){I(e),A(r),this.lchownBase(l(t),e,r)},t.prototype.lchown=function(t,e,r,n){I(e),A(r),this.wrapAsync(this.lchownBase,[l(t),e,r],n)},t.prototype.watchFile=function(t,e,r){t=l(t);var n=e;if("function"==typeof n&&(r=e,n=null),"function"!=typeof r)throw Error(\'"watchFile()" requires a listener function\');e=5007;var i=!0;return n&&"object"==typeof n&&("number"==typeof n.interval&&(e=n.interval),"boolean"==typeof n.persistent&&(i=n.persistent)),(n=this.statWatchers[t])||((n=new this.StatWatcher).start(t,i,e),this.statWatchers[t]=n),n.addListener("change",r),n},t.prototype.unwatchFile=function(t,e){t=l(t);var r=this.statWatchers[t];r&&("function"==typeof e?r.removeListener("change",e):r.removeAllListeners("change"),0===r.listenerCount("change")&&(r.stop(),delete this.statWatchers[t]))},t.prototype.createReadStream=function(t,e){return new this.ReadStream(t,e)},t.prototype.createWriteStream=function(t,e){return new this.WriteStream(t,e)},t.prototype.watch=function(t,e,r){t=l(t);var n=e;"function"==typeof e&&(r=e,n=null);var i=q(n);e=i.persistent,n=i.recursive,i=i.encoding,void 0===e&&(e=!0),void 0===n&&(n=!1);var o=new this.FSWatcher;return o.start(t,e,n,i),r&&o.addListener("change",r),o},t.fd=2147483647,t}(),e.Volume=t;var ct,lt=function(t){function e(e){var r=t.call(this)||this;return r.onInterval=function(){try{var t=r.vol.statSync(r.filename);r.hasChanged(t)&&(r.emit("change",t,r.prev),r.prev=t)}finally{r.loop()}},r.vol=e,r}return R(e,t),e.prototype.loop=function(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)},e.prototype.hasChanged=function(t){return t.mtimeMs>this.prev.mtimeMs||t.nlink!==this.prev.nlink},e.prototype.start=function(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=5007),this.filename=l(t),this.setTimeout=e?setTimeout:pi.default,this.interval=r,this.prev=this.vol.statSync(this.filename),this.loop()},e.prototype.stop=function(){clearTimeout(this.timeoutRef),ii.default.nextTick(v,this)},e}(si.EventEmitter);e.StatWatcher=lt,Cn.inherits(w,eo.Readable),e.ReadStream=w,w.prototype.open=function(){var t=this;this._vol.open(this.path,this.flags,this.mode,(function(e,r){e?(t.autoClose&&t.destroy&&t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r),t.read())}))},w.prototype._read=function(t){if("number"!=typeof this.fd)return this.once("open",(function(){this._read(t)}));if(!this.destroyed){(!ct||128>ct.length-ct.used)&&((ct=Ur.bufferAllocUnsafe(this._readableState.highWaterMark)).used=0);var e=ct,r=Math.min(ct.length-ct.used,t),n=ct.used;if(void 0!==this.pos&&(r=Math.min(this.end-this.pos+1,r)),0>=r)return this.push(null);var i=this;this._vol.read(this.fd,ct,ct.used,r,this.pos,(function(t,r){t?(i.autoClose&&i.destroy&&i.destroy(),i.emit("error",t)):(t=null,0<r&&(i.bytesRead+=r,t=e.slice(n,n+r)),i.push(t))})),void 0!==this.pos&&(this.pos+=r),ct.used+=r}},w.prototype._destroy=function(t,e){this.close((function(r){e(t||r)}))},w.prototype.close=function(t){var e=this;if(t&&this.once("close",t),this.closed||"number"!=typeof this.fd)return"number"!=typeof this.fd?void this.once("open",T):ii.default.nextTick((function(){return e.emit("close")}));this.closed=!0,this._vol.close(this.fd,(function(t){t?e.emit("error",t):e.emit("close")})),this.fd=null},Cn.inherits(b,eo.Writable),e.WriteStream=b,b.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(t,e){t?(this.autoClose&&this.destroy&&this.destroy(),this.emit("error",t)):(this.fd=e,this.emit("open",e))}.bind(this))},b.prototype._write=function(t,e,r){if(!(t instanceof Ur.Buffer))return this.emit("error",Error("Invalid data"));if("number"!=typeof this.fd)return this.once("open",(function(){this._write(t,e,r)}));var n=this;this._vol.write(this.fd,t,0,t.length,this.pos,(function(t,e){if(t)return n.autoClose&&n.destroy&&n.destroy(),r(t);n.bytesWritten+=e,r()})),void 0!==this.pos&&(this.pos+=t.length)},b.prototype._writev=function(t,e){if("number"!=typeof this.fd)return this.once("open",(function(){this._writev(t,e)}));for(var r=this,n=t.length,i=Array(n),o=0,s=0;s<n;s++){var a=t[s].chunk;i[s]=a,o+=a.length}n=Ur.Buffer.concat(i),this._vol.write(this.fd,n,0,n.length,this.pos,(function(t,n){if(t)return r.destroy&&r.destroy(),e(t);r.bytesWritten+=n,e()})),void 0!==this.pos&&(this.pos+=o)},b.prototype._destroy=w.prototype._destroy,b.prototype.close=w.prototype.close,b.prototype.destroySoon=b.prototype.end;var pt=function(t){function e(e){var r=t.call(this)||this;return r._filename="",r._filenameEncoded="",r._recursive=!1,r._encoding=Zn.ENCODING_UTF8,r._onNodeChange=function(){r._emit("change")},r._onParentChild=function(t){t.getName()===r._getName()&&r._emit("rename")},r._emit=function(t){r.emit("change",t,r._filenameEncoded)},r._persist=function(){r._timer=setTimeout(r._persist,1e6)},r._vol=e,r}return R(e,t),e.prototype._getName=function(){return this._steps[this._steps.length-1]},e.prototype.start=function(t,e,r,n){void 0===e&&(e=!0),void 0===r&&(r=!1),void 0===n&&(n=Zn.ENCODING_UTF8),this._filename=l(t),this._steps=p(this._filename),this._filenameEncoded=Zn.strToEncoding(this._filename),this._recursive=r,this._encoding=n;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(t){throw(e=Error("watch "+this._filename+" "+t.code)).code=t.code,e.errno=t.code,e}this._link.getNode().on("change",this._onNodeChange),this._link.on("child:add",this._onNodeChange),this._link.on("child:delete",this._onNodeChange),(t=this._link.parent)&&(t.setMaxListeners(t.getMaxListeners()+1),t.on("child:delete",this._onParentChild)),e&&this._persist()},e.prototype.close=function(){clearTimeout(this._timer),this._link.getNode().removeListener("change",this._onNodeChange);var t=this._link.parent;t&&t.removeListener("child:delete",this._onParentChild)},e}(si.EventEmitter);e.FSWatcher=pt}));Ve(Uo);var Mo=Uo.pathToFilename,ko=Uo.filenameToSteps,Go=Uo.Volume,Ho=Ke((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fsProps="constants F_OK R_OK W_OK X_OK Stats".split(" "),e.fsSyncMethods="renameSync ftruncateSync truncateSync chownSync fchownSync lchownSync chmodSync fchmodSync lchmodSync statSync lstatSync fstatSync linkSync symlinkSync readlinkSync realpathSync unlinkSync rmdirSync mkdirSync mkdirpSync readdirSync closeSync openSync utimesSync futimesSync fsyncSync writeSync readSync readFileSync writeFileSync appendFileSync existsSync accessSync fdatasyncSync mkdtempSync copyFileSync createReadStream createWriteStream".split(" "),e.fsAsyncMethods="rename ftruncate truncate chown fchown lchown chmod fchmod lchmod stat lstat fstat link symlink readlink realpath unlink rmdir mkdir mkdirp readdir close open utimes futimes fsync write read readFile writeFile appendFile exists access fdatasync mkdtemp copyFile watchFile unwatchFile watch".split(" ")}));Ve(Ho);var xo=Ke((function(t,e){function r(t){for(var e={F_OK:s,R_OK:a,W_OK:f,X_OK:u,constants:ze.constants,Stats:Xe.default,Dirent:$n.default},r=0,n=i;r<n.length;r++){var h=n[r];"function"==typeof t[h]&&(e[h]=t[h].bind(t))}for(r=0,n=o;r<n.length;r++)"function"==typeof t[h=n[r]]&&(e[h]=t[h].bind(t));return e.StatWatcher=t.StatWatcher,e.FSWatcher=t.FSWatcher,e.WriteStream=t.WriteStream,e.ReadStream=t.ReadStream,e.promises=t.promises,e._toUnixTimestamp=Uo.toUnixTimestamp,e}var n=je&&je.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=Ho.fsSyncMethods,o=Ho.fsAsyncMethods,s=ze.constants.F_OK,a=ze.constants.R_OK,f=ze.constants.W_OK,u=ze.constants.X_OK;e.Volume=Uo.Volume,e.vol=new Uo.Volume,e.createFsFromVolume=r,e.fs=r(e.vol),t.exports=n(n({},t.exports),e.fs),t.exports.semantic=!0}));Ve(xo);var Yo=xo.createFsFromVolume;li.prototype.emit=function(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];i=this.listeners(t);try{for(var o=He(i),s=o.next();!s.done;s=o.next()){var a=s.value;try{a.apply(void 0,Ye(n))}catch(t){console.error(t)}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return 0<i.length};var jo=function(){function t(){this.volume=new Go,this.fs=Yo(this.volume),this.fromJSON({"/dev/stdin":"","/dev/stdout":"","/dev/stderr":""})}return t.prototype._toJSON=function(t,e,r){void 0===e&&(e={});var n,i=!0;for(n in t.children){i=!1;var o=t.getChild(n);if(o){var s=o.getNode();s&&s.isFile()?(o=o.getPath(),r&&(o=ti(r,o)),e[o]=s.getBuffer()):s&&s.isDirectory()&&this._toJSON(o,e,r)}}return t=t.getPath(),r&&(t=ti(r,t)),t&&i&&(e[t]=null),e},t.prototype.toJSON=function(t,e,r){var n,i;void 0===e&&(e={}),void 0===r&&(r=!1);var o=[];if(t){t instanceof Array||(t=[t]);try{for(var s=He(t),a=s.next();!a.done;a=s.next()){var f=Mo(a.value),u=this.volume.getResolvedLink(f);u&&o.push(u)}}catch(t){var h={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(h)throw h.error}}}else o.push(this.volume.root);if(!o.length)return e;try{for(var c=He(o),l=c.next();!l.done;l=c.next())u=l.value,this._toJSON(u,e,r?u.getPath():"")}catch(t){var p={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(p)throw p.error}}return e},t.prototype.fromJSONFixed=function(t,e){for(var r in e){var n=e[r];if(n?null!==Object.getPrototypeOf(n):null!==n){var i=ko(r);1<i.length&&(i="/"+i.slice(0,i.length-1).join("/"),t.mkdirpBase(i,511)),t.writeFileSync(r,n||"")}else t.mkdirpBase(r,511)}},t.prototype.fromJSON=function(t){this.volume=new Go,this.fromJSONFixed(this.volume,t),this.fs=Yo(this.volume),this.volume.releasedFds=[0,1,2],t=this.volume.openSync("/dev/stderr","w");var e=this.volume.openSync("/dev/stdout","w"),r=this.volume.openSync("/dev/stdin","r");if(2!==t)throw Error("invalid handle for stderr: "+t);if(1!==e)throw Error("invalid handle for stdout: "+e);if(0!==r)throw Error("invalid handle for stdin: "+r)},t.prototype.getStdOut=function(){return function(t,e,r,n){return new(r||(r=Promise))((function(e,i){function o(t){try{a(n.next(t))}catch(t){i(t)}}function s(t){try{a(n.throw(t))}catch(t){i(t)}}function a(t){t.done?e(t.value):new r((function(e){e(t.value)})).then(o,s)}a((n=n.apply(t,[])).next())}))}(this,0,void 0,(function(){var t=this;return function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;f;)try{if(i=1,o&&(s=2&r[0]?o.return:r[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,r[1])).done)return s;switch(o=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return f.label++,{value:r[1],done:!1};case 5:f.label++,o=r[1],r=[0];continue;case 7:r=f.ops.pop(),f.trys.pop();continue;default:if(!((s=0<(s=f.trys).length&&s[s.length-1])||6!==r[0]&&2!==r[0])){f=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3]))f.label=r[1];else if(6===r[0]&&f.label<s[1])f.label=s[1],s=r;else{if(!(s&&f.label<s[2])){s[2]&&f.ops.pop(),f.trys.pop();continue}f.label=s[2],f.ops.push(r)}}r=e.call(t,f)}catch(t){r=[6,t],o=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,o,s,a,f={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}(this,(function(){return[2,new Promise((function(e){e(t.fs.readFileSync("/dev/stdout","utf8"))}))]}))}))},t}();const Vo=class{programName;wasmModule;constructor(t,e){this.programName=t,this.wasmModule=e}run(t,e,r,n,i,o,s,a,f){console.log("wasmer runnable run:",this.programName,t),"function"!=typeof e&&(e=()=>{}),"function"!=typeof r&&(r=()=>{}),"function"!=typeof n&&(n=()=>{}),i instanceof Array||(i=[]),"function"!=typeof o&&(o=()=>{}),"function"!=typeof s&&(s=t=>{console.error(t)}),"function"!=typeof a&&(a=()=>{});const u=new jo;if(this._writeFilesToFS(u,i),u.volume.fds[0].node.read=e,f){"string"!=typeof f&&(f=(f||"").toString());let t=0;u.volume.fds[0].node.read=e=>{if(t%2!=0)return t++,0;for(let t=0;t<f.length;t++)e[t]=f.charCodeAt(t);return t++,f.length}}u.volume.fds[1].node.write=(t,e,n,i)=>(r(new TextDecoder("utf-8").decode(t)),t.length),u.volume.fds[2].node.write=(t,e,r,i)=>(n(new TextDecoder("utf-8").decode(t)),t.length);const h=u.volume.openSync("/dev/tty","w+");u.volume.fds[h].node.read=u.volume.fds[0].node.read,u.volume.fds[h].node.write=u.volume.fds[1].node.write;let c=new ke({args:[this.programName,...t],env:{},bindings:{...Ge.A,fs:u.fs},preopens:{".":".","/":"/"}});const l=c.getImports(this.wasmModule);WebAssembly.instantiate(this.wasmModule,{...l}).then((t=>{let e;try{this._writeFilesToFS(u,i);try{c.start(t)}catch(t){0!=t.code&&Ge.A.exit(t.code)}e=this._readFilesFromFS(u),a(e)}catch(t){s(t.message)}finally{o(e||i)}}))}runHeadless(t,e,r,n,i,o){console.log("wasmer runnable run headless:",this.programName,t),"function"!=typeof r&&(r=()=>{});let s="",a="",f="";this.run(t,(()=>(console.log("called runHeadless stdin"),0)),(t=>(s+=t,a+=t,t.length)),(t=>(s+=t,f+=t,t.length)),e,(()=>r({output:s,stdout:a,stderr:f})),n,i,o)}_readFilesFromFS(t,e="/"){const r=t.volume.toJSON(e),n=["/dev/stdin","/dev/stdout","/dev/stderr","/dev/tty"];return Object.entries(r).filter((([t,e])=>!n.includes(t))).map((([t,e])=>({name:t,timestamp:Date.now(),bytes:(new TextEncoder).encode(e)})))}_writeFilesToFS(t,e=[]){e.forEach((e=>{try{if(e.bytes instanceof Uint8Array){const r=e.name.split("/").slice(0,-1).join("/");t.fs.mkdirSync(r,{recursive:!0}),t.fs.writeFileSync(e.name,e.bytes)}}catch(t){console.error(t.name+": "+t.message)}}))}},Ko=class{outputBuffer;constructor(){this.outputBuffer=""}runCommand(t,e,r,n,i,o,s,a,f,u,h,c,l){"function"!=typeof f&&(f=()=>{}),"function"!=typeof u&&(u=t=>{console.error(t)}),"function"!=typeof h&&(h=()=>{});const p=t=>{this.outputBuffer+="number"==typeof t?String.fromCharCode(t):t},d=t=>(p(t),o(t)),y=t=>(p(t),s(t));if("emscripten"==r){console.log("wasm runner creates new emscr runnable");const r=t=>this._onEmscrStdinCall(t,i,d,y);new I(t,e,l).run(n,r,d,y,a,f,u,h,c)}else{if("wasmer"!=r)throw new Error("Unknown wasm module type (can only handle emscripten or wasmer)");{console.log("wasm runner creates new wasmer runnable");let r=new Vo(t,e);this._wasmerStdinCallCounter=0;const o=t=>this._onWasmerStdinCall(t,i,d,y);r.run(n,o,d,y,a,f,u,h,c)}}}runCommandHeadless(t,e,r,n,i,o,s,a,f,u){if("function"!=typeof o&&(o=()=>{}),"function"!=typeof s&&(s=t=>{console.error(t)}),"function"!=typeof a&&(a=()=>{}),"emscripten"==r)console.log("wasm runner creates new emscr runnable"),new I(t,e,u).runHeadless(n,i,o,s,a,f);else{if("wasmer"!=r)throw new Error("Unknown wasm module type (can only handle emscripten or wasmer)");new Vo(t,e).runHeadless(n,i,o,s,a,f)}}_onEmscrStdinCall(t,e,r,n){if(0==t.input.length){const e=this.outputBuffer.split(/\\r?\\n/g).pop(),n=window.prompt(e);if(null==n)return null;r(n+"\\r\\n"),t.input=(n+"\\n").split("").map((t=>t.charCodeAt(0))),t.input.push(null)}return t.input.shift()}_wasmerStdinCallCounter=0;_onWasmerStdinCall(t,e,r,n){if(this._wasmerStdinCallCounter%2!=0)return this._wasmerStdinCallCounter++,0;const i=this.outputBuffer.split(/\\r?\\n/g).pop(),o=window.prompt(i);return null==o?0:(r(o+"\\r\\n"),Array.from(o).forEach(((e,r)=>t[r]=e.charCodeAt(0))),this._wasmerStdinCallCounter++,o.length)}};class zo extends Ko{#e;#r;constructor(t,e){super(),this.#e=t,this.#r=e}pauseExecution(){console.log("pausing worker execution"),Atomics.store(this.#e,0,1),Atomics.wait(this.#e,0,1),console.log("resuming worker execution")}resumeExecution(){console.log("resuming worker execution"),Atomics.store(this.#e,0,0)}#n(t=null){if(null!=t)return Atomics.load(this.#r,t);let e=[];for(let t=0;t<this.#r.length;t++){const r=Atomics.load(this.#r,t);if(0===r)break;e.push(r)}return e}_onEmscrStdinCall(t,e,r,n){if(0==t.input.length){if(e(this.outputBuffer.split(/\\r?\\n/g).pop()),this.pauseExecution(),t.input=this.#n(),this.outputBuffer+=t.input.map((t=>String.fromCharCode(t))).join(""),0==t.input.length)return null;t.input.push(null)}return t.input.shift()}_onWasmerStdinCall(t,e,r,n){if(this._wasmerStdinCallCounter%2!=0)return this._wasmerStdinCallCounter++,0;e(this.outputBuffer.split(/\\r?\\n/g).pop()),this.pauseExecution();const i=this.#n();return i.forEach(((e,r)=>t[r]=e)),this.outputBuffer+=i.map((t=>String.fromCharCode(t))).join(""),this._wasmerStdinCallCounter++,i.length}static expose(){u(zo)}static isWorkerScope(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}}zo.isWorkerScope()&&zo.expose();const qo=zo})(),n})()));'],{type:"application/javascript"});this._workerRAW=new Worker(URL.createObjectURL(e));const r=l(this._workerRAW);this._worker=await new r(this._pauseBuffer,this._stdinBuffer),t(this._worker)}))}_resumeWorker(){console.log("resuming worker (request)"),Atomics.store(this._pauseBuffer,0,0),Atomics.notify(this._pauseBuffer,0)}_terminateWorker(){console.log("called terminate worker"),this._workerRAW.terminate()}_waitForOutputPause(t=80,e=20){return new Promise((r=>{const n=()=>{setTimeout((()=>{this._lastOutputTime>Date.now()-t?n():r()}),e)};n()}))}_setStdinBuffer(t){for(let e=0;e<this._stdinBuffer.length;e++)this._stdinBuffer[e]=t[e]?t[e].charCodeAt(0):0}_stdinProxy=E((t=>{this._waitForOutputPause().then((async()=>{console.log("called _stdinProxy",t);const e=await new Promise(((t,e)=>{let r="";const n=this._xterm.onData((e=>""==e?(this._xterm.write("^C"),n.dispose(),t("")):""==e?(n.dispose(),t(r)):("\r"==e?e="\n":""==e&&(e="\b"),"\b"==e?r=r.slice(0,-1):r+=e,void("\n"==e?this._xterm.write("\r\n"):"\b"==e?this._xterm.write("^H"):27==e.charCodeAt(0)?this._xterm.write("^["+e.slice(1)):this._xterm.write(e)))))}));this._setStdinBuffer(e),this._resumeWorker()}))}));_stdoutProxy=E((t=>this._stdoutBuffer.write(t)));_stderrProxy=E((t=>this._stderrBuffer.write(t)));_stdoutBuffer=new D(this._stdout.bind(this));_stderrBuffer=new D(this._stderr.bind(this));_stdout(t){this._suppressOutputs||("number"==typeof t&&(t=String.fromCharCode(t)),t=t.replace(/\n/g,"\r\n"),this._outputBuffer+=t,this._lastOutputTime=Date.now(),this._xterm.write(t))}_stderr(t){t instanceof Error&&(console.error("stderr error:",t),t=t.toString()+"\n"),this._stdout(t)}async printWelcomeMessage(){let t="[1;32m\n _ _ _                  _ _ _     _      _____               \r\n| | | |___ ___ _____   | | | |___| |_   |_   _|___ ___ _____ \r\n| | | | .'|_ -|     |  | | | | -_| . |    | | | -_|  _|     |\r\n|_____|__,|___|_|_|_|  |_____|___|___|    |_| |___|_| |_|_|_|\r\n            [37m\r\n";return t+="Run WebAssembly binaries compiled with Emscripten or Wasmer.\r\n",t+="You can also define and run custom JavaScript functions.\r\n\r\n",t+="Version: 0.0.7. ",t+="Backend: "+(this._worker?"WebWorker":"Prompts Fallback")+".\r\n",t+="Commands: "+[...this._jsCommands].map((t=>t[0])).sort().join(", ")+". ",t}async printWelcomeMessagePlusControlSequences(){return"c[0;37m"+await this.printWelcomeMessage()+"[0;37m\r\n"}_onXtermData(t){""==t&&this._worker&&(this._suppressOutputs=!0,this._terminateWorker(),this._initWorker(),this._runWasmCommandPromise?.reject("Ctrl + C"),this.isRunningCommand=!1)}}})(),n})()));
//# sourceMappingURL=webterm.bundle.js.map